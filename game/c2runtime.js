// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var y,ca,da,fa,ha,ja,ka,la,ma,na,oa,qa,ra,sa,ta,va,wa,xa,ya,za,Ba,Da,Ea,Ga,G,Ia,Ja,Ma,Na,Oa,J,Pa,Qa,Sa,Ta,Ua,Va,Ya,Za,db,eb,fb,gb,ib,pb,qb,rb,tb,wb,xb,yb,Eb,Fb,Mb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,Ac,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,h,c){this.set(a,b,h,c)}function c(){this.Sc=this.Rc=this.Uc=this.Tc=this.ed=this.dd=this.gc=this.fc=0}function b(a,b,h,c){a<b?h<c?(r=a<h?a:h,t=b>c?b:c):(r=a<c?a:c,t=b>h?b:h):h<c?(r=b<h?b:h,t=a>c?a:c):(r=b<c?b:c,t=a>h?a:h)}function d(){this.items=this.Yf=null;this.Wk=0;w&&(this.Yf=new Set);this.Uj=[];this.eh=!0}function f(a){E[z++]=a}function k(){this.Fa=this.jo=this.y=this.D=0}function e(a){this.cc=[];this.km=this.mm=this.nm=this.lm=0;this.Cm=null;this.Bl(a)}function l(a,
b){this.Yo=a;this.Xo=b;this.cells={}}function g(a,b){this.Yo=a;this.Xo=b;this.cells={}}function m(a,b,h){var c;return F.length?(c=F.pop(),c.Fp=a,c.x=b,c.y=h,c):new da(a,b,h)}function h(a,b,h){this.Fp=a;this.x=b;this.y=h;this.Lc=new fa}function n(a,b,h){var c;return B.length?(c=B.pop(),c.Fp=a,c.x=b,c.y=h,c):new ha(a,b,h)}function q(a,b,h){this.Fp=a;this.x=b;this.y=h;this.Lc=[];this.qj=!0;this.Sf=new fa;this.hk=!1}function p(a,b){return a.xf-b.xf}ja=function(a){window.console&&window.console.log&&window.console.log(a)};
ka=function(a){window.console&&window.console.error&&window.console.error(a)};ca=function(a){return a};la=function(a){return"undefined"===typeof a};ma=function(a){return"number"===typeof a};na=function(a){return"string"===typeof a};oa=function(a){return 0<a&&0===(a-1&a)};qa=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};ra=function(a){return 0>a?-a:a};sa=function(a,b){return a>b?a:b};ta=function(a,b){return a<b?a:b};va=Math.PI;wa=function(a){return 0<=a?a|0:(a|0)-1};xa=function(a){var b=
a|0;return b===a?b:b+1};ya=function(a,b,h,c,l,g,m,d){var n,e,f,k;a<h?(e=a,n=h):(e=h,n=a);l<m?(k=l,f=m):(k=m,f=l);if(n<k||e>f)return!1;b<c?(e=b,n=c):(e=c,n=b);g<d?(k=g,f=d):(k=d,f=g);if(n<k||e>f)return!1;n=l-a+m-h;e=g-b+d-c;a=h-a;b=c-b;l=m-l;g=d-g;d=ra(b*l-g*a);return ra(l*e-g*n)>d?!1:ra(a*e-b*n)<=d};a.prototype.set=function(a,b,h,c){this.left=a;this.top=b;this.right=h;this.bottom=c};a.prototype.nk=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=
function(){return this.right-this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.mA=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.nA=
function(a,b,h){return!(a.right+b<this.left||a.bottom+h<this.top||a.left+b>this.right||a.top+h>this.bottom)};a.prototype.jd=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.rk=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};za=a;c.prototype.Al=function(a){this.fc=a.left;this.gc=a.top;this.dd=a.right;this.ed=a.top;this.Tc=a.right;this.Uc=a.bottom;this.Rc=a.left;this.Sc=a.bottom};c.prototype.hv=function(a,
b){if(0===b)this.Al(a);else{var h=Math.sin(b),c=Math.cos(b),l=a.left*h,g=a.top*h,m=a.right*h,h=a.bottom*h,d=a.left*c,n=a.top*c,e=a.right*c,c=a.bottom*c;this.fc=d-g;this.gc=n+l;this.dd=e-g;this.ed=n+m;this.Tc=e-h;this.Uc=c+m;this.Rc=d-h;this.Sc=c+l}};c.prototype.offset=function(a,b){this.fc+=a;this.gc+=b;this.dd+=a;this.ed+=b;this.Tc+=a;this.Uc+=b;this.Rc+=a;this.Sc+=b;return this};var r=0,t=0;c.prototype.rs=function(a){b(this.fc,this.dd,this.Tc,this.Rc);a.left=r;a.right=t;b(this.gc,this.ed,this.Uc,
this.Sc);a.top=r;a.bottom=t};c.prototype.jd=function(a,b){var h=this.fc,c=this.gc,l=this.dd-h,g=this.ed-c,m=this.Tc-h,d=this.Uc-c,n=a-h,e=b-c,f=l*l+g*g,k=l*m+g*d,g=l*n+g*e,q=m*m+d*d,p=m*n+d*e,r=1/(f*q-k*k),l=(q*g-k*p)*r,f=(f*p-k*g)*r;if(0<=l&&0<f&&1>l+f)return!0;l=this.Rc-h;g=this.Sc-c;f=l*l+g*g;k=l*m+g*d;g=l*n+g*e;r=1/(f*q-k*k);l=(q*g-k*p)*r;f=(f*p-k*g)*r;return 0<=l&&0<f&&1>l+f};c.prototype.me=function(a,b){if(b)switch(a){case 0:return this.fc;case 1:return this.dd;case 2:return this.Tc;case 3:return this.Rc;
case 4:return this.fc;default:return this.fc}else switch(a){case 0:return this.gc;case 1:return this.ed;case 2:return this.Uc;case 3:return this.Sc;case 4:return this.gc;default:return this.gc}};c.prototype.Ah=function(){return(this.fc+this.dd+this.Tc+this.Rc)/4};c.prototype.Bh=function(){return(this.gc+this.ed+this.Uc+this.Sc)/4};c.prototype.jt=function(a){var b=a.Ah(),h=a.Bh();if(this.jd(b,h))return!0;b=this.Ah();h=this.Bh();if(a.jd(b,h))return!0;var c,l,g,m,d,n,e,f;for(e=0;4>e;e++)for(f=0;4>f;f++)if(b=
this.me(e,!0),h=this.me(e,!1),c=this.me(e+1,!0),l=this.me(e+1,!1),g=a.me(f,!0),m=a.me(f,!1),d=a.me(f+1,!0),n=a.me(f+1,!1),ya(b,h,c,l,g,m,d,n))return!0;return!1};Ba=c;Da=function(a,b){for(var h in b)b.hasOwnProperty(h)&&(a[h]=b[h]);return a};Ea=function(a,b){var h,c;b=wa(b);if(!(0>b||b>=a.length)){h=b;for(c=a.length-1;h<c;h++)a[h]=a[h+1];Ga(a,c)}};Ga=function(a,b){a.length=b};G=function(a){Ga(a,0)};Ia=function(a,b){G(a);var h,c;h=0;for(c=b.length;h<c;++h)a[h]=b[h]};Ja=function(a,b){a.push.apply(a,
b)};Ma=function(a,b){var h,c;h=0;for(c=a.length;h<c;++h)if(a[h]===b)return h;return-1};Na=function(a,b){var h=Ma(a,b);-1!==h&&Ea(a,h)};Oa=function(a,b,h){return a<b?b:a>h?h:a};J=function(a){return a/(180/va)};Pa=function(a){return 180/va*a};Qa=function(a){a%=360;0>a&&(a+=360);return a};Sa=function(a){a%=2*va;0>a&&(a+=2*va);return a};Ta=function(a){return Qa(Pa(a))};Ua=function(a){return Sa(J(a))};Va=function(a,b,h,c){return Math.atan2(c-b,h-a)};Ya=function(a,b){if(a===b)return 0;var h=Math.sin(a),
c=Math.cos(a),l=Math.sin(b),g=Math.cos(b),h=h*l+c*g;return 1<=h?0:-1>=h?va:Math.acos(h)};Za=function(a,b,h){var c=Math.sin(a),l=Math.cos(a),g=Math.sin(b),m=Math.cos(b);return Math.acos(c*g+l*m)>h?0<l*g-c*m?Sa(a+h):Sa(a-h):Sa(b)};db=function(a,b){var h=Math.sin(a),c=Math.cos(a),l=Math.sin(b),g=Math.cos(b);return 0>=c*l-h*g};eb=function(a,b,h,c,l,g){if(0===h)return g?a:b;var m=Math.sin(h);h=Math.cos(h);a-=c;b-=l;var d=a*m;a=a*h-b*m;b=b*h+d;return g?a+c:b+l};fb=function(a,b,h,c){a=h-a;b=c-b;return Math.sqrt(a*
a+b*b)};gb=function(a,b){return!a!==!b};ib=function(a,b,h){return a+(b-a)*h};pb=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};qb=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var u=+new Date;rb=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-
u};var v=!1,A=v=!1,C=!1;"undefined"!==typeof window&&(v=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),v=!v&&/safari/i.test(navigator.userAgent),A=/(iphone|ipod|ipad)/i.test(navigator.userAgent),C=window.c2ejecta);var w=!v&&!C&&!A&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.wg()?!1:w?this.Yf.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(w)this.Yf.has(a)||(this.Yf.add(a),
this.eh=!1);else{var b=a.toString(),h=this.items;h?h.hasOwnProperty(b)||(h[b]=a,this.Wk++,this.eh=!1):(this.items={},this.items[b]=a,this.Wk=1,this.eh=!1)}};d.prototype.remove=function(a){if(!this.wg())if(w)this.Yf.has(a)&&(this.Yf["delete"](a),this.eh=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.Wk--,this.eh=!1)}};d.prototype.clear=function(){this.wg()||(w?this.Yf.clear():(this.items=null,this.Wk=0),G(this.Uj),this.eh=!0)};d.prototype.wg=function(){return 0===
this.count()};d.prototype.count=function(){return w?this.Yf.size:this.Wk};var E=null,z=0;d.prototype.QB=function(){if(!this.eh){if(w)G(this.Uj),E=this.Uj,z=0,this.Yf.forEach(f),E=null,z=0;else{var a=this.Uj;G(a);var b,h=0,c=this.items;if(c)for(b in c)c.hasOwnProperty(b)&&(a[h++]=c[b])}this.eh=!0}};d.prototype.dg=function(){this.QB();return this.Uj};fa=d;new fa;tb=function(a,b){w?wb(a,b.Yf):xb(a,b.dg())};wb=function(a,b){var h,c,l,g;c=h=0;for(l=a.length;h<l;++h)g=a[h],b.has(g)||(a[c++]=g);Ga(a,c)};
xb=function(a,b){var h,c,l,g;c=h=0;for(l=a.length;h<l;++h)g=a[h],-1===Ma(b,g)&&(a[c++]=g);Ga(a,c)};k.prototype.add=function(a){this.y=a-this.D;this.jo=this.Fa+this.y;this.D=this.jo-this.Fa-this.y;this.Fa=this.jo};k.prototype.reset=function(){this.Fa=this.jo=this.y=this.D=0};yb=k;Eb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.prototype.Bl=function(a){this.Ku=a;this.ze=a.length/2;this.cc.length=a.length;this.tm=this.um=-1;this.us=0};e.prototype.si=function(){return!this.Ku.length};
e.prototype.lb=function(){for(var a=this.cc,b=a[0],h=b,c=a[1],l=c,g,m,d=1,n=this.ze;d<n;++d)m=2*d,g=a[m],m=a[m+1],g<b&&(b=g),g>h&&(h=g),m<c&&(c=m),m>l&&(l=m);this.lm=b;this.mm=h;this.nm=c;this.km=l};e.prototype.Al=function(a,b,h){this.cc.length=8;this.ze=4;var c=this.cc;c[0]=a.left-b;c[1]=a.top-h;c[2]=a.right-b;c[3]=a.top-h;c[4]=a.right-b;c[5]=a.bottom-h;c[6]=a.left-b;c[7]=a.bottom-h;this.um=a.right-a.left;this.tm=a.bottom-a.top;this.lb()};e.prototype.Lj=function(a,b,h,c,l){this.cc.length=8;this.ze=
4;var g=this.cc;g[0]=a.fc-b;g[1]=a.gc-h;g[2]=a.dd-b;g[3]=a.ed-h;g[4]=a.Tc-b;g[5]=a.Uc-h;g[6]=a.Rc-b;g[7]=a.Sc-h;this.um=c;this.tm=l;this.lb()};e.prototype.gv=function(a){this.ze=a.ze;Ia(this.cc,a.cc);this.lm=a.lm;this.nm-a.nm;this.mm=a.mm;this.km=a.km};e.prototype.Uh=function(a,b,h){if(this.um!==a||this.tm!==b||this.us!==h){this.um=a;this.tm=b;this.us=h;var c,l,g,m,d,n=0,e=1,f=this.Ku,k=this.cc;0!==h&&(n=Math.sin(h),e=Math.cos(h));h=0;for(g=this.ze;h<g;h++)c=2*h,l=c+1,m=f[c]*a,d=f[l]*b,k[c]=m*e-d*
n,k[l]=d*e+m*n;this.lb()}};e.prototype.jd=function(a,b){var h=this.cc;if(a===h[0]&&b===h[1])return!0;var c,l,g,m=this.ze,d=this.lm-110,n=this.nm-101,e=this.mm+131,f=this.km+120,k,q,p=0,r=0;for(c=0;c<m;c++)l=2*c,g=(c+1)%m*2,k=h[l],l=h[l+1],q=h[g],g=h[g+1],ya(d,n,a,b,k,l,q,g)&&p++,ya(e,f,a,b,k,l,q,g)&&r++;return 1===p%2||1===r%2};e.prototype.Ik=function(a,b,h){var c=a.cc,l=this.cc;if(this.jd(c[0]+b,c[1]+h)||a.jd(l[0]-b,l[1]-h))return!0;var g,m,d,n,e,f,k,q,p,r,v,A;g=0;for(n=this.ze;g<n;g++)for(m=2*g,
d=(g+1)%n*2,q=l[m],m=l[m+1],p=l[d],r=l[d+1],d=0,k=a.ze;d<k;d++)if(e=2*d,f=(d+1)%k*2,v=c[e]+b,e=c[e+1]+h,A=c[f]+b,f=c[f+1]+h,ya(q,m,p,r,v,e,A,f))return!0;return!1};Fb=e;l.prototype.ph=function(a,b,h){var c;c=this.cells[a];return c?(c=c[b])?c:h?(c=m(this,a,b),this.cells[a][b]=c):null:h?(c=m(this,a,b),this.cells[a]={},this.cells[a][b]=c):null};l.prototype.Ed=function(a){return wa(a/this.Yo)};l.prototype.Fd=function(a){return wa(a/this.Xo)};l.prototype.update=function(a,b,h){var c,l,g,m,d;if(b)for(c=
b.left,l=b.right;c<=l;++c)for(g=b.top,m=b.bottom;g<=m;++g)if(!h||!h.jd(c,g))if(d=this.ph(c,g,!1))d.remove(a),d.wg()&&(d.Lc.clear(),1E3>F.length&&F.push(d),this.cells[c][g]=null);if(h)for(c=h.left,l=h.right;c<=l;++c)for(g=h.top,m=h.bottom;g<=m;++g)b&&b.jd(c,g)||this.ph(c,g,!0).Op(a)};l.prototype.Sn=function(a,b){var h,c,l,g,m,d;h=this.Ed(a.left);l=this.Fd(a.top);c=this.Ed(a.right);for(m=this.Fd(a.bottom);h<=c;++h)for(g=l;g<=m;++g)(d=this.ph(h,g,!1))&&d.dump(b)};Mb=l;g.prototype.ph=function(a,b,h){var c;
c=this.cells[a];return c?(c=c[b])?c:h?(c=n(this,a,b),this.cells[a][b]=c):null:h?(c=n(this,a,b),this.cells[a]={},this.cells[a][b]=c):null};g.prototype.Ed=function(a){return wa(a/this.Yo)};g.prototype.Fd=function(a){return wa(a/this.Xo)};g.prototype.update=function(a,b,h){var c,l,g,m,d;if(b)for(c=b.left,l=b.right;c<=l;++c)for(g=b.top,m=b.bottom;g<=m;++g)if(!h||!h.jd(c,g))if(d=this.ph(c,g,!1))d.remove(a),d.wg()&&(d.reset(),1E3>B.length&&B.push(d),this.cells[c][g]=null);if(h)for(c=h.left,l=h.right;c<=
l;++c)for(g=h.top,m=h.bottom;g<=m;++g)b&&b.jd(c,g)||this.ph(c,g,!0).Op(a)};g.prototype.Sn=function(a,b,h,c,l){var g,m;a=this.Ed(a);b=this.Fd(b);h=this.Ed(h);for(g=this.Fd(c);a<=h;++a)for(c=b;c<=g;++c)(m=this.ph(a,c,!1))&&m.dump(l)};g.prototype.IA=function(a){var b,h,c,l,g;b=a.left;c=a.top;h=a.right;for(l=a.bottom;b<=h;++b)for(a=c;a<=l;++a)if(g=this.ph(b,a,!1))g.qj=!1};Sb=g;var F=[];h.prototype.wg=function(){return this.Lc.wg()};h.prototype.Op=function(a){this.Lc.add(a)};h.prototype.remove=function(a){this.Lc.remove(a)};
h.prototype.dump=function(a){Ja(a,this.Lc.dg())};da=h;var B=[];q.prototype.wg=function(){if(!this.Lc.length)return!0;if(this.Lc.length>this.Sf.count())return!1;this.sp();return!0};q.prototype.Op=function(a){this.Sf.contains(a)?(this.Sf.remove(a),this.Sf.wg()&&(this.hk=!1)):this.Lc.length?(this.Lc[this.Lc.length-1].Nf()>a.Nf()&&(this.qj=!1),this.Lc.push(a)):(this.Lc.push(a),this.qj=!0)};q.prototype.remove=function(a){this.Sf.add(a);this.hk=!0;30<=this.Sf.count()&&this.sp()};q.prototype.sp=function(){this.hk&&
(this.Sf.count()===this.Lc.length?this.reset():(tb(this.Lc,this.Sf),this.Sf.clear(),this.hk=!1))};q.prototype.Oy=function(){this.qj||(this.Lc.sort(p),this.qj=!0)};q.prototype.reset=function(){G(this.Lc);this.qj=!0;this.Sf.clear();this.hk=!1};q.prototype.dump=function(a){this.sp();this.Oy();this.Lc.length&&a.push(this.Lc)};ha=q;var x="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Tb=function(a){return 0>=a||11<=a?"source-over":
x[a-1]};Ub=function(a,b,h){if(h)switch(a.sd=h.ONE,a.md=h.ONE_MINUS_SRC_ALPHA,b){case 1:a.sd=h.ONE;a.md=h.ONE;break;case 3:a.sd=h.ONE;a.md=h.ZERO;break;case 4:a.sd=h.ONE_MINUS_DST_ALPHA;a.md=h.ONE;break;case 5:a.sd=h.DST_ALPHA;a.md=h.ZERO;break;case 6:a.sd=h.ZERO;a.md=h.SRC_ALPHA;break;case 7:a.sd=h.ONE_MINUS_DST_ALPHA;a.md=h.ZERO;break;case 8:a.sd=h.ZERO;a.md=h.ONE_MINUS_SRC_ALPHA;break;case 9:a.sd=h.DST_ALPHA;a.md=h.ONE_MINUS_SRC_ALPHA;break;case 10:a.sd=h.ONE_MINUS_DST_ALPHA,a.md=h.SRC_ALPHA}};
Vb=function(a){return Math.round(1E6*a)/1E6};Wb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};Xb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||Wb(a.tagName,"canvas")?!0:!1}})();var Xc="undefined"!==typeof Float32Array?Float32Array:Array;function Yc(a){var c=new Xc(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function Zc(a){var c=new Xc(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function $c(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function kd(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function ld(a,c,b,d){d||(d=Zc());var f,k,e,l,g,m,h,n,q=a[0],p=a[1];a=a[2];k=b[0];e=b[1];f=b[2];b=c[1];m=c[2];q===c[0]&&p===b&&a===m?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=q-c[0],m=p-c[1],h=a-c[2],n=1/Math.sqrt(b*b+m*m+h*h),b*=n,m*=n,h*=n,c=e*h-f*m,f=f*b-k*h,k=k*m-e*b,(n=Math.sqrt(c*c+f*f+k*k))?(n=1/n,c*=n,f*=n,k*=n):k=f=c=0,e=m*k-h*f,l=h*c-b*k,g=b*f-m*c,(n=Math.sqrt(e*e+l*l+g*g))?(n=1/n,e*=n,l*=n,g*=n):g=l=e=0,
d[0]=c,d[1]=e,d[2]=b,d[3]=0,d[4]=f,d[5]=l,d[6]=m,d[7]=0,d[8]=k,d[9]=g,d[10]=h,d[11]=0,d[12]=-(c*q+f*p+k*a),d[13]=-(e*q+l*p+g*a),d[14]=-(b*q+m*p+h*a),d[15]=1)}
(function(){function a(a,b,c){this.rh=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Fb=!!c;this.ln=this.Lk=!1;this.fp=0;this.Bo=1;this.Ir=1E3;this.XB=(this.Ir-this.Bo)/32768;this.Vo=Yc([0,0,100]);this.Kt=Yc([0,0,0]);this.Hv=Yc([0,1,0]);this.Yl=Yc([1,1,1]);this.Gs=!0;this.Bn=Zc();this.xe=Zc();this.dq=Zc();this.ep=Zc();this.ka=a;this.ft()}function c(a,b,c){this.ka=a;this.Cl=b;this.name=c;this.Se=a.getAttribLocation(b,"aPos");this.xh=a.getAttribLocation(b,
"aTex");this.It=a.getUniformLocation(b,"matP");this.xn=a.getUniformLocation(b,"matMV");this.zj=a.getUniformLocation(b,"opacity");this.mq=a.getUniformLocation(b,"colorFill");this.Jt=a.getUniformLocation(b,"samplerFront");this.cl=a.getUniformLocation(b,"samplerBack");this.Di=a.getUniformLocation(b,"destStart");this.Ci=a.getUniformLocation(b,"destEnd");this.el=a.getUniformLocation(b,"seconds");this.oq=a.getUniformLocation(b,"pixelWidth");this.nq=a.getUniformLocation(b,"pixelHeight");this.bl=a.getUniformLocation(b,
"layerScale");this.al=a.getUniformLocation(b,"layerAngle");this.fl=a.getUniformLocation(b,"viewOrigin");this.dl=a.getUniformLocation(b,"scrollPos");this.gA=!!(this.oq||this.nq||this.el||this.cl||this.Di||this.Ci||this.bl||this.al||this.fl||this.dl);this.St=this.Tt=-999;this.An=1;this.Ot=this.Nt=0;this.Qt=this.Mt=this.Lt=1;this.Wt=this.Vt=this.Ut=this.Yt=this.Xt=this.Pt=0;this.bq=[];this.Rt=Zc();this.zj&&a.uniform1f(this.zj,1);this.mq&&a.uniform4f(this.mq,1,1,1,1);this.Jt&&a.uniform1i(this.Jt,0);this.cl&&
a.uniform1i(this.cl,1);this.Di&&a.uniform2f(this.Di,0,0);this.Ci&&a.uniform2f(this.Ci,1,1);this.bl&&a.uniform1f(this.bl,1);this.al&&a.uniform1f(this.al,0);this.fl&&a.uniform2f(this.fl,0,0);this.dl&&a.uniform2f(this.dl,0,0);this.el&&a.uniform1f(this.el,0);this.li=!1}function b(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===
b[15]}function d(a,b){this.type=a;this.da=b;this.ka=b.ka;this.Of=this.Dd=this.su=0;this.Qa=this.$e=null;this.jv=[]}var f=Zc();a.prototype.ft=function(){var a=this.ka,b;this.yt=1;this.vi=this.ti=null;this.Gm=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Fb?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.At=a.ONE;this.ut=a.ONE_MINUS_SRC_ALPHA;
this.yo=new Float32Array(8E3*(this.Fb?3:2));this.ko=new Float32Array(16E3);this.Eu=new Float32Array(32E3);this.Lq=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Lq);a.bufferData(a.ARRAY_BUFFER,this.Eu.byteLength,a.DYNAMIC_DRAW);this.Sl=Array(4);this.Il=Array(4);for(b=0;4>b;b++)this.Sl[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Sl[b]),a.bufferData(a.ARRAY_BUFFER,this.yo.byteLength,a.DYNAMIC_DRAW),this.Il[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Il[b]),a.bufferData(a.ARRAY_BUFFER,
this.ko.byteLength,a.DYNAMIC_DRAW);this.lg=0;this.kA=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.kA);for(var c=new Uint16Array(12E3),h=b=0;12E3>b;)c[b++]=h,c[b++]=h+1,c[b++]=h+2,c[b++]=h,c[b++]=h+2,c[b++]=h+3,h+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.Mq=this.Pj=this.Qg=0;this.Tb=[];b=this.Fb?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.ok({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.Tb.push(c);c=this.ok({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Tb.push(c);c=this.ok({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.Tb.push(c);c=this.ok({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.Tb.push(c);for(var d in md)md.hasOwnProperty(d)&&this.Tb.push(this.ok(md[d],b,d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.dh=[];this.kg=0;this.nd=!1;this.Bs=this.Zk=-1;this.ej=null;this.pp=a.createFramebuffer();this.Km=this.Tn=null;this.ns=!1;this.Fb&&(this.Km=a.createRenderbuffer());this.Kh=Yc([0,0,0]);this.$t=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.$t&&(this.$t=2048);this.Td(0)};c.prototype.Br=function(a){b(this.Rt,a)||($c(a,this.Rt),this.ka.uniformMatrix4fv(this.xn,
!1,a))};a.prototype.ok=function(a,b,d){var h=this.ka,n=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(n,a.src);h.compileShader(n);if(!h.getShaderParameter(n,h.COMPILE_STATUS))return h.deleteShader(n),null;var e=h.createShader(h.VERTEX_SHADER);h.shaderSource(e,b);h.compileShader(e);if(!h.getShaderParameter(e,h.COMPILE_STATUS))return h.deleteShader(n),h.deleteShader(e),null;b=h.createProgram();h.attachShader(b,n);h.attachShader(b,e);h.linkProgram(b);if(!h.getProgramParameter(b,h.LINK_STATUS))return h.deleteShader(n),
h.deleteShader(e),h.deleteProgram(b),null;h.useProgram(b);h.deleteShader(n);h.deleteShader(e);d=new c(h,b,d);d.np=a.np||0;d.op=a.op||0;d.zs=!!a.zs;d.qf=!!a.qf;d.ls=!!a.ls;d.Ra=a.Ra||[];a=0;for(n=d.Ra.length;a<n;a++)d.Ra[a][1]=h.getUniformLocation(b,d.Ra[a][0]),d.bq.push(0),h.uniform1f(d.Ra[a][1],0);return d};a.prototype.Dp=function(a){var b,c;b=0;for(c=this.Tb.length;b<c;b++)if(this.Tb[b].name===a)return b;return-1};a.prototype.Ju=function(a,b,c){var h=this.xe,d=this.Bn,e=[0,0,0,0,0,0,0,0];e[0]=h[0]*
a+h[4]*b+h[12];e[1]=h[1]*a+h[5]*b+h[13];e[2]=h[2]*a+h[6]*b+h[14];e[3]=h[3]*a+h[7]*b+h[15];e[4]=d[0]*e[0]+d[4]*e[1]+d[8]*e[2]+d[12]*e[3];e[5]=d[1]*e[0]+d[5]*e[1]+d[9]*e[2]+d[13]*e[3];e[6]=d[2]*e[0]+d[6]*e[1]+d[10]*e[2]+d[14]*e[3];e[7]=-e[2];0!==e[7]&&(e[7]=1/e[7],e[4]*=e[7],e[5]*=e[7],e[6]*=e[7],c[0]=(.5*e[4]+.5)*this.width,c[1]=(.5*e[5]+.5)*this.height)};a.prototype.Jg=function(a,b,c){if(this.width!==a||this.height!==b||c){this.ai();c=this.ka;this.width=a;this.height=b;c.viewport(0,0,a,b);ld(this.Vo,
this.Kt,this.Hv,this.xe);if(this.Fb){var h=-a/2;a=a/2;var d=b/2;b=-b/2;var e=this.Bo,f=this.Ir,k=this.Bn;k||(k=Zc());var t=a-h,u=b-d,v=f-e;k[0]=2/t;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=2/u;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=-2/v;k[11]=0;k[12]=-(h+a)/t;k[13]=-(b+d)/u;k[14]=-(f+e)/v;k[15]=1;this.Yl[0]=1;this.Yl[1]=1}else b=a/b,h=this.Bo,a=this.Ir,k=this.Bn,f=h*Math.tan(45*Math.PI/360),b*=f,d=-b,e=-f,k||(k=Zc()),t=b-d,u=f-e,v=a-h,k[0]=2*h/t,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=2*h/u,k[6]=0,k[7]=0,k[8]=(b+d)/
t,k[9]=(f+e)/u,k[10]=-(a+h)/v,k[11]=-1,k[12]=0,k[13]=0,k[14]=-(a*h*2)/v,k[15]=0,h=[0,0],a=[0,0],this.Ju(0,0,h),this.Ju(1,1,a),this.Yl[0]=1/(a[0]-h[0]),this.Yl[1]=-1/(a[1]-h[1]);h=0;for(a=this.Tb.length;h<a;h++)d=this.Tb[h],d.li=!1,d.It&&(c.useProgram(d.Cl),c.uniformMatrix4fv(d.It,!1,this.Bn));c.useProgram(this.Tb[this.Zk].Cl);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.vi=this.ti=null;this.Km&&(c.bindFramebuffer(c.FRAMEBUFFER,
this.pp),c.bindRenderbuffer(c.RENDERBUFFER,this.Km),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.ns||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.Km),this.ns=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.Tn=null)}};a.prototype.Xf=function(){ld(this.Vo,this.Kt,this.Hv,this.xe);kd(this.xe,this.Yl)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Kh[0]=a;this.Kh[1]=b;this.Kh[2]=
0;var c=this.xe,h=this.Kh,d=h[0],e=h[1],h=h[2];c[12]=c[0]*d+c[4]*e+c[8]*h+c[12];c[13]=c[1]*d+c[5]*e+c[9]*h+c[13];c[14]=c[2]*d+c[6]*e+c[10]*h+c[14];c[15]=c[3]*d+c[7]*e+c[11]*h+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Kh[0]=a,this.Kh[1]=b,this.Kh[2]=1,kd(this.xe,this.Kh)};a.prototype.Zq=function(a){if(0!==a){var b=this.xe,c,h=Math.sin(a);a=Math.cos(a);var d=b[0],e=b[1],f=b[2],k=b[3],t=b[4],u=b[5],v=b[6],A=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=
b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=d*a+t*h;c[1]=e*a+u*h;c[2]=f*a+v*h;c[3]=k*a+A*h;c[4]=d*-h+t*a;c[5]=e*-h+u*a;c[6]=f*-h+v*a;c[7]=k*-h+A*a}};a.prototype.wf=function(){if(!b(this.dq,this.xe)){var a=this.je();a.type=5;a.Qa?$c(this.xe,a.Qa):a.Qa=Zc(this.xe);$c(this.xe,this.dq);this.nd=!1}};a.prototype.$n=function(a){this.Fb&&(32760<a&&(a=32760),this.fp=this.Vo[2]-this.Bo-a*this.XB)};d.prototype.xy=function(){var a=this.ka,b=this.da;0!==this.Dd?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),
a.bindFramebuffer(a.FRAMEBUFFER,b.pp),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.ln=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.ln=!1)};d.prototype.By=function(){this.ka.bindTexture(this.ka.TEXTURE_2D,this.$e)};d.prototype.Cy=function(){var a=this.ka;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.$e);a.activeTexture(a.TEXTURE0)};d.prototype.yy=function(){var a=
this.su,b=this.da;b.Gm=a;b=b.ej;b.zj&&b.An!==a&&(b.An=a,this.ka.uniform1f(b.zj,a))};d.prototype.qy=function(){this.ka.drawElements(this.ka.TRIANGLES,this.Of,this.ka.UNSIGNED_SHORT,this.Dd)};d.prototype.ty=function(){this.ka.blendFunc(this.Dd,this.Of)};d.prototype.Ey=function(){var a,b,c,h=this.da.Tb,d=this.da.Bs;a=0;for(b=h.length;a<b;a++)c=h[a],a===d&&c.xn?(c.Br(this.Qa),c.li=!0):c.li=!1;$c(this.Qa,this.da.ep)};d.prototype.ry=function(){var a=this.ka,b=this.da;this.$e?(b.vi===this.$e&&(a.activeTexture(a.TEXTURE1),
a.bindTexture(a.TEXTURE_2D,null),b.vi=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.pp),b.ln||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.$e,0)):(b.Fb||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};d.prototype.iy=function(){var a=this.ka,b=this.Dd;0===b?(a.clearColor(this.Qa[0],this.Qa[1],this.Qa[2],this.Qa[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.Qa[0],
this.Qa[1],this.Qa[2],this.Qa[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};d.prototype.wy=function(){var a=this.ka;0!==this.Dd?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};d.prototype.oy=function(){var a=this.ka,b=this.da;b.Fb&&a.disable(a.DEPTH_TEST);var c=b.Tb[1];a.useProgram(c.Cl);!c.li&&c.xn&&(c.Br(b.ep),c.li=!0);a.enableVertexAttribArray(c.Se);a.bindBuffer(a.ARRAY_BUFFER,b.Lq);a.vertexAttribPointer(c.Se,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,
this.Dd/4,this.Of);c=b.ej;a.useProgram(c.Cl);0<=c.Se&&(a.enableVertexAttribArray(c.Se),a.bindBuffer(a.ARRAY_BUFFER,b.Sl[b.lg]),a.vertexAttribPointer(c.Se,b.Fb?3:2,a.FLOAT,!1,0,0));0<=c.xh&&(a.enableVertexAttribArray(c.xh),a.bindBuffer(a.ARRAY_BUFFER,b.Il[b.lg]),a.vertexAttribPointer(c.xh,2,a.FLOAT,!1,0,0));b.Fb&&a.enable(a.DEPTH_TEST)};d.prototype.zy=function(){var a=this.ka,b=this.da,c=b.Tb[this.Dd];b.Bs=this.Dd;b.ej=c;a.useProgram(c.Cl);!c.li&&c.xn&&(c.Br(b.ep),c.li=!0);c.zj&&c.An!==b.Gm&&(c.An=
b.Gm,a.uniform1f(c.zj,b.Gm));0<=c.Se&&(a.enableVertexAttribArray(c.Se),a.bindBuffer(a.ARRAY_BUFFER,b.Sl[b.lg]),a.vertexAttribPointer(c.Se,b.Fb?3:2,a.FLOAT,!1,0,0));0<=c.xh&&(a.enableVertexAttribArray(c.xh),a.bindBuffer(a.ARRAY_BUFFER,b.Il[b.lg]),a.vertexAttribPointer(c.xh,2,a.FLOAT,!1,0,0))};d.prototype.uy=function(){var a=this.Qa;this.ka.uniform4f(this.da.ej.mq,a[0],a[1],a[2],a[3])};d.prototype.Ay=function(){var a,b,c=this.da.ej,h=this.ka;a=this.Qa;c.cl&&this.da.vi!==this.$e&&(h.activeTexture(h.TEXTURE1),
h.bindTexture(h.TEXTURE_2D,this.$e),this.da.vi=this.$e,h.activeTexture(h.TEXTURE0));var d=a[0];c.oq&&d!==c.Tt&&(c.Tt=d,h.uniform1f(c.oq,d));d=a[1];c.nq&&d!==c.St&&(c.St=d,h.uniform1f(c.nq,d));d=a[2];b=a[3];!c.Di||d===c.Nt&&b===c.Ot||(c.Nt=d,c.Ot=b,h.uniform2f(c.Di,d,b));d=a[4];b=a[5];!c.Ci||d===c.Lt&&b===c.Mt||(c.Lt=d,c.Mt=b,h.uniform2f(c.Ci,d,b));d=a[6];c.bl&&d!==c.Qt&&(c.Qt=d,h.uniform1f(c.bl,d));d=a[7];c.al&&d!==c.Pt&&(c.Pt=d,h.uniform1f(c.al,d));d=a[8];b=a[9];!c.fl||d===c.Xt&&b===c.Yt||(c.Xt=
d,c.Yt=b,h.uniform2f(c.fl,d,b));d=a[10];b=a[11];!c.dl||d===c.Ut&&b===c.Vt||(c.Ut=d,c.Vt=b,h.uniform2f(c.dl,d,b));d=a[12];c.el&&d!==c.Wt&&(c.Wt=d,h.uniform1f(c.el,d));if(c.Ra.length)for(a=0,b=c.Ra.length;a<b;a++)d=this.jv[a],d!==c.bq[a]&&(c.bq[a]=d,h.uniform1f(c.Ra[a][1],d))};a.prototype.je=function(){this.kg===this.dh.length&&this.dh.push(new d(0,this));return this.dh[this.kg++]};a.prototype.ai=function(){if(0!==this.kg&&!this.ka.isContextLost()){var a=this.ka;0<this.Mq&&(a.bindBuffer(a.ARRAY_BUFFER,
this.Lq),a.bufferSubData(a.ARRAY_BUFFER,0,this.Eu.subarray(0,this.Mq)),b&&0<=b.Se&&"<point>"===b.name&&a.vertexAttribPointer(b.Se,4,a.FLOAT,!1,0,0));if(0<this.Qg){var b=this.ej;a.bindBuffer(a.ARRAY_BUFFER,this.Sl[this.lg]);a.bufferSubData(a.ARRAY_BUFFER,0,this.yo.subarray(0,this.Qg));b&&0<=b.Se&&"<point>"!==b.name&&a.vertexAttribPointer(b.Se,this.Fb?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Il[this.lg]);a.bufferSubData(a.ARRAY_BUFFER,0,this.ko.subarray(0,this.Pj));b&&0<=b.xh&&"<point>"!==
b.name&&a.vertexAttribPointer(b.xh,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.kg;a<b;a++)switch(c=this.dh[a],c.type){case 1:c.qy();break;case 2:c.By();break;case 3:c.yy();break;case 4:c.ty();break;case 5:c.Ey();break;case 6:c.ry();break;case 7:c.iy();break;case 8:c.oy();break;case 9:c.zy();break;case 10:c.Ay();break;case 11:c.Cy();break;case 12:c.uy();break;case 13:c.wy();break;case 14:c.xy()}this.Mq=this.Pj=this.Qg=this.kg=0;this.ln=this.nd=!1;this.lg++;4<=this.lg&&(this.lg=0)}};a.prototype.Mi=function(a){if(a!==
this.yt&&!this.Lk){var b=this.je();b.type=3;this.yt=b.su=a;this.nd=!1}};a.prototype.Sd=function(a){if(a!==this.ti){var b=this.je();b.type=2;this.ti=b.$e=a;this.nd=!1}};a.prototype.Gh=function(a,b){if((a!==this.At||b!==this.ut)&&!this.Lk){var c=this.je();c.type=4;c.Dd=a;c.Of=b;this.At=a;this.ut=b;this.nd=!1}};a.prototype.Xu=function(){this.Gh(this.ka.ONE,this.ka.ONE_MINUS_SRC_ALPHA)};a.prototype.ul=function(a,b,c,h,d,e,f,k){15992<=this.Qg&&this.ai();var t=this.Qg,u=this.Pj,v=this.yo,A=this.ko,C=this.fp;
if(this.nd)this.dh[this.kg-1].Of+=6;else{var w=this.je();w.type=1;w.Dd=this.Fb?t:t/2*3;w.Of=6;this.nd=!0}this.Fb?(v[t++]=a,v[t++]=b,v[t++]=C,v[t++]=c,v[t++]=h,v[t++]=C,v[t++]=d,v[t++]=e,v[t++]=C,v[t++]=f,v[t++]=k,v[t++]=C):(v[t++]=a,v[t++]=b,v[t++]=c,v[t++]=h,v[t++]=d,v[t++]=e,v[t++]=f,v[t++]=k);A[u++]=0;A[u++]=0;A[u++]=1;A[u++]=0;A[u++]=1;A[u++]=1;A[u++]=0;A[u++]=1;this.Qg=t;this.Pj=u};a.prototype.Vf=function(a,b,c,h,d,e,f,k,t){15992<=this.Qg&&this.ai();var u=this.Qg,v=this.Pj,A=this.yo,C=this.ko,
w=this.fp;if(this.nd)this.dh[this.kg-1].Of+=6;else{var E=this.je();E.type=1;E.Dd=this.Fb?u:u/2*3;E.Of=6;this.nd=!0}var E=t.left,z=t.top,F=t.right;t=t.bottom;this.Fb?(A[u++]=a,A[u++]=b,A[u++]=w,A[u++]=c,A[u++]=h,A[u++]=w,A[u++]=d,A[u++]=e,A[u++]=w,A[u++]=f,A[u++]=k,A[u++]=w):(A[u++]=a,A[u++]=b,A[u++]=c,A[u++]=h,A[u++]=d,A[u++]=e,A[u++]=f,A[u++]=k);C[v++]=E;C[v++]=z;C[v++]=F;C[v++]=z;C[v++]=F;C[v++]=t;C[v++]=E;C[v++]=t;this.Qg=u;this.Pj=v};a.prototype.Td=function(a){if(this.Zk!==a){if(!this.Tb[a]){if(0===
this.Zk)return;a=0}var b=this.je();b.type=9;this.Zk=b.Dd=a;this.nd=!1}};a.prototype.sl=function(a){a=this.Tb[a];return!(!a.Di&&!a.Ci)};a.prototype.Qq=function(a){a=this.Tb[a];return!!(a.Di||a.Ci||a.zs)};a.prototype.Pq=function(a){return this.Tb[a].qf};a.prototype.bB=function(a){a=this.Tb[a];return 0!==a.np||0!==a.op};a.prototype.Nz=function(a){return this.Tb[a].np};a.prototype.Oz=function(a){return this.Tb[a].op};a.prototype.Pz=function(a,b){return this.Tb[a].Ra[b][2]};a.prototype.Qn=function(a){return this.Tb[a].ls};
a.prototype.Kj=function(a,b,c,h,d,e,f,k,t,u,v,A,C,w,E){var z=this.Tb[this.Zk],F,B;if(z.gA||E.length){F=this.je();F.type=10;F.Qa?$c(this.xe,F.Qa):F.Qa=Zc();B=F.Qa;B[0]=b;B[1]=c;B[2]=h;B[3]=d;B[4]=e;B[5]=f;B[6]=k;B[7]=t;B[8]=u;B[9]=v;B[10]=A;B[11]=C;B[12]=w;z.cl?F.$e=a:F.$e=null;if(E.length)for(c=F.jv,c.length=E.length,a=0,b=E.length;a<b;a++)c[a]=E[a];this.nd=!1}};a.prototype.clear=function(a,b,c,h){var d=this.je();d.type=7;d.Dd=0;d.Qa||(d.Qa=Zc());d.Qa[0]=a;d.Qa[1]=b;d.Qa[2]=c;d.Qa[3]=h;this.nd=!1};
a.prototype.clearRect=function(a,b,c,h){if(!(0>c||0>h)){var d=this.je();d.type=7;d.Dd=1;d.Qa||(d.Qa=Zc());d.Qa[0]=a;d.Qa[1]=b;d.Qa[2]=c;d.Qa[3]=h;this.nd=!1}};a.prototype.$u=function(a){if(this.Fb&&(a=!!a,this.Lk!==a)){var b=this.je();b.type=14;b.Dd=a?1:0;this.nd=!1;this.Lk=a;this.Tn=null;this.Lk?this.Td(2):this.Td(0)}};a.prototype.Zu=function(a){if(this.Fb){var b=this.je();b.type=13;b.Dd=a?1:0;this.nd=!1}};a.prototype.Ps=function(){$c(this.dq,f);this.Xf();this.wf();var a=this.width/2,b=this.height/
2;this.ul(-a,b,a,b,a,-b,-a,-b);$c(f,this.xe);this.wf()};a.prototype.Yu=function(a,b,c){this.Td(3);var h=this.je();h.type=12;h.Qa||(h.Qa=Zc());h.Qa[0]=a;h.Qa[1]=b;h.Qa[2]=c;h.Qa[3]=1;this.nd=!1};a.prototype.AB=function(){this.Td(0)};a.prototype.mB=function(){this.Td(2)};a.prototype.aB=function(){this.ai();this.ka.flush()};var k=[],e={};a.prototype.Yx=function(){G(k);e={}};a.prototype.of=function(a,b,c,h,d){b=!!b;c=!!c;var f=a.src+","+b+","+c+(b?","+d:""),p=null;if("undefined"!==typeof a.src&&e.hasOwnProperty(f))return p=
e[f],p.rm++,p;this.ai();var r=this.ka,t=oa(a.width)&&oa(a.height),p=r.createTexture();r.bindTexture(r.TEXTURE_2D,p);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var u=r.RGBA,v=r.RGBA,A=r.UNSIGNED_BYTE;if(h&&!this.rh)switch(h){case 1:v=u=r.RGB;break;case 2:A=r.UNSIGNED_SHORT_4_4_4_4;break;case 3:A=r.UNSIGNED_SHORT_5_5_5_1;break;case 4:v=u=r.RGB,A=r.UNSIGNED_SHORT_5_6_5}if(!t&&b){h=document.createElement("canvas");h.width=qa(a.width);h.height=qa(a.height);var C=h.getContext("2d");"undefined"!==
typeof C.imageSmoothingEnabled?C.imageSmoothingEnabled=c:(C.webkitImageSmoothingEnabled=c,C.mozImageSmoothingEnabled=c,C.msImageSmoothingEnabled=c);C.drawImage(a,0,0,a.width,a.height,0,0,h.width,h.height);r.texImage2D(r.TEXTURE_2D,0,u,v,A,h)}else r.texImage2D(r.TEXTURE_2D,0,u,v,A,a);b?"repeat-x"===d?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.REPEAT),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE)):("repeat-y"===d?r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE):
r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.REPEAT),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.REPEAT)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE));c?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),t&&this.Gs?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_LINEAR),r.generateMipmap(r.TEXTURE_2D)):r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR)):(r.texParameteri(r.TEXTURE_2D,
r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST));r.bindTexture(r.TEXTURE_2D,null);this.ti=null;p.jf=a.width;p.hf=a.height;p.rm=1;p.ts=f;k.push(p);return e[f]=p};a.prototype.Je=function(a,b,c){var h;this.ai();var d=this.ka;this.rh&&(h=!1);var e=d.createTexture();d.bindTexture(d.TEXTURE_2D,e);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,a,b,0,d.RGBA,h?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,null);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,
d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,c?d.LINEAR:d.NEAREST);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,c?d.LINEAR:d.NEAREST);d.bindTexture(d.TEXTURE_2D,null);this.ti=null;e.jf=a;e.hf=b;k.push(e);return e};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.rm&&1<a.rm?a.rm--:(this.ai(),a===this.ti&&(this.ka.bindTexture(this.ka.TEXTURE_2D,null),this.ti=null),a===this.vi&&(this.ka.activeTexture(this.ka.TEXTURE1),this.ka.bindTexture(this.ka.TEXTURE_2D,
null),this.ka.activeTexture(this.ka.TEXTURE0),this.vi=null),Na(k,a),"undefined"!==typeof a.ts&&delete e[a.ts],this.ka.deleteTexture(a)))};a.prototype.Xe=function(a){if(a!==this.Tn){var b=this.je();b.type=6;this.Tn=b.$e=a;this.nd=!1}};Yb=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.ae=(this.Kk=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.od=!!a.dc;this.kt="undefined"!==typeof window.AppMobi||
this.od;this.Qe=!!window.c2cocoonjs;this.mf=!!window.c2ejecta;this.Qe&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.mf&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Cb=this.od||this.Qe||this.mf;this.Nk=
/edge\//i.test(navigator.userAgent);this.rh=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Nk;this.nt=/tizen/i.test(navigator.userAgent);this.jn=/android/i.test(navigator.userAgent)&&!this.nt&&!this.rh&&!this.Nk;this.qt=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.rh&&!this.Nk;this.xA=/ipad/i.test(navigator.userAgent);this.sj=this.qt||this.xA||this.mf;this.Jk=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.rh&&!this.Nk;this.Rp=/amazonwebappplatform/i.test(navigator.userAgent);this.qA=/firefox/i.test(navigator.userAgent);this.tA=/safari/i.test(navigator.userAgent)&&!this.Jk&&!this.rh&&!this.Nk;this.uA=/windows/i.test(navigator.userAgent);this.sh="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.ot=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.wA=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.nj=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Yp=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Xp=!!window.cr_windows10;this.Wp=this.ot||this.wA||this.Yp||this.Xp;this.pA=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.kn=this.jn&&!this.Jk&&!this.Kk&&!this.qA&&!this.Rp&&!this.Cb;this.devicePixelRatio=
1;this.qi=this.ae||this.Kk||this.kt||this.Qe||this.jn||this.sj||this.nj||this.Yp||this.pA||this.nt||this.mf;this.qi||(this.qi=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Sk=!!(this.sj&&this.ae&&window.webkit);this.Ip=null;this.iA="";this.Sk&&(this.Ip=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.sh||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.sh=!0);this.canvas=a;this.vm=document.getElementById("c2canvasdiv");this.da=this.ka=null;this.Ep="(unavailable)";this.Fb=!1;this.Zh=0;this.Kb=null;this.up="";this.Vm=!1;this.lu=this.mu=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.od&&(window.c2runtime=this);this.sh&&(window.ondragover=function(a){a.preventDefault();return!1},
window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.kn&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.ya=this.width;this.xa=this.height;this.Em=this.width;this.qk=this.height;this.uj=window.innerWidth;this.tj=window.innerHeight;this.wz=!1;this.kb=!0;this.Qk=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types=
{};this.ea=[];this.Mb=[];this.kq={};this.nf=[];this.mp={};this.rg=[];this.Wj=[];this.so=[];this.Lx=[];this.Mx=[];this.qv=null;this.Wh={};this.Tp=this.qh=!1;this.ve=0;this.Sp=this.Vp=!1;this.kf=[];this.Mk=!1;this.zg=this.rd=this.un=this.dr="";this.Fl=this.nv=!1;this.Um=[];this.Yh=this.Da=0;this.bu=30;this.bp=this.gl=0;this.Jh=1;this.Jc=new yb;this.Rg=new yb;this.Dn=this.Xm=this.di=this.Ih=this.xi=this.tp=this.rn=0;this.kk=null;this.Mm=[];this.lp=[];this.Pm=-1;this.pq=[[]];this.wr=this.yn=0;this.Rn(null);
this.hl=[];this.il=-1;this.uk=this.gu=this.ml=0;this.Gl=[];this.rr=this.Rq=-1;this.Vk=!0;this.yj=0;this.Ok=!1;this.DB=0;this.$i=null;this.Ac=this.cn=!1;this.ku=new fa;this.zq=new fa;this.Aq=new fa;this.Uq=[];this.tf=new Fb([]);this.nr=new Fb([]);this.Yi=[];this.jj={};this.ih={};this.bh={};this.Vj={};this.ps={};this.Gt=this.tn=this.mc=this.Cc=this.Ft=this.sn=this.tb=null;this.Tj=this.Zp=!1;this.vp=[null,null];this.fi=0;this.qp="";this.Dg={};this.Dl=this.vh=null;this.pv="";this.Cn=[];this.lB()}}function c(a,
b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function b(){try{return!!window.indexedDB}catch(a){return!1}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function f(a,b,c,h){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=d;e.onerror=h;e.onsuccess=function(d){d=d.target.result;d.onerror=h;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}catch(f){h(f)}}function k(a,b,c){try{var h=indexedDB.open("_C2SaveStates");
h.onupgradeneeded=d;h.onerror=c;h.onsuccess=function(h){h=h.target.result;h.onerror=c;var d=h.transaction(["saves"]).objectStore("saves").get(a);d.onsuccess=function(){d.result?b(d.result.data):b(null)}}}catch(e){c(e)}}function e(){ja("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function l(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof
fa||a[b]&&"undefined"!==typeof a[b].Ff||"spriteCreatedDestroyCallback"!==b&&(c[b]=a[b]);return c}var g=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.lB=function(){var a=this;if(this.Sk)this.Ip?this.Ip.startServer({port:0,localhost_only:!0},function(b){a.iA=b;a.Ms(function(b){a.xj(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+
a)}):this.Ms(function(b){a.xj(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.nj?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var c="data.js";if(this.ot||this.nj||this.Yp||this.Xp)c="data.json";b.open("GET",c,!0);var h=!1;if(!this.Cb&&"response"in b&&"responseType"in b)try{b.responseType="json",h="json"===b.responseType}catch(d){h=!1}if(!h&&"responseType"in b)try{b.responseType="text"}catch(e){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.nj?
b.onreadystatechange=function(){4===b.readyState&&a.xj(JSON.parse(b.responseText))}:(b.onload=function(){if(h)a.xj(b.response);else if(a.mf){var c=b.responseText,c=c.substr(c.indexOf("{"));a.xj(JSON.parse(c))}else a.xj(JSON.parse(b.responseText))},b.onerror=function(a){ka("Error requesting "+c+":");ka(a)});b.send()}};a.prototype.lA=function(){var a=this,b,c,h,d,e,f,g,n,k;this.ri=(!this.Cb||this.mf||this.ae)&&this.SB&&!this.kn;0===this.xd&&this.sj&&(this.ri=!1);this.devicePixelRatio=this.ri?window.devicePixelRatio||
window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.gd();c=!(!this.wz&&(!this.Po||this.sh||this.Wp||this.nj||this.Kk||this.ae||this.Rp));0<this.xd&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.My&&(this.Qe||this.mf||!this.Cb)&&(b={alpha:c,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.ka=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(m){}if(this.ka){if(b=this.ka.getExtension("WEBGL_debug_renderer_info"))this.Ep=
this.ka.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.ka.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.Fb&&(this.Ep+=" [front-to-back enabled]");this.Cb||(this.bd=document.createElement("canvas"),jQuery(this.bd).appendTo(this.canvas.parentNode),this.bd.oncontextmenu=function(){return!1},this.bd.onselectstart=function(){return!1},this.bd.width=Math.round(this.Em*this.devicePixelRatio),this.bd.height=Math.round(this.qk*this.devicePixelRatio),jQuery(this.bd).css({width:this.Em+"px",height:this.qk+
"px"}),this.Gu(),this.Kq=this.bd.getContext("2d"));this.da=new Yb(this.ka,this.qi,this.Fb);this.da.Jg(this.canvas.width,this.canvas.height);this.da.Gs=0!==this.Fy;this.Kb=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.NA();ja("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.da.ft();a.da.Jg(a.da.width,a.da.height,!0);a.Cc=null;a.mc=null;a.vp[0]=null;a.vp[1]=null;a.OA();a.kb=!0;
ja("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(c=this.ea.length;b<c;b++)for(e=this.ea[b],h=0,d=e.Ea.length;h<d;h++)g=e.Ea[h],g.qc=this.da.Dp(g.id),g.qf=this.da.Pq(g.qc),this.Tj=this.Tj||this.da.sl(g.qc);b=0;for(c=this.nf.length;b<c;b++){n=this.nf[b];h=0;for(d=n.Ea.length;h<d;h++)g=n.Ea[h],g.qc=this.da.Dp(g.id),g.qf=this.da.Pq(g.qc);n.vf();h=0;for(d=n.Ka.length;h<d;h++){k=n.Ka[h];e=0;for(f=k.Ea.length;e<f;e++)g=k.Ea[e],g.qc=this.da.Dp(g.id),g.qf=this.da.Pq(g.qc),
this.Tj=this.Tj||this.da.sl(g.qc);k.vf()}}}else{if(0<this.xd&&this.od){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Kb=AppMobi.canvas.getContext("2d");try{this.Kb.samplingMode=this.Gb?"smooth":"sharp",this.Kb.globalScale=1,this.Kb.HTML5CompatibilityMode=!0,this.Kb.imageSmoothingEnabled=this.Gb}catch(l){}0!==this.width&&0!==this.height&&(this.Kb.width=this.width,this.Kb.height=this.height)}this.Kb||(this.Qe?(b={antialias:!!this.Gb,alpha:c},
this.Kb=this.canvas.getContext("2d",b)):(b={alpha:c},this.Kb=this.canvas.getContext("2d",b)),this.Zn(this.Kb,this.Gb));this.Kq=this.bd=null}this.yv=function(b){a.ec(!1,b)};window==window.top||this.Cb||this.Wp||this.nj||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Qe&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&
(ja("Reloading for continuous preview"),this.un="__c2_continuouspreview",this.Fl=!0),this.UA&&!this.qi&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var b=window.parent;b&&b.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.Gj()});this.Cb||(b=function(a){if(Xb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},
window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.xd&&this.ri&&1<this.devicePixelRatio&&this.setSize(this.Fc,this.Ec,!0);this.Ev();this.dA();this.go();this.ja={}};a.prototype.setSize=function(a,b,c){var h=0,d=0,e=0,f=0,f=0;if(this.uj!==a||this.tj!==b||c){this.uj=a;this.tj=b;var g=this.xd,n=(document.mozFullScreen||
document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Ok)&&!this.ae;if(n||0!==this.xd||c)n&&0<this.fi&&(g=this.fi),c=this.devicePixelRatio,4<=g?(e=this.Fc/this.Ec,a/b>e?(e*=b,5===g?(f=e*c/this.Fc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),e=this.Fc*f/c,f=this.Ec*f/c,h=(a-e)/2,d=(b-f)/2,a=e,b=f):(h=(a-e)/2,a=e)):(f=a/e,5===g?(f=f*c/this.Ec,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),e=this.Fc*f/c,f=this.Ec*f/c,h=(a-e)/2,d=(b-f)/2,a=e):d=(b-f)/2,b=f),n&&!this.sh&&
(d=h=0)):this.sh&&this.Ok&&0===this.Qs&&(h=Math.floor((a-this.Fc)/2),d=Math.floor((b-this.Ec)/2),a=this.Fc,b=this.Ec),2>g&&(this.jk=c),this.Em=Math.round(a),this.qk=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.kb=!0,this.Pv?(this.ya=this.width,this.xa=this.height,this.pe=!0):this.width<this.Fc&&this.height<this.Ec||1===g?(this.ya=this.width,this.xa=this.height,this.pe=!0):(this.ya=this.Fc,this.xa=this.Ec,this.pe=!1,2===g?(e=this.Fc/this.Ec,g=this.uj/this.tj,g<e?this.ya=
this.xa*g:g>e&&(this.xa=this.ya/g)):3===g&&(e=this.Fc/this.Ec,g=this.uj/this.tj,g>e?this.ya=this.xa*g:g<e&&(this.xa=this.ya/g))),this.vm&&!this.Cb&&(jQuery(this.vm).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(h)+"px","margin-top":Math.floor(d)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.mf?(this.canvas.style.left=
Math.floor(h)+"px",this.canvas.style.top=Math.floor(d)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.ri&&!this.Cb&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.bd&&(this.bd.width=Math.round(a*c),this.bd.height=Math.round(b*c),this.bd.style.width=this.Em+"px",this.bd.style.height=this.qk+"px"),this.da&&this.da.Jg(Math.round(a*c),Math.round(b*c)),this.od&&this.Kb&&(this.Kb.width=Math.round(a),this.Kb.height=
Math.round(b)),this.Kb&&this.Zn(this.Kb,this.Gb),this.Ev(),this.qt&&!this.ae&&window.scrollTo(0,0)}};a.prototype.Ev=function(){if(this.Px&&0!==this.Iq){var a="portrait";2===this.Iq&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&
console.warn&&console.warn("Failed to lock orientation: ",b)}}};a.prototype.NA=function(){this.da.Yx();this.Zp=!0;var a,b,c;a=0;for(b=this.ea.length;a<b;a++)c=this.ea[a],c.En&&c.En()};a.prototype.OA=function(){this.Zp=!1;var a,b,c;a=0;for(b=this.ea.length;a<b;a++)c=this.ea[a],c.Gn&&c.Gn()};a.prototype.Gu=function(){if(!this.Cb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Ok)&&!this.ae?jQuery(this.canvas).offset():jQuery(this.canvas).position();
a.position="absolute";jQuery(this.bd).css(a)}};var m=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var b;if(a&&!this.Qk)for(ja("[Construct 2] Suspending"),this.Qk=!0,-1!==this.Rq&&m&&m(this.Rq),-1!==this.rr&&clearTimeout(this.rr),a=0,b=this.Gl.length;a<b;a++)this.Gl[a](!0);else if(!a&&this.Qk){ja("[Construct 2] Resuming");this.Qk=!1;this.rn=rb();this.xi=
rb();a=this.gl=this.Xm=0;for(b=this.Gl.length;a<b;a++)this.Gl[a](!1);this.ec(!1)}};a.prototype.js=function(a){this.Gl.push(a)};a.prototype.Zg=function(a){return this.Cn[a]};a.prototype.xj=function(a){a&&a.project||ka("Project model unavailable");a=a.project;this.name=a[0];this.Os=a[1];this.xd=a[12];this.Qs=a[12];this.Fc=a[10];this.Ec=a[11];this.zu=this.Fc/2;this.Au=this.Ec/2;this.Cb&&!this.mf&&(4<=a[12]||0===a[12])&&(ja("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Qs=this.xd=3);this.Dr=a[18];this.wh=a[19];if(0===this.wh){var b=new Image;b.crossOrigin="anonymous";this.av(b,"loading-logo.png");this.vh={zn:b}}else if(4===this.wh){b=new Image;b.src="";var c=new Image;c.src="";var h=new Image;h.src="";var d=new Image;d.src="";var e=new Image;e.src="";var f=new Image;f.src="";var g=new Image;g.src="";var n=new Image;n.src="";var k=new Image;k.src="";var m=new Image;m.src="";var l=new Image;l.src="";var p=new Image;p.src="";this.vh={zn:[b,c,h,d],YA:[e,f,g,n],
VB:[k,m,l,p]}}this.ml=a[21];this.Cn=nd();this.$f=new U(this);b=0;for(c=a[2].length;b<c;b++)g=a[2][b],h=this.Zg(g[0]),Zb(g,h.prototype),n=new h(this),n.eo=g[1],n.uh=g[2],n.du=g[9],n.ra&&n.ra(),this.plugins.push(n);this.Cn=nd();b=0;for(c=a[3].length;b<c;b++){g=a[3][b];e=this.Zg(g[1]);n=null;h=0;for(d=this.plugins.length;h<d;h++)if(this.plugins[h]instanceof e){n=this.plugins[h];break}k=new n.Xa(n);k.name=g[0];k.ta=g[2];k.Pp=g[3].slice(0);k.UB=g[3].length;k.Qx=g[4];k.yz=g[5];k.Ya=g[11];k.ta?(k.Cj=[],
k.sg=this.uk++,k.Lb=null):(k.Cj=null,k.sg=-1,k.Lb=[]);k.Sm=null;k.gj=null;k.Hs=null;k.pd=!1;k.Zd=null;g[6]?(k.lo=g[6][0],k.or=g[6][1],k.Rj=g[6][2]):(k.lo=null,k.or=0,k.Rj=0);g[7]?k.Yd=g[7]:k.Yd=null;k.index=b;k.F=[];k.Im=[];k.Ng=[new $b(k)];k.Hf=0;k.Ke=null;k.ey=0;k.Nj=!0;k.uo=ac;k.Fz=bc;k.Lz=cc;k.Va=dc;k.tl=ec;k.Ji=fc;k.Uf=gc;k.$m=hc;k.wp=ic;k.zp=jc;k.ig=kc;k.Ap=lc;k.lk=new Mb(this.Fc,this.Ec);k.hm=!0;k.jm=!1;k.ja={};k.toString=mc;k.Mb=[];h=0;for(d=g[8].length;h<d;h++){m=g[8][h];l=this.Zg(m[1]);
p=null;e=0;for(f=this.Mb.length;e<f;e++)if(this.Mb[e]instanceof l){p=this.Mb[e];break}p||(p=new l(this),p.xq=[],p.wq=new fa,p.ra&&p.ra(),this.Mb.push(p),Wc.CB&&p instanceof Wc.CB&&(this.qv=p));-1===p.xq.indexOf(k)&&p.xq.push(k);e=new p.Xa(p,k);e.name=m[0];e.Ya=m[2];e.ra();k.Mb.push(e)}k.global=g[9];k.Up=g[10];k.Ea=[];h=0;for(d=g[12].length;h<d;h++)k.Ea.push({id:g[12][h][0],name:g[12][h][1],qc:-1,qf:!1,tc:!0,index:h});k.cD=g[13];this.Dr&&!k.ta&&!k.Up&&n.uh||k.ra();k.name&&(this.types[k.name]=k);this.ea.push(k);
n.eo&&(h=new n.La(k),h.uid=this.ml++,h.Lu=this.gu++,h.ni=0,h.Dk=nc,h.toString=oc,h.W=g[14],h.ra(),k.F.push(h),this.Dg[h.uid.toString()]=h)}b=0;for(c=a[4].length;b<c;b++)for(e=a[4][b],f=this.ea[e[0]],h=1,d=e.length;h<d;h++)g=this.ea[e[h]],g.Lb.push(f),f.Cj.push(g);b=0;for(c=a[28].length;b<c;b++){e=a[28][b];f=[];h=0;for(d=e.length;h<d;h++)f.push(this.ea[e[h]]);h=0;for(d=f.length;h<d;h++)f[h].pd=!0,f[h].Zd=f}if(0<this.uk)for(b=0,c=this.ea.length;b<c;b++)if(g=this.ea[b],!g.ta&&g.Lb.length){g.Sm=Array(this.uk);
g.gj=Array(this.uk);g.Hs=Array(this.uk);k=[];h=p=l=m=0;for(d=g.Lb.length;h<d;h++)for(n=g.Lb[h],g.Sm[n.sg]=m,m+=n.UB,g.gj[n.sg]=l,l+=n.Qx,g.Hs[n.sg]=p,p+=n.yz,e=0,f=n.Ea.length;e<f;e++)k.push(Da({},n.Ea[e]));g.Ea=k.concat(g.Ea);h=0;for(d=g.Ea.length;h<d;h++)g.Ea[h].index=h}b=0;for(c=a[5].length;b<c;b++)g=a[5][b],h=new pc(this,g),this.kq[h.name]=h,this.nf.push(h);b=0;for(c=a[6].length;b<c;b++)g=a[6][b],h=new qc(this,g),this.mp[h.name]=h,this.rg.push(h);b=0;for(c=this.rg.length;b<c;b++)this.rg[b].ac();
b=0;for(c=this.rg.length;b<c;b++)this.rg[b].Ar();b=0;for(c=this.so.length;b<c;b++)this.so[b].ac();G(this.so);this.Nx=a[7];this.qp=a[8];this.pf=a[9];this.jk=1;this.My=a[13];this.Gb=a[14];this.Po=a[15];this.SB=a[17];this.Iq=a[20];this.Px=0<this.Iq;this.UA=a[22];this.pe=this.Pv=a[23];this.Fy=a[24];this.ZA=a[25];this.Fb=a[27]&&!this.rh;this.fo=Date.now();G(this.Cn);this.lA()};var h=!1;a.prototype.Fr=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){h=a.ss=!0;console&&console.error&&console.error("Error loading image '"+
a.src+"': ",b)};this.mf?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){h=a.ss=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",this.av(a,b)));this.Wj.push(a)};a.prototype.vz=function(a){var b,c;b=0;for(c=this.Wj.length;b<c;b++)if(this.Wj[b].$x===a)return this.Wj[b];return null};var n=0,q=!1;a.prototype.dA=function(){this.$i&&(n=this.$i.yB(this.Nx))};a.prototype.ms=function(){var a=
n,b=0,c=0,h=!0,d,e,c=0;for(d=this.Wj.length;c<d;c++){e=this.Wj[c];var g=e.ys;if(!g||0>=g)g=5E4;a+=g;e.src&&(e.complete||e.loaded)&&!e.ss?b+=g:h=!1}h&&this.ZA&&this.$i&&(q||(this.$i.EB(),q=!0),c=this.$i.Mz(),b+=c,c<n&&(h=!1));this.rf=0==a?1:b/a;return h};var p=!1;a.prototype.go=function(){if(this.Kb||this.da){var a=this.Kb||this.Kq;this.bd&&this.Gu();var b=window.innerWidth,c=window.innerHeight;this.uj===b&&this.tj===c||this.setSize(b,c);this.rf=0;this.Et=-1;var d=this;if(this.ms()&&(4!==this.wh||
p))this.eA();else{c=Date.now()-this.fo;if(a){var e=this.width,f=this.height,b=this.devicePixelRatio;if(3>this.wh&&(this.Qe||500<=c&&this.Et!=this.rf)){a.clearRect(0,0,e,f);var c=e/2,f=f/2,e=0===this.wh&&this.vh.zn.complete,n=40*b,k=0,m=80*b,l;if(e){var q=this.vh.zn,m=q.width*b;l=q.height*b;n=m/2;k=l/2;a.drawImage(q,wa(c-n),wa(f-k),m,l)}1>=this.wh?(c=wa(c-n)+.5,f=wa(f+(k+(e?12*b:0)))+.5,a.fillStyle=h?"red":"DodgerBlue",a.fillRect(c,f,Math.floor(m*this.rf),6*b),a.strokeStyle="black",a.strokeRect(c,
f,m,6*b),a.strokeStyle="white",a.strokeRect(c-1*b,f-1*b,m+2*b,8*b)):2===this.wh&&(a.font=this.mf?"12pt ArialMT":"12pt Arial",a.fillStyle=h?"#f00":"#999",a.bD="middle",b=Math.round(100*this.rf)+"%",e=a.measureText?a.measureText(b):null,a.fillText(b,c-(e?e.width:0)/2,f));this.Et=this.rf}else if(4===this.wh){this.Ky(a);g?g(function(){d.go()}):setTimeout(function(){d.go()},16);return}}setTimeout(function(){d.go()},this.Qe?10:100)}}};var r=-1,t="undefined"===typeof cr_is_preview?200:0,u=!0,v=!1,A=0,C=
0,w="undefined"===typeof cr_is_preview?3E3:0,E=null,z=null,F=0;a.prototype.Ky=function(a){if(!p){for(var b=Math.ceil(this.width),d=Math.ceil(this.height),e=this.vh.zn,g=this.vh.YA,f=this.vh.VB,n=0;4>n;++n)if(!e[n].complete||!g[n].complete||!f[n].complete)return;0===F&&(r=Date.now());var n=Date.now(),k=!1,m=a,l,q;u||v?(a.clearRect(0,0,b,d),E&&E.width===b&&E.height===d||(E=document.createElement("canvas"),E.width=b,E.height=d,z=E.getContext("2d")),m=z,k=!0,u&&1===F&&(r=Date.now())):a.globalAlpha=1;
m.fillStyle="#333333";m.fillRect(0,0,b,d);256<this.qk?(l=Oa(.22*d,105,.6*b),q=.25*l,m.drawImage(c(g,l),.5*b-l/2,.2*d-q/2,l,q),q=l=Math.min(.395*d,.95*b),m.drawImage(c(e,l),.5*b-l/2,.485*d-q/2,l,q),l=Oa(.22*d,105,.6*b),q=.25*l,m.drawImage(c(f,l),.5*b-l/2,.868*d-q/2,l,q),m.fillStyle="#3C3C3C",l=b,q=Math.max(.005*d,2),m.fillRect(0,.8*d-q/2,l,q),m.fillStyle=h?"red":"#E0FF65",l=b*this.rf,m.fillRect(.5*b-l/2,.8*d-q/2,l,q)):(q=l=.55*d,m.drawImage(c(e,l),.5*b-l/2,.45*d-q/2,l,q),m.fillStyle="#3C3C3C",l=b,
q=Math.max(.005*d,2),m.fillRect(0,.85*d-q/2,l,q),m.fillStyle=h?"red":"#E0FF65",l=b*this.rf,m.fillRect(.5*b-l/2,.85*d-q/2,l,q));k&&(u?a.globalAlpha=0===F?0:Math.min((n-r)/300,1):v&&(a.globalAlpha=Math.max(1-(n-C)/300,0)),a.drawImage(E,0,0,b,d));u&&300<=n-r&&2<=F&&(u=!1,A=n);!u&&n-A>=w&&!v&&1<=this.rf&&(v=!0,C=n);if(v&&n-C>=300+t||"undefined"!==typeof cr_is_preview&&1<=this.rf&&500>Date.now()-r)p=!0,v=u=!1,this.vh=z=E=null;++F}};a.prototype.eA=function(){this.bd&&(this.canvas.parentNode.removeChild(this.bd),
this.bd=this.Kq=null);this.fo=Date.now();this.xi=rb();var a,b,c;if(this.Dr)for(a=0,b=this.ea.length;a<b;a++)c=this.ea[a],c.ta||c.Up||!c.pb.uh||c.ra();else this.Vk=!1;a=0;for(b=this.nf.length;a<b;a++)this.nf[a].ay();2<=this.xd&&(a=this.Fc/this.Ec,b=this.width/this.height,this.jk=2!==this.xd&&b>a||2===this.xd&&b<a?this.height/this.Ec:this.width/this.Fc);this.Os?this.kq[this.Os].lr():this.nf[0].lr();this.Dr||(this.yj=1,this.trigger(U.prototype.K.Pr,null),window.C2_RegisterSW&&window.C2_RegisterSW());
navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.ea.length;a<b;a++)c=this.ea[a],c.MA&&c.MA();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.ec(!1);this.od&&AppMobi.webview.execute("onGameReady();")};a.prototype.ec=function(a,b,c){if(this.tb){var h=rb();if(c||!this.Qk||a){a||(g?this.Rq=g(this.yv):this.rr=setTimeout(this.yv,this.qi?1:16));b=b||h;var d=this.xd;((c=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.ae)||this.Ok)&&0<this.fi&&(d=this.fi);if(0<d){var d=window.innerWidth,e=window.innerHeight;this.uj===d&&this.tj===e||this.setSize(d,e)}this.Cb||(c?(this.Vm||(this.up=jQuery(this.canvas).css("margin")||"0",this.Vm=!0),this.Jk||this.sh||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/
2)+"px"})):this.Vm?(this.Jk||this.sh||jQuery(this.canvas).css("margin",this.up),this.up="",this.Vm=!1,0===this.xd&&this.setSize(Math.round(this.mu/this.devicePixelRatio),Math.round(this.lu/this.devicePixelRatio),!0)):(this.mu=this.width,this.lu=this.height));this.Vk&&(c=this.ms(),this.yj=this.rf,c&&(this.Vk=!1,this.rf=1,this.trigger(U.prototype.K.Pr,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.FA(b);!this.kb&&!this.Qe||this.Zp||this.Fl||a||(this.kb=!1,this.da?this.Kd():this.Jf(),this.Dl&&
(this.canvas&&this.canvas.toDataURL&&(this.pv=this.canvas.toDataURL(this.Dl[0],this.Dl[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.pv),this.trigger(U.prototype.K.Ew,null)),this.Dl=null));this.QC||(this.Ih++,this.di++,this.Xm++);this.gl+=rb()-h}}};a.prototype.FA=function(a){var b,c,h,d,e,g,f,n;1E3<=a-this.xi&&(this.xi+=1E3,1E3<=a-this.xi&&(this.xi=a),this.tp=this.Xm,this.Xm=0,this.bp=this.gl,this.gl=0);b=0;0!==this.rn&&(b=a-this.rn,0>b&&(b=0),this.Yh=b/=1E3,.5<this.Yh?this.Yh=0:this.Yh>1/this.bu&&
(this.Yh=1/this.bu));this.rn=a;this.Da=this.Yh*this.Jh;this.Jc.add(this.Da);this.Rg.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Ok)&&!this.ae;2<=this.xd||a&&0<this.fi?(b=this.Fc/this.Ec,c=this.width/this.height,h=this.xd,a&&0<this.fi&&(h=this.fi),this.jk=2!==h&&c>b||2===h&&c<b?this.height/this.Ec:this.width/this.Fc,this.tb&&(this.tb.Uu(this.tb.scrollX),this.tb.Vu(this.tb.scrollY))):this.jk=this.ri?this.devicePixelRatio:1;
this.gd();this.ve++;this.$f.pB();this.ve--;this.gd();this.ve++;c=this.ku.dg();a=0;for(b=c.length;a<b;a++)c[a].YC();a=0;for(b=this.ea.length;a<b;a++)if(g=this.ea[a],!g.ta&&(g.Mb.length||g.Lb.length))for(c=0,h=g.F.length;c<h;c++)for(f=g.F[c],d=0,e=f.Ca.length;d<e;d++)f.Ca[d].ec();a=0;for(b=this.ea.length;a<b;a++)if(g=this.ea[a],!g.ta&&(g.Mb.length||g.Lb.length))for(c=0,h=g.F.length;c<h;c++)for(f=g.F[c],d=0,e=f.Ca.length;d<e;d++)n=f.Ca[d],n.XA&&n.XA();c=this.zq.dg();a=0;for(b=c.length;a<b;a++)c[a].ec();
this.ve--;this.fA();for(a=0;this.kk&&10>a++;)this.Fs(this.kk);a=0;for(b=this.rg.length;a<b;a++)this.rg[a].Hp=!1;this.tb.bi&&this.tb.bi.pc();G(this.Uq);this.ve++;a=0;for(b=this.ea.length;a<b;a++)if(g=this.ea[a],!g.ta&&(g.Mb.length||g.Lb.length))for(c=0,h=g.F.length;c<h;c++)for(f=g.F[c],d=0,e=f.Ca.length;d<e;d++)n=f.Ca[d],n.qr&&n.qr();c=this.Aq.dg();a=0;for(b=c.length;a<b;a++)c[a].qr();this.ve--};a.prototype.Gj=function(){var a,b,c,h,d,e,g,f,n;a=0;for(b=this.ea.length;a<b;a++)if(g=this.ea[a],!g.ta)for(c=
0,h=g.F.length;c<h;c++)if(f=g.F[c],f.Gj&&f.Gj(),f.Ca)for(d=0,e=f.Ca.length;d<e;d++)n=f.Ca[d],n.Gj&&n.Gj()};a.prototype.Fs=function(a){var b=this.tb;this.tb.HB();var c,h,d;if(this.da)for(c=0,h=this.ea.length;c<h;c++)d=this.ea[c],d.ta||!d.to||d.global&&0!==d.F.length||-1!==a.Hk.indexOf(d)||d.to();b==a&&G(this.$f.Ud);G(this.Uq);this.Su(!0);a.lr();this.Su(!1);this.kb=!0;this.gd()};a.prototype.Su=function(a){var b,c,h,d,e,g,f,n,k;b=0;for(c=this.Mb.length;b<c;b++)h=this.Mb[b],a?h.nl&&h.nl():h.ol&&h.ol();
b=0;for(c=this.ea.length;b<c;b++)if(h=this.ea[b],h.global||h.pb.eo)for(d=0,e=h.F.length;d<e;d++)if(g=h.F[d],a?g.nl&&g.nl():g.ol&&g.ol(),g.Ca)for(f=0,n=g.Ca.length;f<n;f++)k=g.Ca[f],a?k.nl&&k.nl():k.ol&&k.ol()};a.prototype.Kl=function(a){this.zq.add(a)};a.prototype.KB=function(a){this.Aq.add(a)};a.prototype.gi=function(a){return a&&-1!==a.ll?this.Yh*a.ll:this.Da};a.prototype.Jf=function(){this.tb.Jf(this.Kb);this.od&&this.Kb.present()};a.prototype.Kd=function(){this.Fb&&(this.Zh=1,this.tb.Xh(this.da));
this.tb.Kd(this.da);this.da.aB()};a.prototype.gs=function(a){a&&this.Mm.push(a)};a.prototype.kB=function(a){Na(this.Mm,a)};a.prototype.ii=function(a){a=a.toString();return this.Dg.hasOwnProperty(a)?this.Dg[a]:null};var B=[];a.prototype.Xg=function(a){var b,c;b=a.type.name;var h=null;if(this.Wh.hasOwnProperty(b)){if(h=this.Wh[b],h.contains(a))return}else h=B.length?B.pop():new fa,this.Wh[b]=h;h.add(a);this.qh=!0;if(a.pd)for(b=0,c=a.siblings.length;b<c;b++)this.Xg(a.siblings[b]);this.Tp&&h.Uj.push(a);
this.Sp||(this.ve++,this.trigger(Object.getPrototypeOf(a.type.pb).K.Fw,a),this.ve--)};a.prototype.gd=function(){if(this.qh){var a,b,c,h,d,e;this.Tp=!0;c=0;for(d=this.kf.length;c<d;++c)for(a=this.kf[c],b=a.type,b.F.push(a),h=0,e=b.Lb.length;h<e;++h)b.Lb[h].F.push(a),b.Lb[h].Nj=!0;G(this.kf);this.vw();qb(this.Wh);this.qh=this.Tp=!1}};a.prototype.vw=function(){for(var a in this.Wh)this.Wh.hasOwnProperty(a)&&this.Xv(this.Wh[a])};a.prototype.Xv=function(a){var b=a.dg(),c=b[0].type,h,d,e,g,f,n;tb(c.F,a);
c.Nj=!0;0===c.F.length&&(c.jm=!1);h=0;for(d=c.Lb.length;h<d;++h)n=c.Lb[h],tb(n.F,a),n.Nj=!0;h=0;for(d=this.$f.Ud.length;h<d;++h)if(f=this.$f.Ud[h],f.Cd.hasOwnProperty(c.index)&&tb(f.Cd[c.index].vg,a),!c.ta)for(e=0,g=c.Lb.length;e<g;++e)n=c.Lb[e],f.Cd.hasOwnProperty(n.index)&&tb(f.Cd[n.index].vg,a);if(f=b[0].V){if(f.Be)for(e=f.F,h=0,d=e.length;h<d;++h)g=e[h],a.contains(g)&&(g.lb(),f.cd.update(g,g.Qd,null),g.Qd.set(0,0,-1,-1));tb(f.F,a);f.zl(0)}for(h=0;h<b.length;++h)this.Wv(b[h],c);a.clear();B.push(a);
this.kb=!0};a.prototype.Wv=function(a,b){var c,h,d;c=0;for(h=this.Mm.length;c<h;++c)this.Mm[c](a);a.Ge&&b.lk.update(a,a.Ge,null);(c=a.V)&&c.Ij(a,!0);if(a.Ca)for(c=0,h=a.Ca.length;c<h;++c)d=a.Ca[c],d.Ii&&d.Ii(),d.behavior.wq.remove(a);this.ku.remove(a);this.zq.remove(a);this.Aq.remove(a);a.Ii&&a.Ii();this.Dg.hasOwnProperty(a.uid.toString())&&delete this.Dg[a.uid.toString()];this.Dn--;100>b.Im.length&&b.Im.push(a)};a.prototype.dp=function(a,b,c,h){if(a.ta){var d=wa(Math.random()*a.Cj.length);return this.dp(a.Cj[d],
b,c,h)}return a.Ke?this.jh(a.Ke,b,!1,c,h,!1):null};var x=[];a.prototype.jh=function(a,b,c,h,d,e){var g,f,n,k;if(!a)return null;var m=this.ea[a[1]],l=m.pb.uh;if(this.Vk&&l&&!m.Up||l&&!this.da&&11===a[0][11])return null;var q=b;l||(b=null);var p;m.Im.length?(p=m.Im.pop(),p.Pd=!0,m.pb.La.call(p,m)):(p=new m.pb.La(m),p.Pd=!1);!c||e||this.Dg.hasOwnProperty(a[2].toString())?p.uid=this.ml++:p.uid=a[2];this.Dg[p.uid.toString()]=p;p.Lu=this.gu++;p.ni=m.F.length;g=0;for(f=this.kf.length;g<f;++g)this.kf[g].type===
m&&p.ni++;p.Dk=nc;p.toString=oc;n=a[3];if(p.Pd)qb(p.ja);else{p.ja={};if("undefined"!==typeof cr_is_preview)for(p.it=[],p.it.length=n.length,g=0,f=n.length;g<f;g++)p.it[g]=n[g][1];p.zc=[];p.zc.length=n.length}g=0;for(f=n.length;g<f;g++)p.zc[g]=n[g][0];if(l){var r=a[0];p.x=la(h)?r[0]:h;p.y=la(d)?r[1]:d;p.z=r[2];p.width=r[3];p.height=r[4];p.depth=r[5];p.M=r[6];p.opacity=r[7];p.yd=r[8];p.zd=r[9];p.hd=r[10];g=r[11];!this.da&&m.Ea.length&&(p.hd=g);p.mk=Tb(p.hd);this.ka&&Ub(p,p.hd,this.ka);if(p.Pd){g=0;
for(f=r[12].length;g<f;g++)for(n=0,k=r[12][g].length;n<k;n++)p.Nb[g][n]=r[12][g][n];p.Wb.set(0,0,0,0);p.Ge.set(0,0,-1,-1);p.Qd.set(0,0,-1,-1);p.Eb.Al(p.Wb);G(p.To)}else{p.Nb=r[12].slice(0);g=0;for(f=p.Nb.length;g<f;g++)p.Nb[g]=r[12][g].slice(0);p.mb=[];p.ah=[];p.ah.length=m.Ea.length;p.Wb=new za(0,0,0,0);p.Ge=new za(0,0,-1,-1);p.Qd=new za(0,0,-1,-1);p.Eb=new Ba;p.To=[];p.ua=rc;p.LC=sc;p.jd=tc;p.lb=uc;p.RB=vc;p.Mv=wc;p.Nf=xc}p.Og=!1;p.NB=0;p.MB=0;p.LB=null;14===r.length&&(p.Og=!0,p.NB=r[13][0],p.MB=
r[13][1],p.LB=r[13][2]);g=0;for(f=m.Ea.length;g<f;g++)p.ah[g]=!0;p.Lg=!0;p.vf=Ac;p.vf();p.Nv=!!p.mb.length;p.So=!0;p.Wo=!0;m.hm=!0;p.visible=!0;p.ll=-1;p.V=b;p.xf=b.F.length;p.Zh=0;"undefined"===typeof p.Ta&&(p.Ta=null);this.kb=p.He=!0}var v;G(x);g=0;for(f=m.Lb.length;g<f;g++)x.push.apply(x,m.Lb[g].Mb);x.push.apply(x,m.Mb);if(p.Pd)for(g=0,f=x.length;g<f;g++){var A=x[g];v=p.Ca[g];v.Pd=!0;A.behavior.La.call(v,A,p);r=a[4][g];n=0;for(k=r.length;n<k;n++)v.W[n]=r[n];v.ra();A.behavior.wq.add(p)}else for(p.Ca=
[],g=0,f=x.length;g<f;g++)A=x[g],v=new A.behavior.La(A,p),v.Pd=!1,v.W=a[4][g].slice(0),v.ra(),p.Ca.push(v),A.behavior.wq.add(p);r=a[5];if(p.Pd)for(g=0,f=r.length;g<f;g++)p.W[g]=r[g];else p.W=r.slice(0);this.kf.push(p);this.qh=!0;b&&(b.ik(p,!0),1!==b.Nd||1!==b.Od)&&(m.jm=!0);this.Dn++;if(m.pd){if(p.pd=!0,p.Pd?G(p.siblings):p.siblings=[],!c&&!e){g=0;for(f=m.Zd.length;g<f;g++)if(m.Zd[g]!==m){if(!m.Zd[g].Ke)return null;p.siblings.push(this.jh(m.Zd[g].Ke,q,!1,l?p.x:h,l?p.y:d,!0))}g=0;for(f=p.siblings.length;g<
f;g++)for(p.siblings[g].siblings.push(p),n=0;n<f;n++)g!==n&&p.siblings[g].siblings.push(p.siblings[n])}}else p.pd=!1,p.siblings=null;p.ra();g=0;for(f=p.Ca.length;g<f;g++)p.Ca[g].Hu&&p.Ca[g].Hu();return p};a.prototype.Bk=function(a){var b,c;b=0;for(c=this.tb.Ka.length;b<c;b++){var h=this.tb.Ka[b];if(Wb(h.name,a))return h}return null};a.prototype.ug=function(a){a=wa(a);0>a&&(a=0);a>=this.tb.Ka.length&&(a=this.tb.Ka.length-1);return this.tb.Ka[a]};a.prototype.Zo=function(a){var b,c;b=0;for(c=a.length;b<
c;b++)a[b].Va().eb=!0};a.prototype.tl=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].tl()};a.prototype.Ji=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Ji()};a.prototype.Uf=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Uf()};a.prototype.Jv=function(a){if(a.hm){var b,c,h=a.F;b=0;for(c=h.length;b<c;++b)h[b].Mv();h=this.kf;b=0;for(c=h.length;b<c;++b)h[b].type===a&&h[b].Mv();a.hm=!1}};a.prototype.Dz=function(a,b,c,h){var d,e,g=a?1!==a.Nd||1!==a.Od:!1;if(b.ta)for(a=0,d=b.Cj.length;a<d;++a)e=
b.Cj[a],g||e.jm?Ja(h,e.F):(this.Jv(e),e.lk.Sn(c,h));else g||b.jm?Ja(h,b.F):(this.Jv(b),b.lk.Sn(c,h))};a.prototype.Rz=function(a,b,c,h){var d,e;d=0;for(e=b.length;d<e;++d)this.Dz(a,b[d],c,h)};a.prototype.Qz=function(a,b,c){var h=this.qv;h&&this.Rz(a,h.xq,b,c)};a.prototype.Hl=function(a,b,c){var h=a.Va(),d,e,g,f,n=this.lc().ic.Ve,k,m,l;if(h.eb)for(h.eb=!1,G(h.F),d=0,f=a.F.length;d<f;d++)g=a.F[d],g.lb(),k=g.V.Xb(b,c,!0),m=g.V.Xb(b,c,!1),g.jd(k,m)?h.F.push(g):n&&h.Ua.push(g);else{e=0;l=n?h.Ua:h.F;d=0;
for(f=l.length;d<f;d++)g=l[d],g.lb(),k=g.V.Xb(b,c,!0),m=g.V.Xb(b,c,!1),g.jd(k,m)&&(n?h.F.push(g):(h.F[e]=h.F[d],e++));l.length=e}a.ig();return h.Gp()};a.prototype.Oj=function(a,b){if(!(a&&b&&a!==b&&a.He&&b.He))return!1;a.lb();b.lb();var c=a.V,h=b.V,d,e,g,f,n,k,m,l;if(c===h||c.Nd===h.Nd&&h.Od===h.Od&&c.scale===h.scale&&c.M===h.M&&c.ud===h.ud){if(!a.Wb.mA(b.Wb)||!a.Eb.jt(b.Eb)||a.Og&&b.Og)return!1;if(a.Og)return this.wv(a,b);if(b.Og)return this.wv(b,a);m=a.Ta&&!a.Ta.si();d=b.Ta&&!b.Ta.si();if(!m&&!d)return!0;
m?(a.Ta.Uh(a.width,a.height,a.M),m=a.Ta):(this.tf.Lj(a.Eb,a.x,a.y,a.width,a.height),m=this.tf);d?(b.Ta.Uh(b.width,b.height,b.M),l=b.Ta):(this.tf.Lj(b.Eb,b.x,b.y,b.width,b.height),l=this.tf);return m.Ik(l,b.x-a.x,b.y-a.y)}m=a.Ta&&!a.Ta.si();d=b.Ta&&!b.Ta.si();m?(a.Ta.Uh(a.width,a.height,a.M),this.tf.gv(a.Ta)):this.tf.Lj(a.Eb,a.x,a.y,a.width,a.height);m=this.tf;d?(b.Ta.Uh(b.width,b.height,b.M),this.nr.gv(b.Ta)):this.nr.Lj(b.Eb,b.x,b.y,b.width,b.height);l=this.nr;d=0;for(e=m.ze;d<e;d++)g=2*d,f=g+1,n=
m.cc[g],k=m.cc[f],m.cc[g]=c.Bc(n+a.x,k+a.y,!0),m.cc[f]=c.Bc(n+a.x,k+a.y,!1);m.lb();d=0;for(e=l.ze;d<e;d++)g=2*d,f=g+1,n=l.cc[g],k=l.cc[f],l.cc[g]=h.Bc(n+b.x,k+b.y,!0),l.cc[f]=h.Bc(n+b.x,k+b.y,!1);l.lb();return m.Ik(l,0,0)};var H=new Ba;new za(0,0,0,0);var V=[];a.prototype.wv=function(a,b){var c,h,d,e,g=b.Wb,f=a.x,n=a.y;a.OC(g,V);var k=b.Ta&&!b.Ta.si();c=0;for(h=V.length;c<h;++c)if(d=V[c],e=d.gB,g.nA(e,f,n)&&(H.Al(e),H.offset(f,n),H.jt(b.Eb)))if(k)if(b.Ta.Uh(b.width,b.height,b.M),d.Tf){if(d.Tf.Ik(b.Ta,
b.x-(f+e.left),b.y-(n+e.top)))return G(V),!0}else{if(this.tf.Lj(H,0,0,e.right-e.left,e.bottom-e.top),this.tf.Ik(b.Ta,b.x,b.y))return G(V),!0}else if(d.Tf){if(this.tf.Lj(b.Eb,0,0,b.width,b.height),d.Tf.Ik(this.tf,-(f+e.left),-(n+e.top)))return G(V),!0}else return G(V),!0;G(V);return!1};a.prototype.Fv=function(a,b){if(!b)return!1;var c,h,d,e,g;c=0;for(h=a.Mb.length;c<h;c++)if(a.Mb[c].behavior instanceof b)return!0;if(!a.ta)for(c=0,h=a.Lb.length;c<h;c++)for(g=a.Lb[c],d=0,e=g.Mb.length;d<e;d++)if(g.Mb[d].behavior instanceof
b)return!0;return!1};a.prototype.xr=function(a){return this.Fv(a,Wc.rC)};a.prototype.yr=function(a){return this.Fv(a,Wc.sC)};var M=[];a.prototype.Oi=function(a){var b,c,h;a.lb();this.Qz(a.V,a.Wb,M);b=0;for(c=M.length;b<c;++b)if(h=M[b],h.ja.solidEnabled&&this.Oj(a,h))return G(M),h;G(M);return null};a.prototype.eB=function(a,b,c,h){h=h||50;var d=a.x,e=a.y,g,f=null,n=null;for(g=0;g<h;g++)if(a.x=d+b*g,a.y=e+c*g,a.ua(),!this.Oj(a,f)&&((f=this.Oi(a))&&(n=f),!f&&!f))return n&&this.cB(a,b,c,n),!0;a.x=d;a.y=
e;a.ua();return!1};a.prototype.cB=function(a,b,c,h){var d=2,e,g=!1;e=!1;for(var f=a.x,n=a.y;16>=d;)e=1/d,d*=2,a.x+=b*e*(g?1:-1),a.y+=c*e*(g?1:-1),a.ua(),this.Oj(a,h)?e=g=!0:(e=g=!1,f=a.x,n=a.y);e&&(a.x=f,a.y=n,a.ua())};a.prototype.fB=function(a){var b=0,c=a.x,h=a.y,d=0,e=0,g=0,f=this.Oi(a);if(f){for(;100>=b;){switch(d){case 0:e=0;g=-1;b++;break;case 1:e=1;g=-1;break;case 2:e=1;g=0;break;case 3:g=e=1;break;case 4:e=0;g=1;break;case 5:e=-1;g=1;break;case 6:e=-1;g=0;break;case 7:g=e=-1}d=(d+1)%8;a.x=
wa(c+e*b);a.y=wa(h+g*b);a.ua();if(!this.Oj(a,f)&&(f=this.Oi(a),!f))return}a.x=c;a.y=h;a.ua()}};a.prototype.Qu=function(a,b){a.He&&b.He&&this.Uq.push([a,b])};a.prototype.Ux=function(a,b,c){var h=a.x,d=a.y,e=sa(10,fb(b,c,h,d)),g=Va(b,c,h,d),f=this.Oi(a);if(!f)return Sa(g+va);var n=f,k,m,l,p,q=J(5);for(k=1;36>k;k++)if(m=g-k*q,a.x=b+Math.cos(m)*e,a.y=c+Math.sin(m)*e,a.ua(),!this.Oj(a,n)&&(n=this.Oi(a),!n)){l=m;break}36===k&&(l=Sa(g+va));n=f;for(k=1;36>k;k++)if(m=g+k*q,a.x=b+Math.cos(m)*e,a.y=c+Math.sin(m)*
e,a.ua(),!this.Oj(a,n)&&(n=this.Oi(a),!n)){p=m;break}36===k&&(p=Sa(g+va));a.x=h;a.y=d;a.ua();if(p===l)return p;a=Ya(p,l)/2;a=db(p,l)?Sa(l+a+va):Sa(p+a);l=Math.cos(g);g=Math.sin(g);p=Math.cos(a);a=Math.sin(a);b=l*p+g*a;return Va(0,0,l-2*b*p,g-2*b*a)};var N=-1;a.prototype.trigger=function(a,b,c){if(!this.tb)return!1;var h=this.tb.bi;if(!h)return!1;var d=!1,e,g,f;N++;var n=h.hp;g=0;for(f=n.length;g<f;++g)e=this.Cv(a,b,n[g],c),d=d||e;e=this.Cv(a,b,h,c);N--;return d||e};a.prototype.Cv=function(a,b,c,h){var d=
!1,e,g,f,n;if(b)for(f=this.ur(a,b,b.type.name,c,h),d=d||f,n=b.type.Lb,e=0,g=n.length;e<g;++e)f=this.ur(a,b,n[e].name,c,h),d=d||f;else f=this.ur(a,b,"system",c,h),d=d||f;return d};a.prototype.ur=function(a,b,c,h,d){var e,g=!1,f=!1,f="undefined"!==typeof d,n=(f?h.Js:h.Dv)[c];if(!n)return g;var k=null;h=0;for(e=n.length;h<e;++h)if(n[h].method==a){k=n[h].sk;break}if(!k)return g;var m;f?m=k[d]:m=k;if(!m)return null;h=0;for(e=m.length;h<e;h++)a=m[h][0],d=m[h][1],f=this.sz(b,c,a,d),g=g||f;return g};a.prototype.sz=
function(a,b,c,h){var d,e,g=!1;this.wr++;var f=this.lc().ic;f&&this.tl(f.Hh);var n=1<this.wr;this.tl(c.Hh);n&&this.dB();var k=this.Rn(c);k.ic=c;a&&(d=this.types[b].Va(),d.eb=!1,G(d.F),d.F[0]=a,this.types[b].ig());a=!0;if(c.parent){b=k.vv;for(d=c.parent;d;)b.push(d),d=d.parent;b.reverse();d=0;for(e=b.length;d<e;d++)if(!b[d].rB()){a=!1;break}}a&&(this.di++,c.Ve?c.qB(h):c.pc(),g=g||k.wi);this.Nn();n&&this.WA();this.Uf(c.Hh);f&&this.Uf(f.Hh);this.qh&&0===this.ve&&0===N&&!this.Vp&&this.gd();this.wr--;
return g};a.prototype.Ts=function(){var a=this.lc();return a.ic.vc[a.uc]};a.prototype.Ez=function(){var a=this.lc();return a.ic.Ee[a.Gd]};a.prototype.dB=function(){this.yn++;this.yn>=this.pq.length&&this.pq.push([])};a.prototype.WA=function(){this.yn--};a.prototype.Us=function(){return this.pq[this.yn]};a.prototype.Rn=function(a){this.Pm++;this.Pm>=this.lp.length&&this.lp.push(new Ic);var b=this.lc();b.reset(a);return b};a.prototype.Nn=function(){this.Pm--};a.prototype.lc=function(){return this.lp[this.Pm]};
a.prototype.Mu=function(a){this.il++;this.il>=this.hl.length&&this.hl.push(ca({name:a,index:0,Ub:!1}));var b=this.Vs();b.name=a;b.index=0;b.Ub=!1;return b};a.prototype.Fu=function(){this.il--};a.prototype.Vs=function(){return this.hl[this.il]};a.prototype.Ws=function(a,b){for(var c,h,d,e,g,f;b;){c=0;for(h=b.Ze.length;c<h;c++)if(f=b.Ze[c],f instanceof Jc&&Wb(a,f.name))return f;b=b.parent}c=0;for(h=this.rg.length;c<h;c++)for(g=this.rg[c],d=0,e=g.nh.length;d<e;d++)if(f=g.nh[d],f instanceof Jc&&Wb(a,
f.name))return f;return null};a.prototype.Zs=function(a){var b,c;b=0;for(c=this.nf.length;b<c;b++)if(this.nf[b].Ya===a)return this.nf[b];return null};a.prototype.bn=function(a){var b,c;b=0;for(c=this.ea.length;b<c;b++)if(this.ea[b].Ya===a)return this.ea[b];return null};a.prototype.Hz=function(a){var b,c;b=0;for(c=this.Yi.length;b<c;b++)if(this.Yi[b].Ya===a)return this.Yi[b];return null};a.prototype.hy=function(a,b){this.Dl=[a,b];this.kb=!0};a.prototype.fA=function(){var a=this,c=this.dr,h=this.zg,
d=this.un,g=!1;this.nv&&(g=!0,c="__c2_continuouspreview",this.nv=!1);if(c.length){this.gd();h=this.vB();if(b()&&!this.Qe)f(c,h,function(){ja("Saved state to IndexedDB storage ("+h.length+" bytes)");a.zg=h;a.trigger(U.prototype.K.Fo,null);a.zg="";g&&e()},function(b){try{localStorage.setItem("__c2save_"+c,h),ja("Saved state to WebStorage ("+h.length+" bytes)"),a.zg=h,a.trigger(U.prototype.K.Fo,null),a.zg="",g&&e()}catch(d){ja("Failed to save game state: "+b+"; "+d),a.trigger(U.prototype.K.Vr,null)}});
else try{localStorage.setItem("__c2save_"+c,h),ja("Saved state to WebStorage ("+h.length+" bytes)"),a.zg=h,this.trigger(U.prototype.K.Fo,null),a.zg="",g&&e()}catch(n){ja("Error saving to WebStorage: "+n),a.trigger(U.prototype.K.Vr,null)}this.rd=this.un=this.dr=""}if(d.length){if(b()&&!this.Qe)k(d,function(b){b?(a.rd=b,ja("Loaded state from IndexedDB storage ("+a.rd.length+" bytes)")):(a.rd=localStorage.getItem("__c2save_"+d)||"",ja("Loaded state from WebStorage ("+a.rd.length+" bytes)"));a.Fl=!1;
a.rd.length||a.trigger(U.prototype.K.Eo,null)},function(){a.rd=localStorage.getItem("__c2save_"+d)||"";ja("Loaded state from WebStorage ("+a.rd.length+" bytes)");a.Fl=!1;a.rd.length||a.trigger(U.prototype.K.Eo,null)});else{try{this.rd=localStorage.getItem("__c2save_"+d)||"",ja("Loaded state from WebStorage ("+this.rd.length+" bytes)")}catch(m){this.rd=""}this.Fl=!1;a.rd.length||a.trigger(U.prototype.K.Eo,null)}this.dr=this.un=""}this.rd.length&&(this.gd(),this.DA(this.rd),this.zg=this.rd,this.trigger(U.prototype.K.Nw,
null),this.rd=this.zg="")};a.prototype.vB=function(){var a,b,c,h,d,e,g,f={c2save:!0,version:1,rt:{time:this.Jc.Fa,walltime:this.Rg.Fa,timescale:this.Jh,tickcount:this.Ih,execcount:this.di,next_uid:this.ml,running_layout:this.tb.Ya,start_time_offset:Date.now()-this.fo},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.ea.length;a<b;a++)if(d=this.ea[a],!d.ta&&!this.xr(d)){e={instances:[]};pb(d.ja)&&(e.ex=l(d.ja));c=0;for(h=d.F.length;c<h;c++)e.instances.push(this.cr(d.F[c]));
f.types[d.Ya.toString()]=e}a=0;for(b=this.nf.length;a<b;a++)c=this.nf[a],f.layouts[c.Ya.toString()]=c.Nc();h=f.events.groups;a=0;for(b=this.Yi.length;a<b;a++)c=this.Yi[a],h[c.Ya.toString()]=this.jj[c.Ek].ki;b=f.events.cnds;for(g in this.ih)this.ih.hasOwnProperty(g)&&(a=this.ih[g],pb(a.ja)&&(b[g]={ex:l(a.ja)}));b=f.events.acts;for(g in this.bh)this.bh.hasOwnProperty(g)&&(a=this.bh[g],pb(a.ja)&&(b[g]={ex:l(a.ja)}));b=f.events.vars;for(g in this.Vj)this.Vj.hasOwnProperty(g)&&(a=this.Vj[g],a.mn||a.parent&&
!a.Uk||(b[g]=a.data));f.system=this.$f.Nc();return JSON.stringify(f)};a.prototype.Pu=function(){var a,b,c,h,d,e;this.Dg={};a=0;for(b=this.ea.length;a<b;a++)if(c=this.ea[a],!c.ta)for(h=0,d=c.F.length;h<d;h++)e=c.F[h],this.Dg[e.uid.toString()]=e};a.prototype.DA=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.Mk=!0;var b=a.rt;this.Jc.reset();this.Jc.Fa=b.time;this.Rg.reset();this.Rg.Fa=b.walltime||0;this.Jh=b.timescale;this.Ih=b.tickcount;this.di=b.execcount;this.fo=Date.now()-b.start_time_offset;
var c=b.running_layout;if(c!==this.tb.Ya)if(c=this.Zs(c))this.Fs(c);else return;var h,d,e,g,f,n,k;n=a.types;for(d in n)if(n.hasOwnProperty(d)&&(g=this.bn(parseInt(d,10)))&&!g.ta&&!this.xr(g)){n[d].ex?g.ja=n[d].ex:qb(g.ja);f=g.F;e=n[d].instances;c=0;for(h=ta(f.length,e.length);c<h;c++)this.vn(f[c],e[c]);c=e.length;for(h=f.length;c<h;c++)this.Xg(f[c]);c=f.length;for(h=e.length;c<h;c++){f=null;if(g.pb.uh&&(f=this.tb.an(e[c].w.l),!f))continue;f=this.jh(g.Ke,f,!1,0,0,!0);this.vn(f,e[c])}g.Nj=!0}this.gd();
this.Pu();h=a.layouts;for(d in h)h.hasOwnProperty(d)&&(c=this.Zs(parseInt(d,10)))&&c.qd(h[d]);h=a.events.groups;for(d in h)h.hasOwnProperty(d)&&(c=this.Hz(parseInt(d,10)))&&this.jj[c.Ek]&&this.jj[c.Ek].ao(h[d]);c=a.events.cnds;for(d in this.ih)this.ih.hasOwnProperty(d)&&(c.hasOwnProperty(d)?this.ih[d].ja=c[d].ex:this.ih[d].ja={});c=a.events.acts;for(d in this.bh)this.bh.hasOwnProperty(d)&&(c.hasOwnProperty(d)?this.bh[d].ja=c[d].ex:this.bh[d].ja={});c=a.events.vars;for(d in c)c.hasOwnProperty(d)&&
this.Vj.hasOwnProperty(d)&&(this.Vj[d].data=c[d]);this.ml=b.next_uid;this.Mk=!1;c=0;for(h=this.Um.length;c<h;++c)f=this.Um[c],this.trigger(Object.getPrototypeOf(f.type.pb).K.Wi,f);G(this.Um);this.$f.qd(a.system);c=0;for(h=this.ea.length;c<h;c++)if(g=this.ea[c],!g.ta&&!this.xr(g))for(d=0,a=g.F.length;d<a;d++){f=g.F[d];if(g.pd)for(n=f.Dk(),G(f.siblings),b=0,e=g.Zd.length;b<e;b++)k=g.Zd[b],g!==k&&f.siblings.push(k.F[n]);f.gg&&f.gg();if(f.Ca)for(b=0,e=f.Ca.length;b<e;b++)n=f.Ca[b],n.gg&&n.gg()}this.kb=
!0}};a.prototype.cr=function(a,b){var c,h,d,e,g;e=a.type;d=e.pb;var f={};b?f.c2=!0:f.uid=a.uid;pb(a.ja)&&(f.ex=l(a.ja));if(a.zc&&a.zc.length)for(f.ivs={},c=0,h=a.zc.length;c<h;c++)f.ivs[a.type.Pp[c].toString()]=a.zc[c];if(d.uh){d={x:a.x,y:a.y,w:a.width,h:a.height,l:a.V.Ya,zi:a.Nf()};0!==a.M&&(d.a=a.M);1!==a.opacity&&(d.o=a.opacity);.5!==a.yd&&(d.hX=a.yd);.5!==a.zd&&(d.hY=a.zd);0!==a.hd&&(d.bm=a.hd);a.visible||(d.v=a.visible);a.He||(d.ce=a.He);-1!==a.ll&&(d.mts=a.ll);if(e.Ea.length)for(d.fx=[],c=0,
h=e.Ea.length;c<h;c++)g=e.Ea[c],d.fx.push({name:g.name,active:a.ah[g.index],params:a.Nb[g.index]});f.w=d}if(a.Ca&&a.Ca.length)for(f.behs={},c=0,h=a.Ca.length;c<h;c++)e=a.Ca[c],e.Nc&&(f.behs[e.type.Ya.toString()]=e.Nc());a.Nc&&(f.data=a.Nc());return f};a.prototype.Jz=function(a,b){var c,h;c=0;for(h=a.Pp.length;c<h;c++)if(a.Pp[c]===b)return c;return-1};a.prototype.Cz=function(a,b){var c,h;c=0;for(h=a.Ca.length;c<h;c++)if(a.Ca[c].type.Ya===b)return c;return-1};a.prototype.vn=function(a,b,c){var h,d,
e,g,f;f=a.type;g=f.pb;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.ja=b.ex:qb(a.ja);if(d=b.ivs)for(h in d)d.hasOwnProperty(h)&&(e=this.Jz(f,parseInt(h,10)),0>e||e>=a.zc.length||(a.zc[e]=d[h]));if(g.uh){e=b.w;a.V.Ya!==e.l&&(d=a.V,a.V=this.tb.an(e.l),a.V?(d.Ij(a,!0),a.V.ik(a,!0),a.ua(),a.V.zl(0)):(a.V=d,c||this.Xg(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.xf=e.zi;a.M=e.hasOwnProperty("a")?e.a:0;a.opacity=e.hasOwnProperty("o")?e.o:1;a.yd=e.hasOwnProperty("hX")?e.hX:.5;a.zd=e.hasOwnProperty("hY")?
e.hY:.5;a.visible=e.hasOwnProperty("v")?e.v:!0;a.He=e.hasOwnProperty("ce")?e.ce:!0;a.ll=e.hasOwnProperty("mts")?e.mts:-1;a.hd=e.hasOwnProperty("bm")?e.bm:0;a.mk=Tb(a.hd);this.ka&&Ub(a,a.hd,this.ka);a.ua();if(e.hasOwnProperty("fx"))for(c=0,d=e.fx.length;c<d;c++)g=f.zp(e.fx[c].name),0>g||(a.ah[g]=e.fx[c].active,a.Nb[g]=e.fx[c].params);a.vf()}if(f=b.behs)for(h in f)f.hasOwnProperty(h)&&(c=this.Cz(a,parseInt(h,10)),0>c||a.Ca[c].qd(f[h]));b.data&&a.qd(b.data)};a.prototype.Ks=function(a,b,c){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+
"www/"+a,function(a){a.file(b,c)},c)};a.prototype.Ms=function(a,b){this.Ks("data.js",function(c){var h=new FileReader;h.onload=function(b){a(b.target.result)};h.onerror=b;h.readAsText(c)},b)};var D=[],K=0;a.prototype.sq=function(){if(D.length&&!(8<=K)){K++;var a=D.shift();this.ny(a.filename,a.IB,a.Qy)}};a.prototype.Ls=function(a,b,c){var h=this;D.push({filename:a,IB:function(a){K--;h.sq();b(a)},Qy:function(a){K--;h.sq();c(a)}});this.sq()};a.prototype.ny=function(a,b,c){this.Ks(a,function(a){var c=
new FileReader;c.onload=function(a){b(a.target.result)};c.readAsArrayBuffer(a)},c)};a.prototype.uz=function(a,b,c){this.Ls(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},c)};a.prototype.oA=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};a.prototype.av=function(a,b){this.Sk&&!this.oA(b)?this.uz(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};a.prototype.Zn=function(a,b){"undefined"!==typeof a.imageSmoothingEnabled?
a.imageSmoothingEnabled=b:(a.webkitImageSmoothingEnabled=b,a.mozImageSmoothingEnabled=b,a.msImageSmoothingEnabled=b)};Kc=function(b){return new a(document.getElementById(b))};Lc=function(b,c){return new a({dc:!0,width:b,height:c})};window.cr_createRuntime=Kc;window.cr_createDCRuntime=Lc;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.j=!0;document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",
function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new a(document.getElementById("canvas"));window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};
window.cr_getSnapshot=function(a,c){var b=window.cr_getC2Runtime();b&&b.hy(a,c)};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.c=a;this.bi=null;this.scrollX=this.c.Fc/2;this.scrollY=this.c.Ec/2;this.scale=1;this.M=0;this.hj=!0;this.name=b[0];this.TA=b[1];this.SA=b[2];this.width=b[1];this.height=b[2];this.Gv=b[3];this.kv=b[4];this.Ya=b[5];var c=b[6],d,e;this.Ka=[];this.Hk=[];d=0;for(e=c.length;d<e;d++){var g=new Mc(this,c[d]);g.iu=d;this.Ka.push(g)}c=b[7];this.pi=[];d=0;for(e=c.length;d<e;d++){var g=c[d],f=this.c.ea[g[1]];f.Ke||(f.Ke=g);this.pi.push(g);-1===this.Hk.indexOf(f)&&this.Hk.push(f)}this.Ea=
[];this.mb=[];this.Lg=!0;this.Nb=[];d=0;for(e=b[8].length;d<e;d++)this.Ea.push({id:b[8][d][0],name:b[8][d][1],qc:-1,qf:!1,tc:!0,index:d}),this.Nb.push(b[8][d][2].slice(0));this.vf();this.Ki=new za(0,0,1,1);this.Sq=new za(0,0,1,1);this.Eh={}}function c(a,b){return a.xf-b.xf}function b(a,b){this.Dc=a;this.c=a.c;this.F=[];this.scale=1;this.M=0;this.pg=!1;this.Pg=new za(0,0,0,0);this.zv=new Ba;this.Ab=this.wb=this.Bb=this.ub=0;this.Si=!1;this.Ug=-1;this.$o=0;this.name=b[0];this.index=b[1];this.Ya=b[2];
this.visible=b[3];this.ff=b[4];this.uf=b[5];this.Nd=b[6];this.Od=b[7];this.opacity=b[8];this.Wm=b[9];this.Be=b[10];this.ud=b[11];this.hd=b[12];this.Ly=b[13];this.mk="source-over";this.md=this.sd=0;this.cd=null;this.Ag=d();this.sf=!0;this.vj=new za(0,0,-1,-1);this.Wc=new za(0,0,-1,-1);this.Be&&(this.cd=new Sb(this.c.Fc,this.c.Ec));this.Wf=!1;var c=b[14],e,g;this.rv=[];this.ue=[];this.pk=[];e=0;for(g=c.length;e<g;e++){var f=c[e],k=this.c.ea[f[1]];k.Ke||(k.Ke=f,k.ey=this.index);this.ue.push(f);-1===
this.Dc.Hk.indexOf(k)&&this.Dc.Hk.push(k)}Ia(this.rv,this.ue);this.Ea=[];this.mb=[];this.Lg=!0;this.Nb=[];e=0;for(g=b[15].length;e<g;e++)this.Ea.push({id:b[15][e][0],name:b[15][e][1],qc:-1,qf:!1,tc:!0,index:e}),this.Nb.push(b[15][e][2].slice(0));this.vf();this.Ki=new za(0,0,1,1);this.Sq=new za(0,0,1,1)}function d(){return l.length?l.pop():[]}function f(a){G(a);l.push(a)}a.prototype.uB=function(a){var b=a.type.Ya.toString();this.Eh.hasOwnProperty(b)||(this.Eh[b]=[]);this.Eh[b].push(this.c.cr(a))};
a.prototype.ct=function(){var a=this.Ka[0];return!a.uf&&1===a.opacity&&!a.Wm&&a.visible};a.prototype.vf=function(){G(this.mb);this.Lg=!0;var a,b,c;a=0;for(b=this.Ea.length;a<b;a++)c=this.Ea[a],c.tc&&(this.mb.push(c),c.qf||(this.Lg=!1))};a.prototype.yp=function(a){var b,c,d;b=0;for(c=this.Ea.length;b<c;b++)if(d=this.Ea[b],d.name===a)return d;return null};var k=[],e=!0;a.prototype.lr=function(){this.kv&&(this.bi=this.c.mp[this.kv],this.bi.Ar());this.c.tb=this;this.width=this.TA;this.height=this.SA;
this.scrollX=this.c.Fc/2;this.scrollY=this.c.Ec/2;var a,b,d,g,f,m,l;a=0;for(d=this.c.ea.length;a<d;a++)if(b=this.c.ea[a],!b.ta)for(f=b.F,b=0,g=f.length;b<g;b++)if(m=f[b],m.V){var v=m.V.iu;v>=this.Ka.length&&(v=this.Ka.length-1);m.V=this.Ka[v];-1===m.V.F.indexOf(m)&&m.V.F.push(m);m.V.Si=!0}if(!e)for(a=0,d=this.Ka.length;a<d;++a)this.Ka[a].F.sort(c);G(k);this.Sx();a=0;for(d=this.Ka.length;a<d;a++)m=this.Ka[a],m.by(),m.wo();f=!1;if(!this.hj){for(l in this.Eh)if(this.Eh.hasOwnProperty(l)&&(b=this.c.bn(parseInt(l,
10)))&&!b.ta&&this.c.yr(b)){g=this.Eh[l];a=0;for(d=g.length;a<d;a++){m=null;if(b.pb.uh&&(m=this.an(g[a].w.l),!m))continue;m=this.c.jh(b.Ke,m,!1,0,0,!0);this.c.vn(m,g[a]);f=!0;k.push(m)}G(g)}a=0;for(d=this.Ka.length;a<d;a++)this.Ka[a].F.sort(c),this.Ka[a].Si=!0}f&&(this.c.gd(),this.c.Pu());for(a=0;a<k.length;a++)if(m=k[a],m.type.pd)for(d=m.Dk(),b=0,g=m.type.Zd.length;b<g;b++)l=m.type.Zd[b],m.type!==l&&(l.F.length>d?m.siblings.push(l.F[d]):l.Ke&&(f=this.c.jh(l.Ke,m.V,!0,m.x,m.y,!0),this.c.gd(),l.uo(),
m.siblings.push(f),k.push(f)));a=0;for(d=this.pi.length;a<d;a++)this.c.jh(this.pi[a],null,!0);this.c.kk=null;this.c.gd();if(this.c.Kb&&!this.c.Cb)for(a=0,d=this.c.ea.length;a<d;a++)l=this.c.ea[a],!l.ta&&l.F.length&&l.Nq&&l.Nq(this.c.Kb);if(this.c.Mk)Ia(this.c.Um,k);else for(a=0,d=k.length;a<d;a++)m=k[a],this.c.trigger(Object.getPrototypeOf(m.type.pb).K.Wi,m);G(k);this.c.Mk||this.c.trigger(U.prototype.K.Or,null);this.hj=!1};a.prototype.ay=function(){var a,b,c,d,e;b=a=0;for(c=this.pi.length;a<c;a++)d=
this.pi[a],e=this.c.ea[d[1]],e.global?e.pd||this.c.jh(d,null,!0):(this.pi[b]=d,b++);Ga(this.pi,b)};a.prototype.HB=function(){this.c.Mk||this.c.trigger(U.prototype.K.Mw,null);this.c.Sp=!0;G(this.c.$f.Ud);var a,b,c,d,g,f;if(!this.hj)for(a=0,b=this.Ka.length;a<b;a++)for(this.Ka[a].Cr(),g=this.Ka[a].F,c=0,d=g.length;c<d;c++)f=g[c],f.type.global||this.c.yr(f.type)&&this.uB(f);a=0;for(b=this.Ka.length;a<b;a++){g=this.Ka[a].F;c=0;for(d=g.length;c<d;c++)f=g[c],f.type.global||this.c.Xg(f);this.c.gd();G(g);
this.Ka[a].Si=!0}a=0;for(b=this.c.ea.length;a<b;a++)if(g=this.c.ea[a],!(g.global||g.pb.uh||g.pb.eo||g.ta)){c=0;for(d=g.F.length;c<d;c++)this.c.Xg(g.F[c]);this.c.gd()}e=!1;this.c.Sp=!1};new za(0,0,0,0);a.prototype.Jf=function(a){var b,c=a,d=!1,e=!this.c.pe;e&&(this.c.tn||(this.c.tn=document.createElement("canvas"),b=this.c.tn,b.width=this.c.ya,b.height=this.c.xa,this.c.Gt=b.getContext("2d"),d=!0),b=this.c.tn,c=this.c.Gt,b.width!==this.c.ya&&(b.width=this.c.ya,d=!0),b.height!==this.c.xa&&(b.height=
this.c.xa,d=!0),d&&this.c.Zn(c,this.c.Gb));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.c.Po&&!this.ct()&&c.clearRect(0,0,this.c.ya,this.c.xa);var g,f,d=0;for(g=this.Ka.length;d<g;d++)f=this.Ka[d],f.visible&&0<f.opacity&&11!==f.hd&&(f.F.length||!f.uf)?f.Jf(c):f.wo();e&&a.drawImage(b,0,0,this.c.width,this.c.height)};a.prototype.Xh=function(a){a.$u(!0);this.c.mc||(this.c.mc=a.Je(this.c.ya,this.c.xa,this.c.Gb));if(this.c.mc.jf!==this.c.ya||this.c.mc.hf!==this.c.xa)a.deleteTexture(this.c.mc),
this.c.mc=a.Je(this.c.ya,this.c.xa,this.c.Gb);a.Xe(this.c.mc);this.c.pe||a.Jg(this.c.ya,this.c.xa);var b,c;for(b=this.Ka.length-1;0<=b;--b)c=this.Ka[b],c.visible&&1===c.opacity&&c.Lg&&0===c.hd&&(c.F.length||!c.uf)?c.Xh(a):c.wo();a.$u(!1)};a.prototype.Kd=function(a){var b=0<this.mb.length||this.c.Tj||!this.c.pe||this.c.Fb;if(b){this.c.mc||(this.c.mc=a.Je(this.c.ya,this.c.xa,this.c.Gb));if(this.c.mc.jf!==this.c.ya||this.c.mc.hf!==this.c.xa)a.deleteTexture(this.c.mc),this.c.mc=a.Je(this.c.ya,this.c.xa,
this.c.Gb);a.Xe(this.c.mc);this.c.pe||a.Jg(this.c.ya,this.c.xa)}else this.c.mc&&(a.Xe(null),a.deleteTexture(this.c.mc),this.c.mc=null);this.c.Po&&!this.ct()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Ka.length;c<d;c++)e=this.Ka[c],e.visible&&0<e.opacity&&(e.F.length||!e.uf)?e.Kd(a):e.wo();b&&(0===this.mb.length||1===this.mb.length&&this.c.pe?(1===this.mb.length?(b=this.mb[0].index,a.Td(this.mb[0].qc),a.Kj(null,1/this.c.ya,1/this.c.xa,0,0,1,1,this.scale,this.M,0,0,this.c.ya/2,this.c.xa/2,this.c.Jc.Fa,
this.Nb[b]),a.Qn(this.mb[0].qc)&&(this.c.kb=!0)):a.Td(0),this.c.pe||a.Jg(this.c.width,this.c.height),a.Xe(null),a.Zu(!1),a.Mi(1),a.Sd(this.c.mc),a.Xu(),a.Xf(),a.wf(),b=this.c.width/2,c=this.c.height/2,a.ul(-b,c,b,c,b,-c,-b,-c),a.Sd(null),a.Zu(!0)):this.Vq(a,null,null,null))};a.prototype.Ck=function(){return 0<this.mb.length||this.c.Tj||!this.c.pe||this.c.Fb?this.c.mc:null};a.prototype.$s=function(){var a=this.Ka[0].te(),b,c,d;b=1;for(c=this.Ka.length;b<c;b++)d=this.Ka[b],(0!==d.Nd||0!==d.Od)&&d.te()<
a&&(a=d.te());return a};a.prototype.Uu=function(a){if(!this.Gv){var b=1/this.$s()*this.c.ya/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.c.kb=!0)};a.prototype.Vu=function(a){if(!this.Gv){var b=1/this.$s()*this.c.xa/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.c.kb=!0)};a.prototype.Sx=function(){this.Uu(this.scrollX);this.Vu(this.scrollY)};a.prototype.Vq=function(a,b,c,d){var e=c?c.mb:b?b.mb:this.mb,g=1,f=0,k=0,m=0,l=
this.c.ya,w=this.c.xa;c?(g=c.V.te(),f=c.V.Zc(),k=c.V.ub,m=c.V.wb,l=c.V.Bb,w=c.V.Ab):b&&(g=b.te(),f=b.Zc(),k=b.ub,m=b.wb,l=b.Bb,w=b.Ab);var E=this.c.vp,z,F,B,x,H=0,V=1,M,N,D=this.c.ya,K=this.c.xa,P=D/2,Q=K/2,L=b?b.Ki:this.Ki,O=b?b.Sq:this.Sq,S=0,R=0,I=0,T=0,ba=D,Ka=D,aa=K,Ra=K,Aa=B=0;x=c?c.V.Zc():0;if(c){z=0;for(F=e.length;z<F;z++)B+=a.Nz(e[z].qc),Aa+=a.Oz(e[z].qc);T=c.Wb;S=b.Bc(T.left,T.top,!0,!0);I=b.Bc(T.left,T.top,!1,!0);ba=b.Bc(T.right,T.bottom,!0,!0);aa=b.Bc(T.right,T.bottom,!1,!0);0!==x&&(z=
b.Bc(T.right,T.top,!0,!0),F=b.Bc(T.right,T.top,!1,!0),R=b.Bc(T.left,T.bottom,!0,!0),T=b.Bc(T.left,T.bottom,!1,!0),x=Math.min(S,ba,z,R),ba=Math.max(S,ba,z,R),S=x,x=Math.min(I,aa,F,T),aa=Math.max(I,aa,F,T),I=x);S-=B;I-=Aa;ba+=B;aa+=Aa;O.left=S/D;O.top=1-I/K;O.right=ba/D;O.bottom=1-aa/K;R=S=wa(S);T=I=wa(I);Ka=ba=xa(ba);Ra=aa=xa(aa);R-=B;T-=Aa;Ka+=B;Ra+=Aa;0>S&&(S=0);0>I&&(I=0);ba>D&&(ba=D);aa>K&&(aa=K);0>R&&(R=0);0>T&&(T=0);Ka>D&&(Ka=D);Ra>K&&(Ra=K);L.left=S/D;L.top=1-I/K;L.right=ba/D;L.bottom=1-aa/
K}else L.left=O.left=0,L.top=O.top=0,L.right=O.right=1,L.bottom=O.bottom=1;Aa=c&&(a.sl(e[0].qc)||0!==B||0!==Aa||1!==c.opacity||c.type.pb.du)||b&&!c&&1!==b.opacity;a.Xu();if(Aa){E[H]||(E[H]=a.Je(D,K,this.c.Gb));if(E[H].jf!==D||E[H].hf!==K)a.deleteTexture(E[H]),E[H]=a.Je(D,K,this.c.Gb);a.Td(0);a.Xe(E[H]);N=Ra-T;a.clearRect(R,K-T-N,Ka-R,N);c?c.Kd(a):(a.Sd(this.c.Cc),a.Mi(b.opacity),a.Xf(),a.translate(-P,-Q),a.wf(),a.Vf(S,aa,ba,aa,ba,I,S,I,L));O.left=O.top=0;O.right=O.bottom=1;c&&(x=L.top,L.top=L.bottom,
L.bottom=x);H=1;V=0}a.Mi(1);B=e.length-1;var Ab=a.Qq(e[B].qc)||!b&&!c&&!this.c.pe;z=x=0;for(F=e.length;z<F;z++){E[H]||(E[H]=a.Je(D,K,this.c.Gb));if(E[H].jf!==D||E[H].hf!==K)a.deleteTexture(E[H]),E[H]=a.Je(D,K,this.c.Gb);a.Td(e[z].qc);x=e[z].index;a.Qn(e[z].qc)&&(this.c.kb=!0);0!=z||Aa?(a.Kj(d,1/D,1/K,O.left,O.top,O.right,O.bottom,g,f,k,m,(k+l)/2,(m+w)/2,this.c.Jc.Fa,c?c.Nb[x]:b?b.Nb[x]:this.Nb[x]),a.Sd(null),z!==B||Ab?(a.Xe(E[H]),N=Ra-T,M=K-T-N,a.clearRect(R,M,Ka-R,N)):(c?a.Gh(c.sd,c.md):b&&a.Gh(b.sd,
b.md),a.Xe(d)),a.Sd(E[V]),a.Xf(),a.translate(-P,-Q),a.wf(),a.Vf(S,aa,ba,aa,ba,I,S,I,L),z!==B||Ab||a.Sd(null)):(a.Xe(E[H]),N=Ra-T,M=K-T-N,a.clearRect(R,M,Ka-R,N),c?(c.Vc&&c.Vc.Ga?(M=c.Vc.Ga,V=1/M.width,M=1/M.height):(V=1/c.width,M=1/c.height),a.Kj(d,V,M,O.left,O.top,O.right,O.bottom,g,f,k,m,(k+l)/2,(m+w)/2,this.c.Jc.Fa,c.Nb[x]),c.Kd(a)):(a.Kj(d,1/D,1/K,0,0,1,1,g,f,k,m,(k+l)/2,(m+w)/2,this.c.Jc.Fa,b?b.Nb[x]:this.Nb[x]),a.Sd(b?this.c.Cc:this.c.mc),a.Xf(),a.translate(-P,-Q),a.wf(),a.Vf(S,aa,ba,aa,ba,
I,S,I,L)),O.left=O.top=0,O.right=O.bottom=1,c&&!Ab&&(x=aa,aa=I,I=x));H=0===H?1:0;V=0===H?1:0}Ab&&(a.Td(0),c?a.Gh(c.sd,c.md):b?a.Gh(b.sd,b.md):this.c.pe||(a.Jg(this.c.width,this.c.height),P=this.c.width/2,Q=this.c.height/2,I=S=0,ba=this.c.width,aa=this.c.height),a.Xe(d),a.Sd(E[V]),a.Xf(),a.translate(-P,-Q),a.wf(),c&&1===e.length&&!Aa?a.Vf(S,I,ba,I,ba,aa,S,aa,L):a.Vf(S,aa,ba,aa,ba,I,S,I,L),a.Sd(null))};a.prototype.an=function(a){var b,c;b=0;for(c=this.Ka.length;b<c;b++)if(this.Ka[b].Ya===a)return this.Ka[b];
return null};a.prototype.Nc=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.M,w:this.width,h:this.height,fv:this.hj,persist:this.Eh,fx:[],layers:{}};a=0;for(b=this.Ea.length;a<b;a++)c=this.Ea[a],d.fx.push({name:c.name,active:c.tc,params:this.Nb[c.index]});a=0;for(b=this.Ka.length;a<b;a++)c=this.Ka[a],d.layers[c.Ya.toString()]=c.Nc();return d};a.prototype.qd=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.M=a.a;this.width=a.w;this.height=
a.h;this.Eh=a.persist;"undefined"!==typeof a.fv&&(this.hj=a.fv);var g=a.fx;b=0;for(c=g.length;b<c;b++)if(d=this.yp(g[b].name))d.tc=g[b].active,this.Nb[d.index]=g[b].params;this.vf();b=a.layers;for(e in b)b.hasOwnProperty(e)&&(a=this.an(parseInt(e,10)))&&a.qd(b[e])};pc=a;b.prototype.vf=function(){G(this.mb);this.Lg=!0;var a,b,c;a=0;for(b=this.Ea.length;a<b;a++)c=this.Ea[a],c.tc&&(this.mb.push(c),c.qf||(this.Lg=!1))};b.prototype.yp=function(a){var b,c,d;b=0;for(c=this.Ea.length;b<c;b++)if(d=this.Ea[b],
d.name===a)return d;return null};b.prototype.by=function(){var a,b,c,d,e,g;b=a=0;for(c=this.ue.length;a<c;a++){d=this.ue[a];e=this.c.ea[d[1]];g=this.c.yr(e);e=!0;if(!g||this.Dc.hj){d=this.c.jh(d,this,!0);if(!d)continue;k.push(d);d.type.global&&(e=!1,this.pk.push(d.uid))}e&&(this.ue[b]=this.ue[a],b++)}this.ue.length=b;this.c.gd();!this.c.da&&this.Ea.length&&(this.hd=this.Ly);this.mk=Tb(this.hd);this.c.ka&&Ub(this,this.hd,this.c.ka);this.sf=!0};b.prototype.Ij=function(a,b){var c=Ma(this.F,a);0>c||(b&&
this.Be&&a.Qd&&a.Qd.right>=a.Qd.left&&(a.lb(),this.cd.update(a,a.Qd,null),a.Qd.set(0,0,-1,-1)),c===this.F.length-1?this.F.pop():(Ea(this.F,c),this.zl(c)),this.sf=!0)};b.prototype.ik=function(a,b){a.xf=this.F.length;this.F.push(a);b&&this.Be&&a.Qd&&a.ua();this.sf=!0};b.prototype.$A=function(a){this.F.unshift(a);this.zl(0)};b.prototype.LA=function(a,b,c){var d=a.Nf();b=b.Nf();Ea(this.F,d);d<b&&b--;c&&b++;b===this.F.length?this.F.push(a):this.F.splice(b,0,a);this.zl(d<b?d:b)};b.prototype.zl=function(a){-1===
this.Ug?this.Ug=a:a<this.Ug&&(this.Ug=a);this.sf=this.Si=!0};b.prototype.Cr=function(){if(this.Si){-1===this.Ug&&(this.Ug=0);var a,b,c;if(this.Be)for(a=this.Ug,b=this.F.length;a<b;++a)c=this.F[a],c.xf=a,this.cd.IA(c.Qd);else for(a=this.Ug,b=this.F.length;a<b;++a)this.F[a].xf=a;this.Si=!1;this.Ug=-1}};b.prototype.te=function(a){return this.Kz()*(this.c.pe||a?this.c.jk:1)};b.prototype.Kz=function(){return(this.scale*this.Dc.scale-1)*this.ud+1};b.prototype.Zc=function(){return this.pg?0:Sa(this.Dc.M+
this.M)};var l=[],g=[],m=[];b.prototype.Cp=function(){this.Cr();this.cd.Sn(this.ub,this.wb,this.Bb,this.Ab,m);if(!m.length)return d();if(1===m.length){var a=d();Ia(a,m[0]);G(m);return a}for(var b=!0;1<m.length;){for(var a=m,c=void 0,e=void 0,k=void 0,l=void 0,u=void 0,c=0,e=a.length;c<e-1;c+=2){var k=a[c],l=a[c+1],u=d(),v=k,A=l,C=u,w=0,E=0,z=0,F=v.length,B=A.length,x=void 0,H=void 0;for(C.length=F+B;w<F&&E<B;++z)x=v[w],H=A[E],x.xf<H.xf?(C[z]=x,++w):(C[z]=H,++E);for(;w<F;++w,++z)C[z]=v[w];for(;E<B;++E,
++z)C[z]=A[E];b||(f(k),f(l));g.push(u)}1===e%2&&(b?(k=d(),Ia(k,a[e-1]),g.push(k)):g.push(a[e-1]));Ia(a,g);G(g);b=!1}a=m[0];G(m);return a};b.prototype.Jf=function(a){this.Wf=this.Wm||1!==this.opacity||0!==this.hd;var b=this.c.canvas,c=a,d=!1;this.Wf&&(this.c.sn||(this.c.sn=document.createElement("canvas"),b=this.c.sn,b.width=this.c.ya,b.height=this.c.xa,this.c.Ft=b.getContext("2d"),d=!0),b=this.c.sn,c=this.c.Ft,b.width!==this.c.ya&&(b.width=this.c.ya,d=!0),b.height!==this.c.xa&&(b.height=this.c.xa,
d=!0),d&&this.c.Zn(c,this.c.Gb),this.uf&&c.clearRect(0,0,this.c.ya,this.c.xa));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.uf||(c.fillStyle="rgb("+this.ff[0]+","+this.ff[1]+","+this.ff[2]+")",c.fillRect(0,0,this.c.ya,this.c.xa));c.save();this.pg=!0;var d=this.Xb(0,0,!0,!0),e=this.Xb(0,0,!1,!0);this.pg=!1;this.c.pf&&(d=Math.round(d),e=Math.round(e));this.Un(d,e,c);var g=this.te();c.scale(g,g);c.translate(-d,-e);this.Be?(this.Wc.left=this.cd.Ed(this.ub),this.Wc.top=this.cd.Fd(this.wb),
this.Wc.right=this.cd.Ed(this.Bb),this.Wc.bottom=this.cd.Fd(this.Ab),this.sf||!this.Wc.rk(this.vj)?(f(this.Ag),d=this.Cp(),this.sf=!1,this.vj.nk(this.Wc)):d=this.Ag):d=this.F;for(var k,m=null,e=0,g=d.length;e<g;++e)k=d[e],k!==m&&(this.Gy(k,c),m=k);this.Be&&(this.Ag=d);c.restore();this.Wf&&(a.globalCompositeOperation=this.mk,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.Gy=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.lb();var c=a.Wb;c.right<this.ub||c.bottom<this.wb||c.left>
this.Bb||c.top>this.Ab||(b.globalCompositeOperation=a.mk,a.Jf(b))}};b.prototype.wo=function(){this.pg=!0;var a=this.Xb(0,0,!0,!0),b=this.Xb(0,0,!1,!0);this.pg=!1;this.c.pf&&(a=Math.round(a),b=Math.round(b));this.Un(a,b,null)};b.prototype.Un=function(a,b,c){var d=this.te();this.ub=a;this.wb=b;this.Bb=a+1/d*this.c.ya;this.Ab=b+1/d*this.c.xa;this.ub>this.Bb&&(a=this.ub,this.ub=this.Bb,this.Bb=a);this.wb>this.Ab&&(a=this.wb,this.wb=this.Ab,this.Ab=a);a=this.Zc();0!==a&&(c&&(c.translate(this.c.ya/2,this.c.xa/
2),c.rotate(-a),c.translate(this.c.ya/-2,this.c.xa/-2)),this.Pg.set(this.ub,this.wb,this.Bb,this.Ab),this.Pg.offset((this.ub+this.Bb)/-2,(this.wb+this.Ab)/-2),this.zv.hv(this.Pg,a),this.zv.rs(this.Pg),this.Pg.offset((this.ub+this.Bb)/2,(this.wb+this.Ab)/2),this.ub=this.Pg.left,this.wb=this.Pg.top,this.Bb=this.Pg.right,this.Ab=this.Pg.bottom)};b.prototype.Xh=function(a){if(this.Wf=this.Wm){this.c.Cc||(this.c.Cc=a.Je(this.c.ya,this.c.xa,this.c.Gb));if(this.c.Cc.jf!==this.c.ya||this.c.Cc.hf!==this.c.xa)a.deleteTexture(this.c.Cc),
this.c.Cc=a.Je(this.c.ya,this.c.xa,this.c.Gb);a.Xe(this.c.Cc)}this.pg=!0;var b=this.Xb(0,0,!0,!0),c=this.Xb(0,0,!1,!0);this.pg=!1;this.c.pf&&(b=Math.round(b),c=Math.round(c));this.Un(b,c,null);b=this.te();a.Xf();a.scale(b,b);a.Zq(-this.Zc());a.translate((this.ub+this.Bb)/-2,(this.wb+this.Ab)/-2);a.wf();this.Be?(this.Wc.left=this.cd.Ed(this.ub),this.Wc.top=this.cd.Fd(this.wb),this.Wc.right=this.cd.Ed(this.Bb),this.Wc.bottom=this.cd.Fd(this.Ab),this.sf||!this.Wc.rk(this.vj)?(f(this.Ag),b=this.Cp(),
this.sf=!1,this.vj.nk(this.Wc)):b=this.Ag):b=this.F;for(var d,e=null,c=b.length-1;0<=c;--c)d=b[c],d!==e&&(this.Iy(b[c],a),e=d);this.Be&&(this.Ag=b);this.uf||(this.$o=this.c.Zh++,a.$n(this.$o),a.Yu(1,1,1),a.Ps(),a.mB())};b.prototype.Kd=function(a){var b=0,c=0;if(this.Wf=this.Wm||1!==this.opacity||0<this.mb.length||0!==this.hd){this.c.Cc||(this.c.Cc=a.Je(this.c.ya,this.c.xa,this.c.Gb));if(this.c.Cc.jf!==this.c.ya||this.c.Cc.hf!==this.c.xa)a.deleteTexture(this.c.Cc),this.c.Cc=a.Je(this.c.ya,this.c.xa,
this.c.Gb);a.Xe(this.c.Cc);this.uf&&a.clear(0,0,0,0)}this.uf||(this.c.Fb?(a.$n(this.$o),a.Yu(this.ff[0]/255,this.ff[1]/255,this.ff[2]/255),a.Ps(),a.AB()):a.clear(this.ff[0]/255,this.ff[1]/255,this.ff[2]/255,1));this.pg=!0;var d=this.Xb(0,0,!0,!0),b=this.Xb(0,0,!1,!0);this.pg=!1;this.c.pf&&(d=Math.round(d),b=Math.round(b));this.Un(d,b,null);d=this.te();a.Xf();a.scale(d,d);a.Zq(-this.Zc());a.translate((this.ub+this.Bb)/-2,(this.wb+this.Ab)/-2);a.wf();this.Be?(this.Wc.left=this.cd.Ed(this.ub),this.Wc.top=
this.cd.Fd(this.wb),this.Wc.right=this.cd.Ed(this.Bb),this.Wc.bottom=this.cd.Fd(this.Ab),this.sf||!this.Wc.rk(this.vj)?(f(this.Ag),b=this.Cp(),this.sf=!1,this.vj.nk(this.Wc)):b=this.Ag):b=this.F;var e,g,k=null,c=0;for(e=b.length;c<e;++c)g=b[c],g!==k&&(this.Hy(b[c],a),k=g);this.Be&&(this.Ag=b);this.Wf&&(b=this.mb.length?this.mb[0].qc:0,c=this.mb.length?this.mb[0].index:0,0===this.mb.length||1===this.mb.length&&!a.Qq(b)&&1===this.opacity?(1===this.mb.length?(a.Td(b),a.Kj(this.Dc.Ck(),1/this.c.ya,1/
this.c.xa,0,0,1,1,d,this.Zc(),this.ub,this.wb,(this.ub+this.Bb)/2,(this.wb+this.Ab)/2,this.c.Jc.Fa,this.Nb[c]),a.Qn(b)&&(this.c.kb=!0)):a.Td(0),a.Xe(this.Dc.Ck()),a.Mi(this.opacity),a.Sd(this.c.Cc),a.Gh(this.sd,this.md),a.Xf(),a.wf(),d=this.c.ya/2,b=this.c.xa/2,a.ul(-d,b,d,b,d,-b,-d,-b),a.Sd(null)):this.Dc.Vq(a,this,null,this.Dc.Ck()))};b.prototype.Hy=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.lb();var c=a.Wb;c.right<this.ub||c.bottom<this.wb||c.left>this.Bb||c.top>this.Ab||(b.$n(a.Zh),
a.Nv?this.Jy(a,b):(b.Td(0),b.Gh(a.sd,a.md),a.Kd(b)))}};b.prototype.Iy=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.lb();var c=a.Wb;c.right<this.ub||c.bottom<this.wb||c.left>this.Bb||c.top>this.Ab||(a.Zh=this.c.Zh++,0===a.hd&&1===a.opacity&&a.Lg&&a.Xh&&(b.$n(a.Zh),a.Xh(b)))}};b.prototype.Jy=function(a,b){var c=a.mb[0].qc,d=a.mb[0].index,e=this.te();if(1!==a.mb.length||b.Qq(c)||b.bB(c)||(a.M||a.V.Zc())&&b.sl(c)||1!==a.opacity||a.type.pb.du)this.Dc.Vq(b,this,a,this.Wf?this.c.Cc:this.Dc.Ck()),
b.Xf(),b.scale(e,e),b.Zq(-this.Zc()),b.translate((this.ub+this.Bb)/-2,(this.wb+this.Ab)/-2),b.wf();else{b.Td(c);b.Gh(a.sd,a.md);b.Qn(c)&&(this.c.kb=!0);var g=0,f=0,k=0,m=0;b.sl(c)&&(m=a.Wb,g=this.Bc(m.left,m.top,!0,!0),f=this.Bc(m.left,m.top,!1,!0),k=this.Bc(m.right,m.bottom,!0,!0),m=this.Bc(m.right,m.bottom,!1,!0),g=g/windowWidth,f=1-f/windowHeight,k=k/windowWidth,m=1-m/windowHeight);var l;a.Vc&&a.Vc.Ga?(l=a.Vc.Ga,c=1/l.width,l=1/l.height):(c=1/a.width,l=1/a.height);b.Kj(this.Wf?this.c.Cc:this.Dc.Ck(),
c,l,g,f,k,m,e,this.Zc(),this.ub,this.wb,(this.ub+this.Bb)/2,(this.wb+this.Ab)/2,this.c.Jc.Fa,a.Nb[d]);a.Kd(b)}};b.prototype.Xb=function(a,b,c,d){var e=this.c.devicePixelRatio;this.c.ri&&(a*=e,b*=e);var e=this.c.zu,g=this.c.Au,e=(this.Dc.scrollX-e)*this.Nd+e,g=(this.Dc.scrollY-g)*this.Od+g,f=e,k=g,m=1/this.te(!d);d?(f-=this.c.ya*m/2,k-=this.c.xa*m/2):(f-=this.c.width*m/2,k-=this.c.height*m/2);f+=a*m;k+=b*m;b=this.Zc();0!==b&&(f-=e,k-=g,a=Math.cos(b),b=Math.sin(b),d=f*a-k*b,k=k*a+f*b,f=d+e,k+=g);return c?
f:k};b.prototype.Bc=function(a,b,c,d){var e=this.c.zu,g=this.c.Au,f=(this.Dc.scrollX-e)*this.Nd+e,k=(this.Dc.scrollY-g)*this.Od+g,g=f,e=k,m=this.Zc();if(0!==m){a-=f;b-=k;var l=Math.cos(-m),m=Math.sin(-m),w=a*l-b*m;b=b*l+a*m;a=w+f;b+=k}f=1/this.te(!d);d?(g-=this.c.ya*f/2,e-=this.c.xa*f/2):(g-=this.c.width*f/2,e-=this.c.height*f/2);g=(a-g)/f;e=(b-e)/f;a=this.c.devicePixelRatio;this.c.ri&&!d&&(g/=a,e/=a);return c?g:e};b.prototype.Nc=function(){var a,b,c,d={s:this.scale,a:this.M,vl:this.ub,vt:this.wb,
vr:this.Bb,vb:this.Ab,v:this.visible,bc:this.ff,t:this.uf,px:this.Nd,py:this.Od,o:this.opacity,zr:this.ud,fx:[],cg:this.pk,instances:[]};a=0;for(b=this.Ea.length;a<b;a++)c=this.Ea[a],d.fx.push({name:c.name,active:c.tc,params:this.Nb[c.index]});return d};b.prototype.qd=function(a){var b,d,e;this.scale=a.s;this.M=a.a;this.ub=a.vl;this.wb=a.vt;this.Bb=a.vr;this.Ab=a.vb;this.visible=a.v;this.ff=a.bc;this.uf=a.t;this.Nd=a.px;this.Od=a.py;this.opacity=a.o;this.ud=a.zr;this.pk=a.cg||[];Ia(this.ue,this.rv);
var g=new fa;b=0;for(e=this.pk.length;b<e;++b)g.add(this.pk[b]);d=b=0;for(e=this.ue.length;b<e;++b)g.contains(this.ue[b][2])||(this.ue[d]=this.ue[b],++d);Ga(this.ue,d);d=a.fx;b=0;for(e=d.length;b<e;b++)if(a=this.yp(d[b].name))a.tc=d[b].active,this.Nb[a.index]=d[b].params;this.vf();this.F.sort(c);this.Si=!0};Mc=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,g,h;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=r.length&&(r.length=b.length+1);r[b.length]||(r[b.length]=[]);h=r[b.length];d=0;for(e=h.length;d<e;d++)if(g=h[d],a(b,g))return g;h.push(b);return b}
function d(a,b){this.c=a;this.Dv={};this.Js={};this.Hp=!1;this.et=new fa;this.hp=[];this.Qo=[];this.name=b[0];var c=b[1];this.nh=[];var d,e;d=0;for(e=c.length;d<e;d++)this.gt(c[d],null,this.nh)}function f(a){this.type=a;this.F=[];this.Ua=[];this.eb=!0}function k(a,b,c){this.sheet=a;this.parent=b;this.c=a.c;this.fb=[];this.Hh=[];this.dt=this.oo=this.tr=this.Np=this.group=this.kr=!1;this.vc=[];this.Ee=[];this.Ze=[];this.Ek="";this.ki=this.Np=this.group=!1;this.Bm=null;c[1]&&(this.Ek=c[1][1].toLowerCase(),
this.group=!0,this.Np=!!c[1][0],this.Bm=[],this.ki=this.Np,this.c.Yi.push(this),this.c.jj[this.Ek]=this);this.Ve=c[2];this.Ya=c[4];this.group||(this.c.ps[this.Ya.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Nc(this,d[a]);e.index=a;this.vc.push(e);this.hs(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Oc(this,d[a]),e.index=a,this.Ee.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.gt(c[a],this,this.Ze);this.nn=!1;this.vc.length&&(this.nn=null==this.vc[0].type&&
this.vc[0].Yc==U.prototype.K.Lr)}function e(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.pd))for(c=0,d=a.Zd.length;c<d;c++)e=a.Zd[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function l(a,b){this.ne=a;this.sheet=a.sheet;this.c=a.c;this.Ra=[];this.Sb=[];this.ja={};this.index=-1;this.gk=!1;this.Yc=this.c.Zg(b[1]);this.trigger=0<b[3];this.Is=2===b[3];this.Qf=b[4];this.Qp=b[5];this.yA=b[6];this.Ya=b[7];this.c.ih[this.Ya.toString()]=this;-1===b[0]?(this.type=null,this.pc=this.br,this.Th=null,this.gf=
-1):(this.type=this.c.ea[b[0]],this.pc=this.yA?this.sB:this.$q,b[2]?(this.Th=this.type.$m(b[2]),this.gf=this.type.wp(b[2])):(this.Th=null,this.gf=-1),this.ne.parent&&this.ne.parent.bo());this.Is&&(this.pc=this.tB);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var g=new Pc(this,e[c]);this.Ra.push(g)}this.Sb.length=e.length}}function g(a,b){this.ne=a;this.sheet=a.sheet;this.c=a.c;this.Ra=[];this.Sb=[];this.ja={};this.index=-1;this.gk=!1;this.Yc=this.c.Zg(b[1]);-1===b[0]?(this.type=null,
this.pc=this.br,this.Th=null,this.gf=-1):(this.type=this.c.ea[b[0]],this.pc=this.$q,b[2]?(this.Th=this.type.$m(b[2]),this.gf=this.type.wp(b[2])):(this.Th=null,this.gf=-1));this.Ya=b[3];this.c.bh[this.Ya.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var g=new Pc(this,e[c]);this.Ra.push(g)}this.Sb.length=e.length}}function m(){u++;t.length===u&&t.push(new Qc);return t[u]}function h(a,b){this.We=a;this.ne=a.ne;this.sheet=a.sheet;this.c=a.c;this.type=b[0];this.Kf=null;this.Mg=
0;this.get=null;this.xs=0;this.Dc=null;this.key=0;this.object=null;this.index=0;this.Nl=this.Ni=this.Nl=this.Ni=this.Ns=this.ci=this.Ol=null;this.bf=!1;var c,d,e;switch(b[0]){case 0:case 7:this.Kf=new Rc(this,b[1]);this.Mg=0;this.get=this.Vz;break;case 1:this.Kf=new Rc(this,b[1]);this.Mg=0;this.get=this.Wz;break;case 5:this.Kf=new Rc(this,b[1]);this.Mg=0;this.get=this.$z;break;case 3:case 8:this.xs=b[1];this.get=this.Tz;break;case 6:this.Dc=this.c.kq[b[1]];this.get=this.aA;break;case 9:this.key=b[1];
this.get=this.Zz;break;case 4:this.object=this.c.ea[b[1]];this.get=this.bA;this.ne.hs(this.object);this.We instanceof Oc?this.ne.bo():this.ne.parent&&this.ne.parent.bo();break;case 10:this.index=b[1];a.type&&a.type.ta?(this.get=this.Xz,this.bf=!0):this.get=this.Yz;break;case 11:this.Ol=b[1];this.ci=null;this.get=this.Uz;break;case 2:case 12:this.Ns=b[1];this.get=this.Sz;break;case 13:for(this.get=this.cA,this.Ni=[],this.Nl=[],c=1,d=b.length;c<d;c++)e=new Pc(this.We,b[c]),this.Ni.push(e),this.Nl.push(0)}}
function n(a,b,c){this.sheet=a;this.parent=b;this.c=a.c;this.fb=[];this.name=c[1];this.Pl=c[2];this.Mp=c[3];this.Uk=!!c[4];this.mn=!!c[5];this.Ya=c[6];this.c.Vj[this.Ya.toString()]=this;this.data=this.Mp;this.parent?(this.Ei=this.Uk||this.mn?-1:this.c.DB++,this.c.Mx.push(this)):(this.Ei=-1,this.c.Lx.push(this))}function q(a,b,c){this.sheet=a;this.parent=b;this.c=a.c;this.fb=[];this.Gk=null;this.jA=c[1];this.tc=!0}function p(){this.vv=[];this.reset(null)}var r=[];d.prototype.toString=function(){return this.name};
d.prototype.gt=function(a,b,c){switch(a[0]){case 0:a=new Sc(this,b,a);if(a.Ve)for(c.push(a),c=0,b=a.vc.length;c<b;c++)a.vc[c].trigger&&this.ht(a,c);else a.pt()?this.ht(a,0):c.push(a);break;case 1:a=new Jc(this,b,a);c.push(a);break;case 2:a=new Tc(this,b,a),c.push(a)}};d.prototype.ac=function(){var a,b;a=0;for(b=this.nh.length;a<b;a++)this.nh[a].ac(a<b-1&&this.nh[a+1].nn)};d.prototype.Ar=function(){G(this.hp);G(this.Qo);this.es(this);G(this.Qo)};d.prototype.es=function(a){var b,c,d,e,g=a.hp,h=a.Qo,
f=this.et.dg();b=0;for(c=f.length;b<c;++b)d=f[b],e=d.Gk,!d.tc||a===e||-1<h.indexOf(e)||(h.push(e),e.es(a),g.push(e))};d.prototype.pc=function(a){this.c.aD||(this.Hp=!0,a||(this.c.Vp=!0));var b,c;b=0;for(c=this.nh.length;b<c;b++){var d=this.nh[b];d.pc();this.c.Zo(d.fb);this.c.qh&&this.c.gd()}a||(this.c.Vp=!1)};d.prototype.ht=function(a,b){a.Ve||this.c.so.push(a);var c,d,e=a.vc[b],g;e.type?g=e.type.name:g="system";var h=(c=e.Is)?this.Js:this.Dv;h[g]||(h[g]=[]);g=h[g];h=e.Yc;if(c){if(e.Ra.length&&(e=
e.Ra[0],1===e.type&&2===e.Kf.type)){e=e.Kf.value.toLowerCase();c=0;for(d=g.length;c<d;c++)if(g[c].method==h){c=g[c].sk;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];g.push({method:h,sk:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==h){g[c].sk.push([a,b]);return}od&&h===od.prototype.K.Xi?g.unshift({method:h,sk:[[a,b]]}):g.push({method:h,sk:[[a,b]]})}};qc=d;f.prototype.Gp=function(){return this.eb?this.type.F.length:this.F.length};f.prototype.se=function(){return this.eb?this.type.F:
this.F};f.prototype.ql=function(a){a&&(a.c.lc().ic.Ve?(this.eb&&(G(this.F),Ia(this.Ua,a.type.F),this.eb=!1),a=this.Ua.indexOf(a),-1!==a&&(this.F.push(this.Ua[a]),this.Ua.splice(a,1))):(this.eb=!1,G(this.F),this.F[0]=a))};$b=f;window._c2hh_="589BFE45E8184D0A704634888356F5075BBCAF67";k.prototype.ac=function(a){var c,d=this.parent;if(this.group)for(this.oo=!0;d;){if(!d.group){this.oo=!1;break}d=d.parent}this.tr=!this.pt()&&(!this.parent||this.parent.group&&this.parent.oo);this.dt=!!a;this.Hh=this.fb.slice(0);
for(d=this.parent;d;){a=0;for(c=d.fb.length;a<c;a++)this.Jx(d.fb[a]);d=d.parent}this.fb=b(this.fb);this.Hh=b(this.Hh);a=0;for(c=this.vc.length;a<c;a++)this.vc[a].ac();a=0;for(c=this.Ee.length;a<c;a++)this.Ee[a].ac();a=0;for(c=this.Ze.length;a<c;a++)this.Ze[a].ac(a<c-1&&this.Ze[a+1].nn)};k.prototype.ao=function(a){if(this.ki!==!!a){this.ki=!!a;var b;a=0;for(b=this.Bm.length;a<b;++a)this.Bm[a].Iv();0<b&&this.c.tb.bi&&this.c.tb.bi.Ar()}};k.prototype.hs=function(a){e(a,this.fb)};k.prototype.Jx=function(a){e(a,
this.Hh)};k.prototype.bo=function(){this.kr=!0;this.parent&&this.parent.bo()};k.prototype.pt=function(){return this.vc.length?this.vc[0].trigger:!1};k.prototype.pc=function(){var a,b,c=!1,d=this.c,e=this.c.lc();e.ic=this;var g=this.vc;this.nn||(e.kp=!1);if(this.Ve){0===g.length&&(c=!0);e.uc=0;for(a=g.length;e.uc<a;e.uc++)b=g[e.uc],b.trigger||(b=b.pc())&&(c=!0);(e.wi=c)&&this.Vn()}else{e.uc=0;for(a=g.length;e.uc<a;e.uc++)if(b=g[e.uc].pc(),!b){e.wi=!1;this.tr&&d.qh&&d.gd();return}e.wi=!0;this.Vn()}this.Ny(e)};
k.prototype.Ny=function(a){a.wi&&this.dt&&(a.kp=!0);this.tr&&this.c.qh&&this.c.gd()};k.prototype.qB=function(a){this.c.lc().ic=this;this.vc[a].pc()&&(this.Vn(),this.c.lc().wi=!0)};k.prototype.Vn=function(){var a=this.c.lc(),b;a.Gd=0;for(b=this.Ee.length;a.Gd<b;a.Gd++)if(this.Ee[a.Gd].pc())return;this.Tu()};k.prototype.oB=function(){var a=this.c.lc(),b;for(b=this.Ee.length;a.Gd<b;a.Gd++)if(this.Ee[a.Gd].pc())return;this.Tu()};k.prototype.Tu=function(){if(this.Ze.length){var a,b,c,d,e=this.Ze.length-
1;this.c.Rn(this);if(this.kr)for(a=0,b=this.Ze.length;a<b;a++)c=this.Ze[a],(d=!this.oo||!this.group&&a<e)&&this.c.Ji(c.fb),c.pc(),d?this.c.Uf(c.fb):this.c.Zo(c.fb);else for(a=0,b=this.Ze.length;a<b;a++)this.Ze[a].pc();this.c.Nn()}};k.prototype.rB=function(){var a=this.c.lc();a.ic=this;var b=!1,c;a.uc=0;for(c=this.vc.length;a.uc<c;a.uc++)if(this.vc[a.uc].pc())b=!0;else if(!this.Ve)return!1;return this.Ve?b:!0};k.prototype.Li=function(){this.c.di++;var a=this.c.lc().uc,b=this.c.Rn(this);if(!this.Ve)for(b.uc=
a+1,a=this.vc.length;b.uc<a;b.uc++)if(!this.vc[b.uc].pc()){this.c.Nn();return}this.Vn();this.c.Nn()};k.prototype.rA=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.vc[b].type===a.type)return!1;return!0};Sc=k;l.prototype.ac=function(){var a,b,c;a=0;for(b=this.Ra.length;a<b;a++)c=this.Ra[a],c.ac(),c.bf&&(this.gk=!0)};l.prototype.tB=function(){return!0};l.prototype.br=function(){var a,b;a=0;for(b=this.Ra.length;a<b;a++)this.Sb[a]=this.Ra[a].get();return gb(this.Yc.apply(this.c.$f,
this.Sb),this.Qp)};l.prototype.sB=function(){var a,b;a=0;for(b=this.Ra.length;a<b;a++)this.Sb[a]=this.Ra[a].get();a=this.Yc.apply(this.Th?this.Th:this.type,this.Sb);this.type.ig();return a};l.prototype.$q=function(){var a,b,c,d,e,g,h,f,k=this.type,m=k.Va(),l=this.ne.Ve&&!this.trigger;b=0;var n=k.pd,p=k.ta,q=k.sg,r=this.gf,u=-1<r,t=this.gk,L=this.Ra,O=this.Sb,S=this.Qp,R=this.Yc,I;if(t)for(b=0,e=L.length;b<e;++b)g=L[b],g.bf||(O[b]=g.get(0));else for(b=0,e=L.length;b<e;++b)O[b]=L[b].get(0);if(m.eb){G(m.F);
G(m.Ua);I=k.F;a=0;for(d=I.length;a<d;++a){f=I[a];if(t)for(b=0,e=L.length;b<e;++b)g=L[b],g.bf&&(O[b]=g.get(a));u?(b=0,p&&(b=f.type.gj[q]),b=R.apply(f.Ca[r+b],O)):b=R.apply(f,O);(h=gb(b,S))?m.F.push(f):l&&m.Ua.push(f)}k.finish&&k.finish(!0);m.eb=!1;k.ig();return m.Gp()}c=0;I=(h=l&&!this.ne.rA(this))?m.Ua:m.F;var T=!1;a=0;for(d=I.length;a<d;++a){f=I[a];if(t)for(b=0,e=L.length;b<e;++b)g=L[b],g.bf&&(O[b]=g.get(a));u?(b=0,p&&(b=f.type.gj[q]),b=R.apply(f.Ca[r+b],O)):b=R.apply(f,O);if(gb(b,S))if(T=!0,h){if(m.F.push(f),
n)for(b=0,e=f.siblings.length;b<e;b++)g=f.siblings[b],g.type.Va().F.push(g)}else{I[c]=f;if(n)for(b=0,e=f.siblings.length;b<e;b++)g=f.siblings[b],g.type.Va().F[c]=g;c++}else if(h){I[c]=f;if(n)for(b=0,e=f.siblings.length;b<e;b++)g=f.siblings[b],g.type.Va().Ua[c]=g;c++}else if(l&&(m.Ua.push(f),n))for(b=0,e=f.siblings.length;b<e;b++)g=f.siblings[b],g.type.Va().Ua.push(g)}Ga(I,c);if(n)for(p=k.Zd,a=0,d=p.length;a<d;a++)f=p[a].Va(),h?Ga(f.Ua,c):Ga(f.F,c);c=T;if(h&&!T)for(a=0,d=m.F.length;a<d;a++){f=m.F[a];
if(t)for(b=0,e=L.length;b<e;b++)g=L[b],g.bf&&(O[b]=g.get(a));b=u?R.apply(f.Ca[r],O):R.apply(f,O);if(gb(b,S)){T=!0;break}}k.finish&&k.finish(c||l);return l?T:m.Gp()};Nc=l;g.prototype.ac=function(){var a,b,c;a=0;for(b=this.Ra.length;a<b;a++)c=this.Ra[a],c.ac(),c.bf&&(this.gk=!0)};g.prototype.br=function(){var a=this.c,b,c,d=this.Ra,e=this.Sb;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.Yc.apply(a.$f,e)};g.prototype.$q=function(){var a=this.type,b=this.gf,c=a.sg,d=this.gk,e=this.Ra,g=this.Sb,
h=this.Yc,f=a.Va().se(),a=a.ta,k=-1<b,m,l,n,p,q,r;if(d)for(l=0,p=e.length;l<p;++l)q=e[l],q.bf||(g[l]=q.get(0));else for(l=0,p=e.length;l<p;++l)g[l]=e[l].get(0);m=0;for(n=f.length;m<n;++m){r=f[m];if(d)for(l=0,p=e.length;l<p;++l)q=e[l],q.bf&&(g[l]=q.get(m));k?(l=0,a&&(l=r.type.gj[c]),h.apply(r.Ca[b+l],g)):h.apply(r,g)}return!1};Oc=g;var t=[],u=-1;h.prototype.ac=function(){var a,b;if(11===this.type)this.ci=this.c.Ws(this.Ol,this.ne.parent);else if(13===this.type)for(a=0,b=this.Ni.length;a<b;a++)this.Ni[a].ac();
this.Kf&&this.Kf.ac()};h.prototype.KA=function(a){this.bf||!a||a.pb.eo||(this.bf=!0)};h.prototype.dv=function(){this.bf=!0};h.prototype.Vz=function(a){this.Mg=a||0;a=m();this.Kf.get(a);u--;return a.data};h.prototype.Wz=function(a){this.Mg=a||0;a=m();this.Kf.get(a);u--;return na(a.data)?a.data:""};h.prototype.bA=function(){return this.object};h.prototype.Tz=function(){return this.xs};h.prototype.$z=function(a){this.Mg=a||0;a=m();this.Kf.get(a);u--;return a.Ic()?this.c.ug(a.data):this.c.Bk(a.data)};
h.prototype.aA=function(){return this.Dc};h.prototype.Zz=function(){return this.key};h.prototype.Yz=function(){return this.index};h.prototype.Xz=function(a){a=a||0;var b=this.We.type,c=null,c=b.Va(),d=c.se();if(d.length)c=d[a%d.length].type;else if(c.Ua.length)c=c.Ua[a%c.Ua.length].type;else if(b.F.length)c=b.F[a%b.F.length].type;else return 0;return this.index+c.Sm[b.sg]};h.prototype.Uz=function(){return this.ci};h.prototype.Sz=function(){return this.Ns};h.prototype.cA=function(){var a,b;a=0;for(b=
this.Ni.length;a<b;a++)this.Nl[a]=this.Ni[a].get();return this.Nl};Pc=h;n.prototype.ac=function(){this.fb=b(this.fb)};n.prototype.Kg=function(a){var b=this.c.Us();this.parent&&!this.Uk&&b?(this.Ei>=b.length&&(b.length=this.Ei+1),b[this.Ei]=a):this.data=a};n.prototype.ji=function(){var a=this.c.Us();return!this.parent||this.Uk||!a||this.mn?this.data:this.Ei>=a.length||"undefined"===typeof a[this.Ei]?this.Mp:a[this.Ei]};n.prototype.pc=function(){!this.parent||this.Uk||this.mn||this.Kg(this.Mp)};Jc=
n;q.prototype.toString=function(){return"include:"+this.Gk.toString()};q.prototype.ac=function(){this.Gk=this.c.mp[this.jA];this.sheet.et.add(this);this.fb=b(this.fb);for(var a=this.parent;a;)a.group&&a.Bm.push(this),a=a.parent;this.Iv()};q.prototype.pc=function(){this.parent&&this.c.tl(this.c.ea);this.Gk.Hp||this.Gk.pc(!0);this.parent&&this.c.Uf(this.c.ea)};q.prototype.Iv=function(){for(var a=this.parent;a;){if(a.group&&!a.ki){this.tc=!1;return}a=a.parent}this.tc=!0};Tc=q;p.prototype.reset=function(a){this.ic=
a;this.Gd=this.uc=0;G(this.vv);this.kp=this.wi=!1};p.prototype.mt=function(){return this.ic.kr?!0:this.uc<this.ic.vc.length-1?!!this.ic.fb.length:!1};Ic=p})();
(function(){function a(a,b){this.We=a;this.c=a.c;this.type=b[0];this.get=[this.fz,this.bz,this.oz,this.rz,this.Ry,this.pz,this.jz,this.Zy,this.iz,this.nz,this.Sy,this.mz,this.$y,this.kz,this.gz,this.hz,this.cz,this.dz,this.Yy,this.qz,this.lz,this.ez,this.Xy,this.az][this.type];var c=null;this.Cg=this.Ra=this.Sb=this.Yc=this.no=this.second=this.first=this.value=null;this.gf=-1;this.lf=null;this.Ov=-1;this.ci=this.Ol=null;this.Jj=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Rc(a,b[1]);break;case 18:this.first=new Rc(a,b[1]);this.second=new Rc(a,b[2]);this.no=new Rc(a,b[3]);break;case 19:this.Yc=this.c.Zg(b[1]);this.Yc!==U.prototype.Ja.random&&this.Yc!==U.prototype.Ja.Wx||this.We.dv();this.Sb=[];this.Ra=[];3===b.length?(c=b[2],this.Sb.length=c.length+1):this.Sb.length=1;break;case 20:this.Cg=this.c.ea[b[1]];this.gf=-1;this.Yc=this.c.Zg(b[2]);this.Jj=b[3];pd&&this.Yc===pd.prototype.Ja.Vv&&this.We.dv();b[4]?this.lf=new Rc(a,b[4]):this.lf=null;this.Sb=[];this.Ra=[];
6===b.length?(c=b[5],this.Sb.length=c.length+1):this.Sb.length=1;break;case 21:this.Cg=this.c.ea[b[1]];this.Jj=b[2];b[3]?this.lf=new Rc(a,b[3]):this.lf=null;this.Ov=b[4];break;case 22:this.Cg=this.c.ea[b[1]];this.Cg.$m(b[2]);this.gf=this.Cg.wp(b[2]);this.Yc=this.c.Zg(b[3]);this.Jj=b[4];b[5]?this.lf=new Rc(a,b[5]):this.lf=null;this.Sb=[];this.Ra=[];7===b.length?(c=b[6],this.Sb.length=c.length+1):this.Sb.length=1;break;case 23:this.Ol=b[1],this.ci=null}this.We.KA(this.Cg);4<=this.type&&17>=this.type&&
(this.first=new Rc(a,b[1]),this.second=new Rc(a,b[2]));if(c){var d,h;d=0;for(h=c.length;d<h;d++)this.Ra.push(new Rc(a,c[d]))}}function c(){++k;f.length===k&&f.push(new Qc);return f[k]}function b(a,b,c){var d,h;d=0;for(h=a.length;d<h;++d)a[d].get(c),b[d+1]=c.data}function d(a,b){this.type=a||Uc.Vi;this.data=b||0;this.Hi=null;this.type==Uc.Vi&&(this.data=Math.floor(this.data))}a.prototype.ac=function(){23===this.type&&(this.ci=this.We.c.Ws(this.Ol,this.We.ne.parent));this.first&&this.first.ac();this.second&&
this.second.ac();this.no&&this.no.ac();this.lf&&this.lf.ac();if(this.Ra){var a,b;a=0;for(b=this.Ra.length;a<b;a++)this.Ra[a].ac()}};var f=[],k=-1;a.prototype.qz=function(a){var d=this.Ra,g=this.Sb;g[0]=a;a=c();b(d,g,a);--k;this.Yc.apply(this.c.$f,g)};a.prototype.lz=function(a){var d=this.Cg,g=this.Sb,f=this.Ra,h=this.lf,n=this.Yc,q=this.We.Mg,p=d.Va(),r=p.se();if(!r.length)if(p.Ua.length)r=p.Ua;else{this.Jj?a.Oc(""):a.Ma(0);return}g[0]=a;a.Hi=d;a=c();b(f,g,a);h&&(h.get(a),a.Ic()&&(q=a.data,r=d.F));
--k;d=r.length;if(q>=d||q<=-d)q%=d;0>q&&(q+=d);n.apply(r[q],g)};a.prototype.Xy=function(a){var d=this.Cg,g=this.Sb,f=this.Ra,h=this.lf,n=this.gf,q=this.Yc,p=this.We.Mg,r=d.Va(),t=r.se();if(!t.length)if(r.Ua.length)t=r.Ua;else{this.Jj?a.Oc(""):a.Ma(0);return}g[0]=a;a.Hi=d;a=c();b(f,g,a);h&&(h.get(a),a.Ic()&&(p=a.data,t=d.F));--k;f=t.length;if(p>=f||p<=-f)p%=f;0>p&&(p+=f);p=t[p];t=0;d.ta&&(t=p.type.gj[d.sg]);q.apply(p.Ca[n+t],g)};a.prototype.ez=function(a){var b=this.lf,d=this.Cg,f=this.Ov,h=this.We.Mg,
n=d.Va(),q=n.se();if(!q.length)if(n.Ua.length)q=n.Ua;else{this.Jj?a.Oc(""):a.Ma(0);return}if(b){n=c();b.get(n);if(n.Ic()){h=n.data;q=d.F;0!==q.length&&(h%=q.length,0>h&&(h+=q.length));h=d.Ap(h);d=h.zc[f];na(d)?a.Oc(d):a.ga(d);--k;return}--k}b=q.length;if(h>=b||h<=-b)h%=b;0>h&&(h+=b);h=q[h];q=0;d.ta&&(q=h.type.Sm[d.sg]);d=h.zc[f+q];na(d)?a.Oc(d):a.ga(d)};a.prototype.fz=function(a){a.type=Uc.Vi;a.data=this.value};a.prototype.bz=function(a){a.type=Uc.Ui;a.data=this.value};a.prototype.oz=function(a){a.type=
Uc.String;a.data=this.value};a.prototype.rz=function(a){this.first.get(a);a.Ic()&&(a.data=-a.data)};a.prototype.Ry=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ic()&&b.Ic()&&(a.data+=b.data,b.oj()&&a.Bj());--k};a.prototype.pz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ic()&&b.Ic()&&(a.data-=b.data,b.oj()&&a.Bj());--k};a.prototype.jz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ic()&&b.Ic()&&(a.data*=b.data,b.oj()&&a.Bj());--k};a.prototype.Zy=function(a){this.first.get(a);
var b=c();this.second.get(b);a.Ic()&&b.Ic()&&(a.data/=b.data,a.Bj());--k};a.prototype.iz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ic()&&b.Ic()&&(a.data%=b.data,b.oj()&&a.Bj());--k};a.prototype.nz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ic()&&b.Ic()&&(a.data=Math.pow(a.data,b.data),b.oj()&&a.Bj());--k};a.prototype.Sy=function(a){this.first.get(a);var b=c();this.second.get(b);b.rj()||a.rj()?this.Uy(a,b):this.Ty(a,b);--k};a.prototype.Uy=function(a,b){a.rj()&&
b.rj()?this.Wy(a,b):this.Vy(a,b)};a.prototype.Wy=function(a,b){a.data+=b.data};a.prototype.Vy=function(a,b){a.rj()?a.data+=(Math.round(1E10*b.data)/1E10).toString():a.Oc(a.data.toString()+b.data)};a.prototype.Ty=function(a,b){a.Ma(a.data&&b.data?1:0)};a.prototype.mz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ic()&&b.Ic()&&(a.data||b.data?a.Ma(1):a.Ma(0));--k};a.prototype.Yy=function(a){this.first.get(a);a.data?this.second.get(a):this.no.get(a)};a.prototype.$y=function(a){this.first.get(a);
var b=c();this.second.get(b);a.Ma(a.data===b.data?1:0);--k};a.prototype.kz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ma(a.data!==b.data?1:0);--k};a.prototype.gz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ma(a.data<b.data?1:0);--k};a.prototype.hz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ma(a.data<=b.data?1:0);--k};a.prototype.cz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ma(a.data>b.data?1:0);--k};a.prototype.dz=function(a){this.first.get(a);
var b=c();this.second.get(b);a.Ma(a.data>=b.data?1:0);--k};a.prototype.az=function(a){var b=this.ci.ji();ma(b)?a.ga(b):a.Oc(b)};Rc=a;d.prototype.oj=function(){return this.type===Uc.Ui};d.prototype.Ic=function(){return this.type===Uc.Vi||this.type===Uc.Ui};d.prototype.rj=function(){return this.type===Uc.String};d.prototype.Bj=function(){this.oj()||(this.rj()&&(this.data=parseFloat(this.data)),this.type=Uc.Ui)};d.prototype.Ma=function(a){this.type=Uc.Vi;this.data=Math.floor(a)};d.prototype.ga=function(a){this.type=
Uc.Ui;this.data=a};d.prototype.Oc=function(a){this.type=Uc.String;this.data=a};d.prototype.co=function(a){ma(a)?(this.type=Uc.Ui,this.data=a):na(a)?(this.type=Uc.String,this.data=a.toString()):(this.type=Uc.Vi,this.data=0)};Qc=d;Uc={Vi:0,Ui:1,String:2}})();function U(a){this.c=a;this.Ud=[]}
U.prototype.Nc=function(){var a={},c,b,d,f,k,e,l,g;a.waits=[];var m=a.waits,h;c=0;for(b=this.Ud.length;c<b;c++){e=this.Ud[c];h={t:e.time,st:e.ov,s:e.jr,ev:e.fj.Ya,sm:[],sols:{}};e.fj.Ee[e.Gd]&&(h.act=e.fj.Ee[e.Gd].Ya);d=0;for(f=e.fb.length;d<f;d++)h.sm.push(e.fb[d].Ya);for(k in e.Cd)if(e.Cd.hasOwnProperty(k)){l=this.c.ea[parseInt(k,10)];g={sa:e.Cd[k].Wn,insts:[]};d=0;for(f=e.Cd[k].vg.length;d<f;d++)g.insts.push(e.Cd[k].vg[d].uid);h.sols[l.Ya.toString()]=g}m.push(h)}return a};
U.prototype.qd=function(a){a=a.waits;var c,b,d,f,k,e,l,g,m,h,n;G(this.Ud);c=0;for(b=a.length;c<b;c++)if(e=a[c],g=this.c.ps[e.ev.toString()]){m=-1;d=0;for(f=g.Ee.length;d<f;d++)if(g.Ee[d].Ya===e.act){m=d;break}if(-1!==m){l={Cd:{},fb:[],ip:!1};l.time=e.t;l.ov=e.st||"";l.jr=!!e.s;l.fj=g;l.Gd=m;d=0;for(f=e.sm.length;d<f;d++)(g=this.c.bn(e.sm[d]))&&l.fb.push(g);for(k in e.sols)if(e.sols.hasOwnProperty(k)&&(g=this.c.bn(parseInt(k,10)))){m=e.sols[k];h={Wn:m.sa,vg:[]};d=0;for(f=m.insts.length;d<f;d++)(n=
this.c.ii(m.insts[d]))&&h.vg.push(n);l.Cd[g.index.toString()]=h}this.Ud.push(l)}}};
(function(){function a(){}function c(){}function b(){}var d=U.prototype;a.prototype.jw=function(){return!0};a.prototype.Or=function(){return!0};a.prototype.Mw=function(){return!0};a.prototype.Yv=function(a,b,c){return Vc(a,b,c)};a.prototype.kw=function(a,b,c){var d=this.c.lc(),e=d.ic,d=d.mt();a=this.c.Mu(a);if(c<b)if(d)for(;b>=c&&!a.Ub;--b)this.c.Ji(e.fb),a.index=b,e.Li(),this.c.Uf(e.fb);else for(;b>=c&&!a.Ub;--b)a.index=b,e.Li();else if(d)for(;b<=c&&!a.Ub;++b)this.c.Ji(e.fb),a.index=b,e.Li(),this.c.Uf(e.fb);
else for(;b<=c&&!a.Ub;++b)a.index=b,e.Li();this.c.Fu();return!1};var f=[],k=-1;a.prototype.lw=function(a){var b=a.Va();k++;f.length===k&&f.push([]);var c=f[k];Ia(c,b.se());var d=this.c.lc(),e=d.ic,l=d.mt(),d=this.c.Mu(),r,t,u,v,A,C,w=a.pd;if(l)for(l=0,r=c.length;l<r&&!d.Ub;l++){this.c.Ji(e.fb);v=c[l];b=a.Va();b.eb=!1;G(b.F);b.F[0]=v;if(w)for(t=0,u=v.siblings.length;t<u;t++)A=v.siblings[t],C=A.type.Va(),C.eb=!1,G(C.F),C.F[0]=A;d.index=l;e.Li();this.c.Uf(e.fb)}else for(b.eb=!1,G(b.F),l=0,r=c.length;l<
r&&!d.Ub;l++){v=c[l];b.F[0]=v;if(w)for(t=0,u=v.siblings.length;t<u;t++)A=v.siblings[t],C=A.type.Va(),C.eb=!1,G(C.F),C.F[0]=A;d.index=l;e.Li()}G(c);this.c.Fu();k--;return!1};a.prototype.iw=function(a){var b=this.c.Ts(),c=b.ja.Every_lastTime||0,d=this.c.Jc.Fa;"undefined"===typeof b.ja.Every_seconds&&(b.ja.Every_seconds=a);var e=b.ja.Every_seconds;if(d>=c+e)return b.ja.Every_lastTime=c+e,d>=b.ja.Every_lastTime+.04&&(b.ja.Every_lastTime=d),b.ja.Every_seconds=a,!0;d<c-.1&&(b.ja.Every_lastTime=d);return!1};
a.prototype.bw=function(a,b,c){return Vc(a.ji(),b,c)};a.prototype.sw=function(a){return(a=this.c.jj[a.toLowerCase()])&&a.ki};a.prototype.Zv=function(a,b,c){return a>=b&&a<=c};a.prototype.Lr=function(){var a=this.c.lc();return a.kp?!1:!a.wi};a.prototype.Pr=function(){return!0};a.prototype.Ew=function(){return!0};a.prototype.Fo=function(){return!0};a.prototype.Vr=function(){return!0};a.prototype.Nw=function(){return!0};a.prototype.Eo=function(){return!0};a.prototype.Rv=function(a,b,c){return Ya(J(a),
J(c))<=J(b)};a.prototype.rw=function(a,b){return db(J(a),J(b))};a.prototype.pw=function(a,b,c){a=Ua(a);b=Ua(b);c=Ua(c);return db(c,b)?db(a,b)&&!db(a,c):!(!db(a,b)&&db(a,c))};d.K=new a;c.prototype.mw=function(a){this.c.Vk||this.c.kk||(this.c.kk=a)};c.prototype.fw=function(a,b,c,d){if(b&&a&&(b=this.c.dp(a,b,c,d))){this.c.ve++;var e;this.c.trigger(Object.getPrototypeOf(a.pb).K.Wi,b);if(b.pd)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],this.c.trigger(Object.getPrototypeOf(e.type.pb).K.Wi,e);this.c.ve--;
a=a.Va();a.eb=!1;G(a.F);a.F[0]=b;if(b.pd)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.Va(),a.eb=!1,G(a.F),a.F[0]=e}};c.prototype.jx=function(a,b){0===a.Pl?ma(b)?a.Kg(b):a.Kg(parseFloat(b)):1===a.Pl&&a.Kg(b.toString())};c.prototype.Qv=function(a,b){0===a.Pl?ma(b)?a.Kg(a.ji()+b):a.Kg(a.ji()+parseFloat(b)):1===a.Pl&&a.Kg(a.ji()+b.toString())};c.prototype.yx=function(a,b){0===a.Pl&&(ma(b)?a.Kg(a.ji()-b):a.Kg(a.ji()-parseFloat(b)))};c.prototype.hx=function(a,b){var c=this.c.jj[a.toLowerCase()];
if(c)switch(b){case 0:c.ao(!1);break;case 1:c.ao(!0);break;case 2:c.ao(!c.ki)}};var e=[],l=[];c.prototype.Cx=function(a){if(!(0>a)){var b,c,d,f=this.c.lc(),k;e.length?k=e.pop():k={Cd:{},fb:[]};k.ip=!1;k.time=this.c.Jc.Fa+a;k.ov="";k.jr=!1;k.fj=f.ic;k.Gd=f.Gd+1;a=0;for(b=this.c.ea.length;a<b;a++)d=this.c.ea[a],c=d.Va(),c.eb&&-1===f.ic.fb.indexOf(d)||(k.fb.push(d),d=void 0,l.length?d=l.pop():d={vg:[]},d.Wn=!1,d.Wn=c.eb,Ia(d.vg,c.F),k.Cd[a.toString()]=d);this.Ud.push(k);return!0}};d.pa=new c;b.prototype["int"]=
function(a,b){na(b)?(a.Ma(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.Ma(b)};b.prototype["float"]=function(a,b){na(b)?(a.ga(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.ga(b)};b.prototype.random=function(a,b,c){void 0===c?a.ga(Math.random()*b):a.ga(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.ga(Math.sqrt(b))};b.prototype.abs=function(a,b){a.ga(Math.abs(b))};b.prototype.round=function(a,b){a.Ma(Math.round(b))};b.prototype.floor=function(a,b){a.Ma(Math.floor(b))};b.prototype.ceil=function(a,
b){a.Ma(Math.ceil(b))};b.prototype.sin=function(a,b){a.ga(Math.sin(J(b)))};b.prototype.cos=function(a,b){a.ga(Math.cos(J(b)))};b.prototype.tan=function(a,b){a.ga(Math.tan(J(b)))};b.prototype.asin=function(a,b){a.ga(Pa(Math.asin(b)))};b.prototype.acos=function(a,b){a.ga(Pa(Math.acos(b)))};b.prototype.atan=function(a,b){a.ga(Pa(Math.atan(b)))};b.prototype.exp=function(a,b){a.ga(Math.exp(b))};b.prototype.log10=function(a,b){a.ga(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];
"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.ga(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.ga(b)};b.prototype.Da=function(a){a.ga(this.c.Da)};b.prototype.Jh=function(a){a.ga(this.c.Jh)};b.prototype.time=function(a){a.ga(this.c.Jc.Fa)};b.prototype.Ih=function(a){a.Ma(this.c.Ih)};b.prototype.Dn=function(a){a.Ma(this.c.Dn)};
b.prototype.tp=function(a){a.Ma(this.c.tp)};b.prototype.GA=function(a,b){var c,d;if(this.c.hl.length)if(b){for(d=this.c.il;0<=d;--d)if(c=this.c.hl[d],c.name===b){a.Ma(c.index);return}a.Ma(0)}else c=this.c.Vs(),a.Ma(c?c.index:-1);else a.Ma(0)};b.prototype.If=function(a,b,c,d,e){a.ga(fb(b,c,d,e))};b.prototype.M=function(a,b,c,d,e){a.ga(Pa(Va(b,c,d,e)))};b.prototype.CA=function(a,b,c,d){a.ga(ib(b,c,d))};b.prototype.Xx=function(a,b,c,d){b<c?a.ga(c):b>d?a.ga(d):a.ga(b)};b.prototype.BA=function(a){a.Ma(this.c.tb.width)};
b.prototype.AA=function(a){a.Ma(this.c.tb.height)};b.prototype.left=function(a,b,c){a.Oc(na(b)?b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.Oc(na(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){na(b)&&na(c)&&na(d)?a.Oc(b.replace(new RegExp(Eb(c),"gi"),d)):a.Oc(na(b)?b:"")};b.prototype.trim=function(a,b){a.Oc(na(b)?b.trim():"")};b.prototype.Wx=function(a){var b=wa(Math.random()*(arguments.length-1));a.co(arguments[b+1])};b.prototype.bp=function(a){a.ga(this.c.bp/1E3)};
b.prototype.yj=function(a){a.ga(this.c.yj)};d.Ja=new b;d.pB=function(){var a,b,c,d,f,k,r=this.c.lc();a=0;for(c=this.Ud.length;a<c;a++){d=this.Ud[a];if(-1===d.time){if(!d.jr)continue}else if(d.time>this.c.Jc.Fa)continue;r.ic=d.fj;r.Gd=d.Gd;r.uc=0;for(b in d.Cd)d.Cd.hasOwnProperty(b)&&(f=this.c.ea[parseInt(b,10)].Va(),k=d.Cd[b],f.eb=k.Wn,Ia(f.F,k.vg),f=k,G(f.vg),l.push(f));d.fj.oB();this.c.Zo(d.fb);d.ip=!0}b=a=0;for(c=this.Ud.length;a<c;a++)d=this.Ud[a],this.Ud[b]=d,d.ip?(qb(d.Cd),G(d.fb),e.push(d)):
b++;Ga(this.Ud,b)}})();
(function(){Zb=function(a,b){var d=a[1],f=a[3],k=a[4],e=a[5],l=a[6],g=a[7],m=a[8];b.K||(b.K={});b.pa||(b.pa={});b.Ja||(b.Ja={});var h=b.K,n=b.pa,q=b.Ja;f&&(h.Kr=function(a,b){return Vc(this.x,a,b)},h.ew=function(a,b){return Vc(this.y,a,b)},h.jC=function(){var a=this.V;this.lb();var b=this.Wb;return!(b.right<a.ub||b.bottom<a.wb||b.left>a.Bb||b.top>a.Ab)},h.kC=function(){this.lb();var a=this.Wb,b=this.c.tb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},h.tC=function(a,b,c){var d=this.Va(),
e=d.se();if(!e.length)return!1;var f=e[0],h=f,g=fb(f.x,f.y,b,c),k,m,l;k=1;for(m=e.length;k<m;k++)if(f=e[k],l=fb(f.x,f.y,b,c),0===a&&l<g||1===a&&l>g)g=l,h=f;d.ql(h);return!0},n.nx=function(a){this.x!==a&&(this.x=a,this.ua())},n.rx=function(a){this.y!==a&&(this.y=a,this.ua())},n.Zr=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ua()},n.FC=function(a,b){var c=a.Lz(this);if(c){var d;c.Oe?(d=c.Oe(b,!0),c=c.Oe(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.ua()}},
n.oC=function(a){0!==a&&(this.x+=Math.cos(this.M)*a,this.y+=Math.sin(this.M)*a,this.ua())},n.zw=function(a,b){0!==b&&(this.x+=Math.cos(J(a))*b,this.y+=Math.sin(J(a))*b,this.ua())},q.Mo=function(a){a.ga(this.x)},q.No=function(a){a.ga(this.y)},q.Da=function(a){a.ga(this.c.gi(this))});k&&(h.fC=function(a,b){return Vc(this.width,a,b)},h.dC=function(a,b){return Vc(this.height,a,b)},n.mx=function(a){this.width!==a&&(this.width=a,this.ua())},n.DC=function(a){this.height!==a&&(this.height=a,this.ua())},n.Jo=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ua()},q.Dx=function(a){a.ga(this.width)},q.ow=function(a){a.ga(this.height)},q.aC=function(a){this.lb();a.ga(this.Wb.left)},q.cC=function(a){this.lb();a.ga(this.Wb.top)},q.bC=function(a){this.lb();a.ga(this.Wb.right)},q.$B=function(a){this.lb();a.ga(this.Wb.bottom)});e&&(h.Rv=function(a,b){return Ya(this.M,J(b))<=J(a)},h.rw=function(a){return db(this.M,J(a))},h.pw=function(a,b){var c=Ua(a),d=Ua(b),e=Sa(this.M);return db(d,
c)?db(e,c)&&!db(e,d):!(!db(e,c)&&db(e,d))},n.Yr=function(a){a=J(Qa(a));isNaN(a)||this.M===a||(this.M=a,this.ua())},n.xC=function(a){0===a||isNaN(a)||(this.M+=J(a),this.M=Sa(this.M),this.ua())},n.yC=function(a){0===a||isNaN(a)||(this.M-=J(a),this.M=Sa(this.M),this.ua())},n.zC=function(a,b){var c=Za(this.M,J(b),J(a));isNaN(c)||this.M===c||(this.M=c,this.ua())},n.AC=function(a,b,c){a=Za(this.M,Math.atan2(c-this.y,b-this.x),J(a));isNaN(a)||this.M===a||(this.M=a,this.ua())},n.GC=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.M===c||(this.M=c,this.ua())},q.ZB=function(a){a.ga(Ta(this.M))});d||(h.aw=function(a,b,c){return Vc(this.zc[a],b,c)},h.qw=function(a){return this.zc[a]},h.uC=function(a,b){var c=this.Va(),d=c.se();if(!d.length)return!1;var e=d[0],f=e,h=e.zc[b],g,k,m;g=1;for(k=d.length;g<k;g++)if(e=d[g],m=e.zc[b],0===a&&m<h||1===a&&m>h)h=m,f=e;c.ql(f);return!0},h.$w=function(a){var b,c,d,e,f;if(this.c.Ts().Qp){f=this.Va();if(f.eb)for(f.eb=!1,G(f.F),G(f.Ua),d=this.F,b=0,c=d.length;b<
c;b++)e=d[b],e.uid===a?f.Ua.push(e):f.F.push(e);else{d=b=0;for(c=f.F.length;b<c;b++)e=f.F[b],f.F[d]=e,e.uid===a?f.Ua.push(e):d++;Ga(f.F,d)}this.ig();return!!f.F.length}e=this.c.ii(a);if(!e)return!1;f=this.Va();if(!f.eb&&-1===f.F.indexOf(e))return!1;if(this.ta)for(a=e.type.Lb,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.ql(e),this.ig(),!0}else if(e.type===this)return f.ql(e),this.ig(),!0;return!1},h.Wi=function(){return!0},h.Fw=function(){return!0},n.ix=function(a,b){var c=this.zc;ma(c[a])?c[a]=
ma(b)?b:parseFloat(b):na(c[a])&&(c[a]=na(b)?b:b.toString())},n.YB=function(a,b){var c=this.zc;ma(c[a])?c[a]=ma(b)?c[a]+b:c[a]+parseFloat(b):na(c[a])&&(c[a]=na(b)?c[a]+b:c[a]+b.toString())},n.HC=function(a,b){var c=this.zc;ma(c[a])&&(c[a]=ma(b)?c[a]-b:c[a]-parseFloat(b))},n.cx=function(a,b){this.zc[a]=b?1:0},n.IC=function(a){this.zc[a]=1-this.zc[a]},n.vd=function(){this.c.Xg(this)},n.ww||(n.ww=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.c.vn(this,b,!0);this.gg&&this.gg();if(this.Ca)for(a=
0,b=this.Ca.length;a<b;++a)c=this.Ca[a],c.gg&&c.gg()}),q.gC=function(a){var b=a.Hi.F.length,c,d,e;c=0;for(d=this.c.kf.length;c<d;c++)e=this.c.kf[c],a.Hi.ta?0<=e.type.Lb.indexOf(a.Hi)&&b++:e.type===a.Hi&&b++;a.Ma(b)},q.wC=function(a){a.Ma(a.Hi.Va().se().length)},q.Ax=function(a){a.Ma(this.uid)},q.hC=function(a){a.Ma(this.Dk())},q.Do||(q.Do=function(a){a.Oc(JSON.stringify(this.c.cr(this,!0)))}));l&&(h.lC=function(){return this.visible},n.kx=function(a){!a!==!this.visible&&(this.visible=!!a,this.c.kb=
!0)},h.eC=function(a,b){return Vc(Vb(100*this.opacity),a,b)},n.EC=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.c.kb=!0)},q.Opacity=function(a){a.ga(Vb(100*this.opacity))});g&&(h.iC=function(a){return a?this.V===a:!1},h.vC=function(a){var b=this.Va(),c=b.se();if(!c.length)return!1;var d=c[0],e=d,f,h;f=1;for(h=c.length;f<h;f++)if(d=c[f],0===a){if(d.V.index>e.V.index||d.V.index===e.V.index&&d.Nf()>e.Nf())e=d}else if(d.V.index<e.V.index||d.V.index===e.V.index&&d.Nf()<
e.Nf())e=d;b.ql(e);return!0},n.qC=function(){var a=this.V,b=a.F;b.length&&b[b.length-1]===this||(a.Ij(this,!1),a.ik(this,!1),this.c.kb=!0)},n.Aw=function(){var a=this.V,b=a.F;b.length&&b[0]===this||(a.Ij(this,!1),a.$A(this),this.c.kb=!0)},n.pC=function(a){a&&a!=this.V&&(this.V.Ij(this,!0),this.V=a,a.ik(this,!0),this.c.kb=!0)},n.KC=function(a,b){var c=0===a;if(b){var d=b.Fz(this);d&&d.uid!==this.uid&&(this.V.index!==d.V.index&&(this.V.Ij(this,!0),this.V=d.V,d.V.ik(this,!0)),this.V.LA(this,d,c),this.c.kb=
!0)}},q.nC=function(a){a.Ma(this.V.iu)},q.mC=function(a){a.Oc(this.V.name)},q.JC=function(a){a.Ma(this.Nf())});m&&(n.BC=function(a,b){if(this.c.da){var c=this.type.zp(b);if(!(0>c)){var d=1===a;this.ah[c]!==d&&(this.ah[c]=d,this.vf(),this.c.kb=!0)}}},n.CC=function(a,b,c){if(this.c.da){var d=this.type.zp(a);0>d||(a=this.type.Ea[d],d=this.Nb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.c.da.Pz(a.qc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.tc&&(this.c.kb=!0))))}})};rc=function(){this.Wo=this.So=!0;this.type.hm=
!0;this.c.kb=!0;var a,b,d=this.To;a=0;for(b=d.length;a<b;++a)d[a](this);this.V.Be&&this.lb()};sc=function(a){a&&this.To.push(a)};uc=function(){if(this.So){var a=this.Wb,b=this.Eb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.yd*this.width,-this.zd*this.height);this.M?(a.offset(-this.x,-this.y),b.hv(a,this.M),b.offset(this.x,this.y),b.rs(a)):b.Al(a);a.normalize();this.So=!1;this.RB()}};var a=new za(0,0,0,0);vc=function(){if(this.V.Be){var c=this.V.cd,b=this.Wb;a.set(c.Ed(b.left),
c.Fd(b.top),c.Ed(b.right),c.Fd(b.bottom));this.Qd.rk(a)||(this.Qd.right<this.Qd.left?c.update(this,null,a):c.update(this,this.Qd,a),this.Qd.nk(a),this.V.sf=!0)}};wc=function(){if(this.Wo&&this.He){this.lb();var c=this.type.lk,b=this.Wb;a.set(c.Ed(b.left),c.Fd(b.top),c.Ed(b.right),c.Fd(b.bottom));this.Ge.rk(a)||(this.Ge.right<this.Ge.left?c.update(this,null,a):c.update(this,this.Ge,a),this.Ge.nk(a),this.Wo=!1)}};tc=function(a,b){return this.Wb.jd(a,b)&&this.Eb.jd(a,b)?this.Ta&&!this.Ta.si()?(this.Ta.Uh(this.width,
this.height,this.M),this.Ta.jd(a-this.x,b-this.y)):!0:!1};nc=function(){this.type.uo();return this.ni};xc=function(){this.V.Cr();return this.xf};Ac=function(){G(this.mb);var a,b,d,f=!0;a=0;for(b=this.ah.length;a<b;a++)this.ah[a]&&(d=this.type.Ea[a],this.mb.push(d),d.qf||(f=!1));this.Nv=!!this.mb.length;this.Lg=f};oc=function(){return"Inst"+this.Lu};bc=function(a){if(a&&a.pd&&a.type!=this){var b,d,f;b=0;for(d=a.siblings.length;b<d;b++)if(f=a.siblings[b],f.type==this)return f}a=this.Va().se();return a.length?
a[0]:null};cc=function(a){var b=this.Va().se();return b.length?b[a.Dk()%b.length]:null};ac=function(){if(this.Nj&&!this.ta){var a,b;a=0;for(b=this.F.length;a<b;a++)this.F[a].ni=a;var d=a,f=this.c.kf;a=0;for(b=f.length;a<b;++a)f[a].type===this&&(f[a].ni=d++);this.Nj=!1}};lc=function(a){if(a<this.F.length)return this.F[a];a-=this.F.length;var b=this.c.kf,d,f;d=0;for(f=b.length;d<f;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};dc=function(){return this.Ng[this.Hf]};ec=function(){this.Hf++;
this.Hf===this.Ng.length?this.Ng.push(new $b(this)):(this.Ng[this.Hf].eb=!0,G(this.Ng[this.Hf].Ua))};fc=function(){this.Hf++;this.Hf===this.Ng.length&&this.Ng.push(new $b(this));var a=this.Ng[this.Hf],b=this.Ng[this.Hf-1];b.eb?(a.eb=!0,G(a.Ua)):(a.eb=!1,Ia(a.F,b.F),Ia(a.Ua,b.Ua))};gc=function(){this.Hf--};hc=function(a){var b,d,f,k,e,l=0;if(!this.ta)for(b=0,d=this.Lb.length;b<d;b++)for(e=this.Lb[b],f=0,k=e.Mb.length;f<k;f++){if(a===e.Mb[f].name)return this.ja.lastBehIndex=l,e.Mb[f];l++}b=0;for(d=
this.Mb.length;b<d;b++){if(a===this.Mb[b].name)return this.ja.lastBehIndex=l,this.Mb[b];l++}return null};ic=function(a){return this.$m(a)?this.ja.lastBehIndex:-1};jc=function(a){var b,d;b=0;for(d=this.Ea.length;b<d;b++)if(this.Ea[b].name===a)return b;return-1};kc=function(){if(this.pd&&!this.ta){var a,b,d,f,k,e,l;this.uo();e=this.Va();var g=e.eb,m=(a=this.c.lc())&&a.ic&&a.ic.Ve;a=0;for(b=this.Zd.length;a<b;a++)if(k=this.Zd[a],k!==this&&(k.uo(),l=k.Va(),l.eb=g,!g)){G(l.F);d=0;for(f=e.F.length;d<f;++d)l.F[d]=
k.Ap(e.F[d].ni);if(m)for(G(l.Ua),d=0,f=e.Ua.length;d<f;++d)l.Ua[d]=k.Ap(e.Ua[d].ni)}}};mc=function(){return"Type"+this.Ya};Vc=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();var md={};function qd(a){this.c=a}
(function(){function a(){return l.length?l.pop():[]}function c(a){var b,d;b=0;for(d=a.length;b<d;b++)Array.isArray(a[b])&&c(a[b]);G(a);l.push(a)}function b(){}function d(){}function f(){}var k=qd.prototype;k.Xa=function(a){this.pb=a;this.c=a.c};k.Xa.prototype.ra=function(){};k.La=function(a){this.type=a;this.c=a.c};var e=k.La.prototype,l=[];Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});e.ra=function(){this.kd=this.W[0];this.Jd=this.W[1];this.oe=
this.W[2];this.Pd||(this.ef=a());var b=this.ef;b.length=this.kd;var c,d,e;for(c=0;c<this.kd;c++)for(b[c]||(b[c]=a()),b[c].length=this.Jd,d=0;d<this.Jd;d++)for(b[c][d]||(b[c][d]=a()),b[c][d].length=this.oe,e=0;e<this.oe;e++)b[c][d][e]=0;this.$d=[];this.Lf=[];this.ei=[];this.Ne=-1};e.Ii=function(){var a;for(a=0;a<this.kd;a++)c(this.ef[a]);G(this.ef)};e.me=function(a,b,c){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);return isNaN(a)||0>a||a>this.kd-1||isNaN(b)||0>b||b>this.Jd-1||isNaN(c)||0>c||c>this.oe-
1?0:this.ef[a][b][c]};e.set=function(a,b,c,d){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);isNaN(a)||0>a||a>this.kd-1||isNaN(b)||0>b||b>this.Jd-1||isNaN(c)||0>c||c>this.oe-1||(this.ef[a][b][c]=d)};e.Bz=function(){return JSON.stringify({c2array:!0,size:[this.kd,this.Jd,this.oe],data:this.ef})};e.Nc=function(){return{size:[this.kd,this.Jd,this.oe],data:this.ef}};e.qd=function(a){var b=a.size;this.kd=b[0];this.Jd=b[1];this.oe=b[2];this.ef=a.data};e.Jg=function(b,c,d){0>b&&(b=0);0>c&&(c=0);0>d&&(d=
0);if(this.kd!==b||this.Jd!==c||this.oe!==d){this.kd=b;this.Jd=c;this.oe=d;var e,f,k=this.ef;k.length=b;for(b=0;b<this.kd;b++)for(la(k[b])&&(k[b]=a()),k[b].length=c,e=0;e<this.Jd;e++)for(la(k[b][e])&&(k[b][e]=a()),k[b][e].length=d,f=0;f<this.oe;f++)la(k[b][e][f])&&(k[b][e][f]=0)}};e.Xs=function(){return 0<=this.Ne&&this.Ne<this.$d.length?this.$d[this.Ne]:0};e.Ys=function(){return 0<=this.Ne&&this.Ne<this.Lf.length?this.Lf[this.Ne]:0};e.Gz=function(){return 0<=this.Ne&&this.Ne<this.ei.length?this.ei[this.Ne]:
0};b.prototype.Kr=function(a,b,c){return Vc(this.me(a,0,0),b,c)};b.prototype.dw=function(a,b,c,d){return Vc(this.me(a,b,0),c,d)};e.jp=function(a){this.c.Ji(a.fb);a.Li();this.c.Uf(a.fb)};b.prototype.Tv=function(a){var b=this.c.lc().ic;this.Ne++;var c=this.Ne;c===this.$d.length?(this.$d.push(0),this.Lf.push(0),this.ei.push(0)):(this.$d[c]=0,this.Lf[c]=0,this.ei[c]=0);switch(a){case 0:for(this.$d[c]=0;this.$d[c]<this.kd;this.$d[c]++)for(this.Lf[c]=0;this.Lf[c]<this.Jd;this.Lf[c]++)for(this.ei[c]=0;this.ei[c]<
this.oe;this.ei[c]++)this.jp(b);break;case 1:for(this.$d[c]=0;this.$d[c]<this.kd;this.$d[c]++)for(this.Lf[c]=0;this.Lf[c]<this.Jd;this.Lf[c]++)this.jp(b);break;case 2:for(this.$d[c]=0;this.$d[c]<this.kd;this.$d[c]++)this.jp(b)}this.Ne--;return!1};b.prototype.$v=function(a,b){return Vc(this.me(this.Xs(),this.Ys(),this.Gz()),a,b)};b.prototype.$j=function(a){var b,c,d;for(b=0;b<this.kd;b++)for(c=0;c<this.Jd;c++)for(d=0;d<this.oe;d++)if(this.ef[b][c][d]===a)return!0;return!1};k.K=new b;d.prototype.Yj=
function(){var a,b,c;for(a=0;a<this.kd;a++)for(b=0;b<this.Jd;b++)for(c=0;c<this.oe;c++)this.ef[a][b][c]=0};d.prototype.Jo=function(a,b,c){this.Jg(a,b,c)};d.prototype.nx=function(a,b){this.set(a,0,0,b)};d.prototype.ox=function(a,b,c){this.set(a,b,0,c)};d.prototype.qx=function(a,b,c,d){this.set(a,b,c,d)};k.pa=new d;f.prototype.Uv=function(a,b,c,d){a.co(this.me(b,c||0,d||0))};f.prototype.Dx=function(a){a.Ma(this.kd)};f.prototype.ow=function(a){a.Ma(this.Jd)};f.prototype.gw=function(a){a.Ma(this.Xs())};
f.prototype.hw=function(a){a.Ma(this.Ys())};f.prototype.Do=function(a){a.Oc(this.Bz())};k.Ja=new f})();function rd(a){this.c=a}
(function(){function a(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function c(a){a=a.toLowerCase();return ea.hasOwnProperty(a)&&ea[a].length?ea[a][0].qe():D.destination}function b(){return D.createGain?D.createGain():D.createGainNode()}function d(a){return D.createDelay?D.createDelay(a):D.createDelayNode(a)}function f(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function k(a,b,c,d){a.start?a.start(d||0,b):a.noteGrainOn(d||0,b,c-b)}function e(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}
function l(a,c,d,e,f,h){this.type="filter";this.ob=[a,c,d,e,f,h];this.ab=b();this.Ba=b();this.Ba.gain.value=h;this.za=b();this.za.gain.value=1-h;this.kc=D.createBiquadFilter();this.kc.type="number"===typeof this.kc.type?a:Ed[a];this.kc.frequency.value=c;this.kc.detune&&(this.kc.detune.value=d);this.kc.Q.value=e;this.kc.gain.value=f;this.ab.connect(this.kc);this.ab.connect(this.za);this.kc.connect(this.Ba)}function g(a,c,e){this.type="delay";this.ob=[a,c,e];this.ab=b();this.Ba=b();this.Ba.gain.value=
e;this.za=b();this.za.gain.value=1-e;this.jl=b();this.Le=d(a);this.Le.delayTime.value=a;this.Jm=b();this.Jm.gain.value=c;this.ab.connect(this.jl);this.ab.connect(this.za);this.jl.connect(this.Ba);this.jl.connect(this.Le);this.Le.connect(this.Jm);this.Jm.connect(this.jl)}function m(a,c,d,e){this.type="convolve";this.ob=[c,d,e];this.ab=b();this.Ba=b();this.Ba.gain.value=d;this.za=b();this.za.gain.value=1-d;this.Vh=D.createConvolver();a&&(this.Vh.normalize=c,this.Vh.buffer=a);this.ab.connect(this.Vh);
this.ab.connect(this.za);this.Vh.connect(this.Ba)}function h(a,c,e,h,g){this.type="flanger";this.ob=[a,c,e,h,g];this.ab=b();this.za=b();this.za.gain.value=1-g/2;this.Ba=b();this.Ba.gain.value=g/2;this.Tm=b();this.Tm.gain.value=h;this.Le=d(a+c);this.Le.delayTime.value=a;this.Mc=D.createOscillator();this.Mc.frequency.value=e;this.ie=b();this.ie.gain.value=c;this.ab.connect(this.Le);this.ab.connect(this.za);this.Le.connect(this.Ba);this.Le.connect(this.Tm);this.Tm.connect(this.Le);this.Mc.connect(this.ie);
this.ie.connect(this.Le.delayTime);f(this.Mc)}function n(a,c,d,e,h,g){this.type="phaser";this.ob=[a,c,d,e,h,g];this.ab=b();this.za=b();this.za.gain.value=1-g/2;this.Ba=b();this.Ba.gain.value=g/2;this.kc=D.createBiquadFilter();this.kc.type="number"===typeof this.kc.type?7:"allpass";this.kc.frequency.value=a;this.kc.detune&&(this.kc.detune.value=c);this.kc.Q.value=d;this.Mc=D.createOscillator();this.Mc.frequency.value=h;this.ie=b();this.ie.gain.value=e;this.ab.connect(this.kc);this.ab.connect(this.za);
this.kc.connect(this.Ba);this.Mc.connect(this.ie);this.ie.connect(this.kc.frequency);f(this.Mc)}function q(a){this.type="gain";this.ob=[a];this.jb=b();this.jb.gain.value=a}function p(a,c){this.type="tremolo";this.ob=[a,c];this.jb=b();this.jb.gain.value=1-c/2;this.Mc=D.createOscillator();this.Mc.frequency.value=a;this.ie=b();this.ie.gain.value=c/2;this.Mc.connect(this.ie);this.ie.connect(this.jb.gain);f(this.Mc)}function r(a,c){this.type="ringmod";this.ob=[a,c];this.ab=b();this.Ba=b();this.Ba.gain.value=
c;this.za=b();this.za.gain.value=1-c;this.xl=b();this.xl.gain.value=0;this.Mc=D.createOscillator();this.Mc.frequency.value=a;this.Mc.connect(this.xl.gain);f(this.Mc);this.ab.connect(this.xl);this.ab.connect(this.za);this.xl.connect(this.Ba)}function t(a,c,d,e,f){this.type="distortion";this.ob=[a,c,d,e,f];this.ab=b();this.Pn=b();this.On=b();this.wB(d,Math.pow(10,e/20));this.Ba=b();this.Ba.gain.value=f;this.za=b();this.za.gain.value=1-f;this.zo=D.createWaveShaper();this.Hm=new Float32Array(65536);this.zz(a,
c);this.zo.Hm=this.Hm;this.ab.connect(this.Pn);this.ab.connect(this.za);this.Pn.connect(this.zo);this.zo.connect(this.On);this.On.connect(this.Ba)}function u(a,b,c,d,e){this.type="compressor";this.ob=[a,b,c,d,e];this.jb=D.createDynamicsCompressor();try{this.jb.threshold.value=a,this.jb.knee.value=b,this.jb.ratio.value=c,this.jb.attack.value=d,this.jb.release.value=e}catch(f){}}function v(a,b){this.type="analyser";this.ob=[a,b];this.jb=D.createAnalyser();this.jb.fftSize=a;this.jb.smoothingTimeConstant=
b;this.xz=new Float32Array(this.jb.frequencyBinCount);this.lv=new Uint8Array(a);this.pl=0}function A(){this.rb=null;this.wn=0}function C(a,c){this.src=a;this.Wa=N;this.Re=c;this.gm=!1;var d=this;this.uq=this.Jq=null;this.Hj=[];this.Xn=0;this.Gr=this.Rm=this.sv=this.Kn=!1;1===N&&c&&!ub&&(this.Wa=0,this.Jq=b());this.jg=this.nb=null;var e;switch(this.Wa){case 0:this.nb=new Audio;this.nb.crossOrigin="anonymous";this.nb.addEventListener("canplaythrough",function(){d.Gr=!0});1===N&&D.createMediaElementSource&&
!/wiiu/i.test(navigator.userAgent)&&(this.sv=!0,this.nb.addEventListener("canplay",function(){d.uq||(d.uq=D.createMediaElementSource(d.nb),d.uq.connect(d.Jq))}));this.nb.autoplay=!1;this.nb.XC="auto";this.nb.src=a;break;case 1:x.Sk?x.Ls(a,function(a){d.jg=a;d.Cs()},function(){d.Rm=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){d.jg=e.response;d.Cs()},e.onerror=function(){d.Rm=!0},e.send());break;case 2:this.nb=!0;break;case 3:this.nb=!0}}function w(a,
d){var e=this;this.tag=d;this.Ub=this.Mf=!0;this.src=a.src;this.buffer=a;this.Wa=N;this.Re=a.Re;this.playbackRate=1;this.kj=!0;this.be=this.Ae=!1;this.Rd=0;this.Tk=this.pj=this.Qf=!1;this.volume=1;this.Hq=function(a){if(!e.be&&!e.Ae){var b=this;b||(b=a.target);b===e.fm&&(e.kj=!0,e.Ub=!0,V=e.tag,x.trigger(rd.prototype.K.cm,H))}};this.fm=null;this.mj=1===O&&!this.Re||2===O;this.Dj=1;this.startTime=this.mj?x.Jc.Fa:x.Rg.Fa;this.oc=this.xc=null;this.Rf=!1;this.$c=null;this.wu=this.vu=this.uu=this.tu=this.yu=
this.xu=0;this.U=null;var f=!1;1!==this.Wa||0!==this.buffer.Wa||this.buffer.sv||(this.Wa=0);switch(this.Wa){case 0:this.Re?(this.U=a.nb,f=!a.gm,a.gm=!0):(this.U=new Audio,this.U.crossOrigin="anonymous",this.U.autoplay=!1,this.U.src=a.nb.src,f=!0);f&&this.U.addEventListener("ended",function(){V=e.tag;e.Ub=!0;x.trigger(rd.prototype.K.cm,H)});break;case 1:this.xc=b();this.xc.connect(c(d));1===this.buffer.Wa?a.nb&&(this.U=D.createBufferSource(),this.U.buffer=a.nb,this.U.connect(this.xc)):(this.U=this.buffer.nb,
this.buffer.Jq.connect(this.xc),this.buffer.gm||(this.buffer.gm=!0,this.buffer.nb.addEventListener("ended",function(){V=e.tag;e.Ub=!0;x.trigger(rd.prototype.K.cm,H)})));break;case 2:this.U=new window.Media(M+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.kj=!0,e.Ub=!0,V=e.tag,x.trigger(rd.prototype.K.cm,H))});break;case 3:this.U=!0}}function E(a,b){ea.hasOwnProperty(a)?ea[a].push(b):ea[a]=[b];var c,d,e,f,h=D.destination;if(ea.hasOwnProperty(a)&&(e=ea[a],e.length))for(h=e[0].qe(),
c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.Ie(D.destination):f.Ie(e[c+1].qe());G(Cb);if(a.length)for(c=0,d=P.length;c<d;c++)e=P[c],Wb(a,e.tag)&&Cb.push(e);else Q&&!Q.mi()&&(G(Cb),Cb[0]=Q);c=0;for(d=Cb.length;c<d;c++)Cb[c].hB(h);Bb&&hb===a&&(Bb.disconnect(),Bb.connect(h))}function z(){}function F(){}var B=rd.prototype;B.Xa=function(a){this.pb=a;this.c=a.c};B.Xa.prototype.ra=function(){};var x=null,H=null,V="",M="",N=0,D=null,K=[],P=[],Q=null,L=!1,O=0,S=!1,R=1,I=0,T=0,ba=!1,Ka=1,aa=1,Ra=10,Aa=1E4,Ab=1,
Bb=null,hb="",sb=!1,pa=[],ub=!1,ea={},Ed="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");l.prototype.Ie=function(a){this.Ba.disconnect();this.Ba.connect(a);this.za.disconnect();this.za.connect(a)};l.prototype.remove=function(){this.ab.disconnect();this.kc.disconnect();this.Ba.disconnect();this.za.disconnect()};l.prototype.qe=function(){return this.ab};g.prototype.Ie=function(a){this.Ba.disconnect();this.Ba.connect(a);this.za.disconnect();this.za.connect(a)};g.prototype.remove=
function(){this.ab.disconnect();this.jl.disconnect();this.Le.disconnect();this.Jm.disconnect();this.Ba.disconnect();this.za.disconnect()};g.prototype.qe=function(){return this.ab};m.prototype.Ie=function(a){this.Ba.disconnect();this.Ba.connect(a);this.za.disconnect();this.za.connect(a)};m.prototype.remove=function(){this.ab.disconnect();this.Vh.disconnect();this.Ba.disconnect();this.za.disconnect()};m.prototype.qe=function(){return this.ab};h.prototype.Ie=function(a){this.za.disconnect();this.za.connect(a);
this.Ba.disconnect();this.Ba.connect(a)};h.prototype.remove=function(){this.ab.disconnect();this.Le.disconnect();this.Mc.disconnect();this.ie.disconnect();this.za.disconnect();this.Ba.disconnect();this.Tm.disconnect()};h.prototype.qe=function(){return this.ab};n.prototype.Ie=function(a){this.za.disconnect();this.za.connect(a);this.Ba.disconnect();this.Ba.connect(a)};n.prototype.remove=function(){this.ab.disconnect();this.kc.disconnect();this.Mc.disconnect();this.ie.disconnect();this.za.disconnect();
this.Ba.disconnect()};n.prototype.qe=function(){return this.ab};q.prototype.Ie=function(a){this.jb.disconnect();this.jb.connect(a)};q.prototype.remove=function(){this.jb.disconnect()};q.prototype.qe=function(){return this.jb};p.prototype.Ie=function(a){this.jb.disconnect();this.jb.connect(a)};p.prototype.remove=function(){this.Mc.disconnect();this.ie.disconnect();this.jb.disconnect()};p.prototype.qe=function(){return this.jb};r.prototype.Ie=function(a){this.Ba.disconnect();this.Ba.connect(a);this.za.disconnect();
this.za.connect(a)};r.prototype.remove=function(){this.Mc.disconnect();this.xl.disconnect();this.ab.disconnect();this.Ba.disconnect();this.za.disconnect()};r.prototype.qe=function(){return this.ab};t.prototype.wB=function(a,b){.01>a&&(a=.01);this.Pn.gain.value=a;this.On.gain.value=Math.pow(1/a,.6)*b};t.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};t.prototype.zz=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),
e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.Hm[32768+f]=e,this.Hm[32768-f-1]=-e};t.prototype.Ie=function(a){this.Ba.disconnect();this.Ba.connect(a);this.za.disconnect();this.za.connect(a)};t.prototype.remove=function(){this.ab.disconnect();this.Pn.disconnect();this.zo.disconnect();this.On.disconnect();this.Ba.disconnect();this.za.disconnect()};t.prototype.qe=function(){return this.ab};u.prototype.Ie=function(a){this.jb.disconnect();this.jb.connect(a)};u.prototype.remove=function(){this.jb.disconnect()};
u.prototype.qe=function(){return this.jb};v.prototype.ec=function(){this.jb.getFloatFrequencyData(this.xz);this.jb.getByteTimeDomainData(this.lv);for(var b=this.jb.fftSize,c=0,d=this.pl=0,e=0;c<b;c++)e=(this.lv[c]-128)/128,0>e&&(e=-e),this.pl<e&&(this.pl=e),d+=e*e;this.pl=a(this.pl);a(Math.sqrt(d/b))};v.prototype.Ie=function(a){this.jb.disconnect();this.jb.connect(a)};v.prototype.remove=function(){this.jb.disconnect()};v.prototype.qe=function(){return this.jb};A.prototype.yl=function(a){this.rb=a};
A.prototype.gn=function(){return!!this.rb};A.prototype.ec=function(){};var Kb=!1;C.prototype.iB=function(){var a,b,c,d;c=a=0;for(b=P.length;a<b;++a)d=P[a],P[c]=d,d.buffer===this?d.stop():++c;P.length=c;this.jg=this.nb=null};C.prototype.Cs=function(){if(!this.nb&&this.jg){var a=this;if(D.decodeAudioData)D.decodeAudioData(this.jg,function(b){a.nb=b;a.jg=null;var c,d,e;if(la(a.Ln)||S)la(a.Dm)||(c=a.Dm.Vh,c.normalize=a.hu,c.buffer=b);else if(a.Hj.length){c=0;for(d=a.Hj.length;c<d;c++){b=a.Hj[c];e=new w(a,
b.xv);e.hr(!0);if("undefined"!==typeof b.ju&&(b.rb=x.ii(b.ju),!b.rb))continue;if(b.rb){var f=eb(b.rb.x,b.rb.y,-b.rb.V.Zc(),I,T,!0),h=eb(b.rb.x,b.rb.y,-b.rb.V.Zc(),I,T,!1);e.gr(f,h,Pa(b.rb.M-b.rb.V.Zc()),b.Jp,b.yq,b.Bq);e.yl(b.rb)}else e.gr(b.x,b.y,b.R,b.Jp,b.yq,b.Bq);e.play(a.qq,a.Er,a.Xn);a.Kn&&e.pause();P.push(e)}G(a.Hj)}else e=new w(a,a.Ln||""),e.play(a.qq,a.Er,a.Xn),a.Kn&&e.pause(),P.push(e)},function(){a.Rm=!0});else if(this.nb=D.createBuffer(this.jg,!1),this.jg=null,la(this.Ln)||S)la(this.Dm)||
(b=this.Dm.Vh,b.normalize=this.hu,b.buffer=this.nb);else{var b=new w(this,this.Ln);b.play(this.qq,this.Er,this.Xn);this.Kn&&b.pause();P.push(b)}}};C.prototype.lt=function(){switch(this.Wa){case 0:var a=4<=this.nb.readyState;a&&(this.Gr=!0);return a||this.Gr;case 1:return!!this.jg||!!this.nb;case 2:return!0;case 3:return!0}return!1};C.prototype.sA=function(){switch(this.Wa){case 0:return this.lt();case 1:return!!this.nb;case 2:return!0;case 3:return!0}return!1};C.prototype.hA=function(){switch(this.Wa){case 0:return!!this.nb.error;
case 1:return this.Rm}return!1};w.prototype.mi=function(){switch(this.Wa){case 0:return this.U.ended;case 1:return 1===this.buffer.Wa?!this.Mf&&!this.Ub&&this.U.loop||this.be?!1:this.kj:this.U.ended;case 2:return this.kj;case 3:!0}return!0};w.prototype.Vx=function(){return this.Mf||this.Ub?!0:this.mi()};w.prototype.hr=function(a){1===N&&(!this.Rf&&a?this.xc&&(this.oc||(this.oc=D.createPanner(),this.oc.panningModel="number"===typeof this.oc.panningModel?Ka:["equalpower","HRTF","soundfield"][Ka],this.oc.distanceModel=
"number"===typeof this.oc.distanceModel?aa:["linear","inverse","exponential"][aa],this.oc.refDistance=Ra,this.oc.maxDistance=Aa,this.oc.rolloffFactor=Ab),this.xc.disconnect(),this.xc.connect(this.oc),this.oc.connect(c(this.tag)),this.Rf=!0):this.Rf&&!a&&this.xc&&(this.oc.disconnect(),this.xc.disconnect(),this.xc.connect(c(this.tag)),this.Rf=!1))};w.prototype.gr=function(a,b,c,d,e,f){this.Rf&&1===N&&(this.oc.setPosition(a,b,0),this.oc.setOrientation(Math.cos(J(c)),Math.sin(J(c)),0),this.oc.coneInnerAngle=
d,this.oc.coneOuterAngle=e,this.oc.coneOuterGain=f,this.xu=a,this.yu=b,this.tu=c,this.uu=d,this.vu=e,this.wu=f)};w.prototype.yl=function(a){this.Rf&&1===N&&(this.$c||(this.$c=new A),this.$c.yl(a))};w.prototype.ec=function(a){if(this.Rf&&1===N&&this.$c&&this.$c.gn()&&this.Pk()){this.$c.ec(a);a=this.$c.rb;var b=eb(a.x,a.y,-a.V.Zc(),I,T,!0),c=eb(a.x,a.y,-a.V.Zc(),I,T,!1);this.oc.setPosition(b,c,0);b=0;"undefined"!==typeof this.$c.rb.M&&(b=a.M-a.V.Zc(),this.oc.setOrientation(Math.cos(b),Math.sin(b),0))}};
w.prototype.play=function(a,b,c,d){var e=this.U;this.Qf=a;this.volume=b;c=c||0;d=d||0;switch(this.Wa){case 0:1!==e.playbackRate&&(e.playbackRate=1);e.volume!==b*R&&(e.volume=b*R);e.loop!==a&&(e.loop=a);e.muted&&(e.muted=!1);if(e.currentTime!==c)try{e.currentTime=c}catch(h){}if(this.Re&&sb&&!x.Ac)pa.push(this);else try{this.U.play()}catch(g){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",g)}break;case 1:this.muted=!1;this.Dj=1;if(1===this.buffer.Wa)this.xc.gain.value=
b*R,this.Mf||(this.U=D.createBufferSource(),this.U.buffer=this.buffer.nb,this.U.connect(this.xc)),this.U.onended=this.Hq,this.fm=this.U,this.U.loop=a,this.kj=!1,0===c?f(this.U,d):k(this.U,c,this.hi(),d);else{1!==e.playbackRate&&(e.playbackRate=1);e.loop!==a&&(e.loop=a);e.volume=b*R;if(e.currentTime!==c)try{e.currentTime=c}catch(m){}this.Re&&sb&&!x.Ac?pa.push(this):e.play()}break;case 2:(!this.Mf&&this.Ub||0!==c)&&e.seekTo(c);e.play();this.kj=!1;break;case 3:x.od?AppMobi.context.playSound(this.src,
a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.mj?x.Jc.Fa:x.Rg.Fa)-c;this.be=this.Ub=this.Mf=!1};w.prototype.stop=function(){switch(this.Wa){case 0:this.U.paused||this.U.pause();break;case 1:1===this.buffer.Wa?e(this.U):this.U.paused||this.U.pause();break;case 2:this.U.stop();break;case 3:x.od&&AppMobi.context.stopSound(this.src)}this.Ub=!0;this.be=!1};w.prototype.pause=function(){if(!(this.Mf||this.Ub||this.mi()||this.be)){switch(this.Wa){case 0:this.U.paused||this.U.pause();
break;case 1:1===this.buffer.Wa?(this.Rd=this.Bp(!0),this.Qf&&(this.Rd=this.Rd%this.hi()),this.be=!0,e(this.U)):this.U.paused||this.U.pause();break;case 2:this.U.pause();break;case 3:x.od&&AppMobi.context.stopSound(this.src)}this.be=!0}};w.prototype.nB=function(){if(!(this.Mf||this.Ub||this.mi())&&this.be){switch(this.Wa){case 0:this.U.play();break;case 1:1===this.buffer.Wa?(this.U=D.createBufferSource(),this.U.buffer=this.buffer.nb,this.U.connect(this.xc),this.U.onended=this.Hq,this.fm=this.U,this.U.loop=
this.Qf,this.xc.gain.value=R*this.volume*this.Dj,this.vo(),this.startTime=(this.mj?x.Jc.Fa:x.Rg.Fa)-this.Rd/(this.playbackRate||.001),k(this.U,this.Rd,this.hi())):this.U.play();break;case 2:this.U.play();break;case 3:x.od&&AppMobi.context.resumeSound(this.src)}this.be=!1}};w.prototype.seek=function(a){if(!(this.Mf||this.Ub||this.mi()))switch(this.Wa){case 0:try{this.U.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.Wa)this.be?this.Rd=a:(this.pause(),this.Rd=a,this.nB());else try{this.U.currentTime=
a}catch(c){}break;case 3:x.od&&AppMobi.context.seekSound(this.src,a)}};w.prototype.hB=function(a){1===this.Wa&&(this.Rf?(this.oc.disconnect(),this.oc.connect(a)):(this.xc.disconnect(),this.xc.connect(a)))};w.prototype.hi=function(){var a=0;switch(this.Wa){case 0:"undefined"!==typeof this.U.duration&&(a=this.U.duration);break;case 1:a=this.buffer.nb.duration;break;case 2:a=this.U.getDuration();break;case 3:x.od&&(a=AppMobi.context.getDurationSound(this.src))}return a};w.prototype.Bp=function(a){var b=
this.hi(),c=0;switch(this.Wa){case 0:"undefined"!==typeof this.U.currentTime&&(c=this.U.currentTime);break;case 1:if(1===this.buffer.Wa){if(this.be)return this.Rd;c=(this.mj?x.Jc.Fa:x.Rg.Fa)-this.startTime}else"undefined"!==typeof this.U.currentTime&&(c=this.U.currentTime);break;case 3:x.od&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.Qf&&c>b&&(c=b);return c};w.prototype.Pk=function(){return!this.be&&!this.Mf&&!this.Ub&&!this.mi()};w.prototype.BB=function(){return!this.Mf&&
!this.Ub&&!this.mi()};w.prototype.PB=function(){var a=this.volume*R;isFinite(a)||(a=0);switch(this.Wa){case 0:"undefined"!==typeof this.U.volume&&this.U.volume!==a&&(this.U.volume=a);break;case 1:1===this.buffer.Wa?this.xc.gain.value=a*this.Dj:"undefined"!==typeof this.U.volume&&this.U.volume!==a&&(this.U.volume=a)}};w.prototype.Nm=function(a){switch(this.Wa){case 0:this.U.muted!==!!a&&(this.U.muted=!!a);break;case 1:1===this.buffer.Wa?(this.Dj=a?0:1,this.xc.gain.value=R*this.volume*this.Dj):this.U.muted!==
!!a&&(this.U.muted=!!a)}};w.prototype.xB=function(){this.pj=!0;this.Nm(this.pj||this.Tk)};w.prototype.cv=function(a){this.Tk=!!a;this.Nm(this.pj||this.Tk)};w.prototype.vo=function(){var a=this.playbackRate;this.mj&&(a*=x.Jh);switch(this.Wa){case 0:this.U.playbackRate!==a&&(this.U.playbackRate=a);break;case 1:1===this.buffer.Wa?this.U.playbackRate.value!==a&&(this.U.playbackRate.value=a):this.U.playbackRate!==a&&(this.U.playbackRate=a)}};w.prototype.zB=function(a){switch(this.Wa){case 0:a?this.Pk()?
(this.Ae=!0,this.U.pause()):this.Ae=!1:this.Ae&&(this.U.play(),this.Ae=!1);break;case 1:a?this.Pk()?(this.Ae=!0,1===this.buffer.Wa?(this.Rd=this.Bp(!0),this.Qf&&(this.Rd=this.Rd%this.hi()),e(this.U)):this.U.pause()):this.Ae=!1:this.Ae&&(1===this.buffer.Wa?(this.U=D.createBufferSource(),this.U.buffer=this.buffer.nb,this.U.connect(this.xc),this.U.onended=this.Hq,this.fm=this.U,this.U.loop=this.Qf,this.xc.gain.value=R*this.volume*this.Dj,this.vo(),this.startTime=(this.mj?x.Jc.Fa:x.Rg.Fa)-this.Rd/(this.playbackRate||
.001),k(this.U,this.Rd,this.hi())):this.U.play(),this.Ae=!1);break;case 2:a?this.Pk()?(this.U.pause(),this.Ae=!0):this.Ae=!1:this.Ae&&(this.Ae=!1,this.U.play())}};B.La=function(a){function b(){if(!ba&&D.createBuffer){var a=D.createBuffer(1,220,22050),c=D.createBufferSource();c.buffer=a;c.connect(D.destination);f(c)}}this.type=a;x=this.c=a.c;H=this;this.ee=null;this.$k=-600;this.c.Sk&&(ub=!0);!(this.c.sj||this.c.jn&&(this.c.Jk||this.c.kn))||this.c.Kk||this.c.Cb||this.c.Rp||ub||(sb=!0);D=null;"undefined"!==
typeof AudioContext?(N=1,D=new AudioContext):"undefined"!==typeof webkitAudioContext&&(N=1,D=new webkitAudioContext);this.c.sj&&D&&(D.close&&D.close(),"undefined"!==typeof AudioContext?D=new AudioContext:"undefined"!==typeof webkitAudioContext&&(D=new webkitAudioContext));sb?document.addEventListener("touchend",function(){!Kb&&D&&(b(),Kb=!0);var a,c,d;if(sb){if(!S)for(a=0,c=pa.length;a<c;++a)d=pa[a],d.Ub||d.be||d.U.play();G(pa)}},!0):ub&&document.addEventListener("touchend",function(){!Kb&&D&&(b(),
Kb=!0)},!0);1!==N&&(this.c.ae&&"undefined"!==typeof window.Media?N=2:this.c.kt&&(N=3));2===N&&(M=location.href,a=M.lastIndexOf("/"),-1<a&&(M=M.substr(0,a+1)),M=M.replace("file://",""));if(this.c.tA&&this.c.uA&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.c.Xg(this);else{if(this.c.od)L=this.c.jn;else try{L=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(c){L=!1}this.c.Kl(this)}};
var Fa=B.La.prototype;Fa.ra=function(){this.c.$i=this;O=this.W[0];this.Ig=this.W[1];this.VA=0!==this.W[2];this.fu=0;Ka=this.W[3];aa=this.W[4];this.$k=-this.W[5];Ra=this.W[6];Aa=this.W[7];Ab=this.W[8];this.ee=new A;var a=this.c.ya||this.c.width,b=this.c.xa||this.c.height;1===N&&(D.listener.setPosition(a/2,b/2,this.$k),D.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){Bb&&Bb.disconnect();hb=b.toLowerCase();Bb=D.createMediaStreamSource(a);Bb.connect(c(hb))});this.c.js(function(a){H.QA(a)});
var d=this;this.c.gs(function(a){d.Cq(a)})};Fa.Cq=function(a){var b,c,d;b=0;for(c=P.length;b<c;b++)d=P[b],d.$c&&d.$c.rb===a&&(d.$c.rb=null,d.Rf&&d.Pk()&&d.Qf&&d.stop());this.ee.rb===a&&(this.ee.rb=null)};Fa.Nc=function(){var a={silent:S,masterVolume:R,listenerZ:this.$k,listenerUid:this.ee.gn()?this.ee.rb.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,h,g;c=0;for(d=P.length;c<d;c++)e=P[c],!e.BB()||3===this.Ig||e.Re&&1===this.Ig||!e.Re&&2===this.Ig||(f=e.Bp(),e.Qf&&(f=f%e.hi()),f={tag:e.tag,buffersrc:e.buffer.src,
is_music:e.Re,playbackTime:f,volume:e.volume,looping:e.Qf,muted:e.pj,playbackRate:e.playbackRate,paused:e.be,resume_position:e.Rd},e.Rf&&(f.pan={},g=f.pan,e.$c&&e.$c.gn()?g.objUid=e.$c.rb.uid:(g.x=e.xu,g.y=e.yu,g.a=e.tu),g.ia=e.uu,g.oa=e.vu,g.og=e.wu),b.push(f));b=a.effects;for(h in ea)if(ea.hasOwnProperty(h)){e=[];c=0;for(d=ea[h].length;c<d;c++)e.push({type:ea[h][c].type,params:ea[h][c].ob});b[h]=e}return a};var Db=[];Fa.qd=function(a){var b=a.silent;R=a.masterVolume;this.$k=a.listenerZ;this.ee.yl(null);
var c=a.listenerUid;-1!==c&&(this.ee.wn=c,Db.push(this.ee));var c=a.playing,d,e,f,k,w,C,F,B,x,z,D;if(3!==this.Ig)for(d=0,e=P.length;d<e;d++)x=P[d],x.Re&&1===this.Ig||(x.Re||2!==this.Ig)&&x.stop();for(w in ea)if(ea.hasOwnProperty(w))for(d=0,e=ea[w].length;d<e;d++)ea[w][d].remove();qb(ea);for(w in a.effects)if(a.effects.hasOwnProperty(w))for(C=a.effects[w],d=0,e=C.length;d<e;d++)switch(f=C[d].type,z=C[d].params,f){case "filter":E(w,new l(z[0],z[1],z[2],z[3],z[4],z[5]));break;case "delay":E(w,new g(z[0],
z[1],z[2]));break;case "convolve":f=z[2];x=this.Zm(f,!1);x.nb?f=new m(x.nb,z[0],z[1],f):(f=new m(null,z[0],z[1],f),x.hu=z[0],x.Dm=f);E(w,f);break;case "flanger":E(w,new h(z[0],z[1],z[2],z[3],z[4]));break;case "phaser":E(w,new n(z[0],z[1],z[2],z[3],z[4],z[5]));break;case "gain":E(w,new q(z[0]));break;case "tremolo":E(w,new p(z[0],z[1]));break;case "ringmod":E(w,new r(z[0],z[1]));break;case "distortion":E(w,new t(z[0],z[1],z[2],z[3],z[4]));break;case "compressor":E(w,new u(z[0],z[1],z[2],z[3],z[4]));
break;case "analyser":E(w,new v(z[0],z[1]))}d=0;for(e=c.length;d<e;d++)3===this.Ig||(a=c[d],f=a.buffersrc,k=a.is_music,w=a.tag,C=a.playbackTime,F=a.looping,B=a.volume,D=(z=a.pan)&&z.hasOwnProperty("objUid")?z.objUid:-1,k&&1===this.Ig)||!k&&2===this.Ig||((x=this.Ss(f,w,k,F,B))?(x.Rd=a.resume_position,x.hr(!!z),x.play(F,B,C),x.vo(),x.PB(),x.Nm(x.pj||x.Tk),a.paused&&x.pause(),a.muted&&x.xB(),x.Nm(x.pj||x.Tk),z&&(-1!==D?(x.$c=x.$c||new A,x.$c.wn=D,Db.push(x.$c)):x.gr(z.x,z.y,z.a,z.ia,z.oa,z.og))):(x=
this.Zm(f,k),x.Xn=C,x.Kn=a.paused,z&&(-1!==D?x.Hj.push({ju:D,Jp:z.ia,yq:z.oa,Bq:z.og,xv:w}):x.Hj.push({x:z.x,y:z.y,R:z.a,Jp:z.ia,yq:z.oa,Bq:z.og,xv:w}))));if(b&&!S){d=0;for(e=P.length;d<e;d++)P[d].cv(!0);S=!0}else if(!b&&S){d=0;for(e=P.length;d<e;d++)P[d].cv(!1);S=!1}};Fa.gg=function(){var a,b,c,d;a=0;for(b=Db.length;a<b;a++)c=Db[a],d=this.c.ii(c.wn),c.yl(d),c.wn=-1,d&&(I=d.x,T=d.y);G(Db)};Fa.QA=function(a){if(!this.VA){!a&&D&&D.resume&&(D.resume(),ba=!1);var b,c;b=0;for(c=P.length;b<c;b++)P[b].zB(a);
a&&D&&D.suspend&&(D.suspend(),ba=!0)}};Fa.ec=function(){var a=this.c.Da,b,c,d;b=0;for(c=P.length;b<c;b++)d=P[b],d.ec(a),0!==O&&d.vo();var e,f;for(e in ea)if(ea.hasOwnProperty(e))for(d=ea[e],b=0,c=d.length;b<c;b++)f=d[b],f.ec&&f.ec();1===N&&this.ee.gn()&&(this.ee.ec(a),I=this.ee.rb.x,T=this.ee.rb.y,D.listener.setPosition(this.ee.rb.x,this.ee.rb.y,this.$k))};var Lb=[];Fa.yB=function(a){var b,c,d,e,f,h=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&
L||!f&&!L)Lb.push({filename:e,size:d,rb:null}),h+=d;return h};Fa.EB=function(){var a,b,c,d;a=0;for(b=Lb.length;a<b;++a)c=Lb[a],d=this.c.qp+c.filename,c.rb=this.Zm(d,!1)};Fa.Mz=function(){var a=0,b,c,d;b=0;for(c=Lb.length;b<c;++b)d=Lb[b],d.rb.sA()||d.rb.hA()||this.c.Cb||this.c.kn?a+=d.size:d.rb.lt()&&(a+=Math.floor(d.size/2));return a};Fa.jB=function(){var a,b,c,d;c=a=0;for(b=K.length;a<b;++a)d=K[a],K[c]=d,d.Re?d.iB():++c;K.length=c};Fa.Zm=function(a,b){var c,d,e,f=null;c=0;for(d=K.length;c<d;c++)if(e=
K[c],e.src===a){f=e;break}f||(ub&&b&&this.jB(),f=new C(a,b),K.push(f));return f};Fa.Ss=function(a,b,c,d,e){var f,h,g;f=0;for(h=P.length;f<h;f++)if(g=P[f],g.src===a&&(g.Vx()||c))return g.tag=b,g;a=this.Zm(a,c);if(!a.nb)return"<preload>"!==b&&(a.Ln=b,a.qq=d,a.Er=e),null;g=new w(a,b);P.push(g);return g};var Cb=[];z.prototype.cm=function(a){return Wb(V,a)};B.K=new z;F.prototype.Play=function(a,b,c,d){!S&&(c=Math.pow(10,c/20),isFinite(c)||(c=0),0>c&&(c=0),1<c&&(c=1),Q=this.Ss(this.c.qp+a[0]+(L?".ogg":
".m4a"),d,a[1],0!==b,c))&&(Q.hr(!1),Q.play(0!==b,c,0,this.fu),this.fu=0)};B.pa=new F;B.Ja=new function(){}})();function sd(a){this.c=a}
(function(){function a(){}var c=sd.prototype;c.Xa=function(a){this.pb=a;this.c=a.c};c.Xa.prototype.ra=function(){};c.La=function(a){this.type=a;this.c=a.c};c.La.prototype.ra=function(){var a=this;window.addEventListener("resize",function(){a.c.trigger(sd.prototype.K.Tw,a)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.c.trigger(sd.prototype.K.Pw,a)}),window.addEventListener("offline",function(){a.c.trigger(sd.prototype.K.Ow,a)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){a.c.yj=1;a.c.trigger(sd.prototype.K.Xr,a)}),window.applicationCache.addEventListener("progress",function(c){a.c.yj=c.loaded/c.total||0}));this.c.od||(document.addEventListener("appMobi.device.update.available",function(){a.c.trigger(sd.prototype.K.Xr,a)}),document.addEventListener("backbutton",function(){a.c.trigger(sd.prototype.K.am,a)}),document.addEventListener("menubutton",function(){a.c.trigger(sd.prototype.K.Qr,a)}),document.addEventListener("searchbutton",
function(){a.c.trigger(sd.prototype.K.Uw,a)}),document.addEventListener("tizenhwkey",function(c){var f;switch(c.keyName){case "back":f=a.c.trigger(sd.prototype.K.am,a);!f&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(f=a.c.trigger(sd.prototype.K.Qr,a))||c.preventDefault()}}));this.c.Xp&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(c){a.c.trigger(sd.prototype.K.am,a)&&(c.en=
!0)}):this.c.Wp&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.c.trigger(sd.prototype.K.am,a)});this.c.js(function(c){c?a.c.trigger(sd.prototype.K.Qw,a):a.c.trigger(sd.prototype.K.Rw,a)})};a.prototype.Pw=function(){return!0};a.prototype.Ow=function(){return!0};a.prototype.Xr=function(){return!0};a.prototype.Rw=function(){return!0};a.prototype.Qw=function(){return!0};a.prototype.Tw=function(){return!0};a.prototype.am=function(){return!0};a.prototype.Qr=function(){return!0};
a.prototype.Uw=function(){return!0};c.K=new a;c.pa=new function(){};c.Ja=new function(){}})();function td(a){this.c=a}
(function(){function a(){}function c(){}var b=td.prototype;b.Xa=function(a){this.pb=a;this.c=a.c};b.Xa.prototype.ra=function(){};b.La=function(a){this.type=a;this.c=a.c};var d=b.La.prototype;d.ra=function(){this.c.Cb?ja("[Construct 2] Button plugin not supported on this platform - the object will not be created"):(this.lj=1===this.W[0],this.Pe=document.createElement("input"),this.sb=this.lj?document.createElement("label"):this.Pe,this.Xk=null,this.Pe.type=this.lj?"checkbox":"button",this.Pe.id=this.W[6],
jQuery(this.sb).appendTo(this.c.vm?this.c.vm:"body"),this.lj?(jQuery(this.Pe).appendTo(this.sb),this.Xk=document.createTextNode(this.W[1]),jQuery(this.sb).append(this.Xk),this.Pe.checked=0!==this.W[7],jQuery(this.sb).css("font-family","sans-serif"),jQuery(this.sb).css("display","inline-block"),jQuery(this.sb).css("color","black")):this.Pe.value=this.W[1],this.sb.title=this.W[2],this.Pe.disabled=0===this.W[4],this.Ox=0!==this.W[5],this.$h=!1,0===this.W[3]&&(jQuery(this.sb).hide(),this.visible=!1,this.$h=
!0),this.Pe.onclick=function(a){return function(b){b.stopPropagation();a.c.Ac=!0;a.c.trigger(td.prototype.K.Nr,a);a.c.Ac=!1}}(this),this.sb.addEventListener("touchstart",function(a){a.stopPropagation()},!1),this.sb.addEventListener("touchmove",function(a){a.stopPropagation()},!1),this.sb.addEventListener("touchend",function(a){a.stopPropagation()},!1),jQuery(this.sb).mousedown(function(a){a.stopPropagation()}),jQuery(this.sb).mouseup(function(a){a.stopPropagation()}),jQuery(this.sb).keydown(function(a){a.stopPropagation()}),
jQuery(this.sb).keyup(function(a){a.stopPropagation()}),this.Ct=this.Dt=this.tt=this.zt=this.Bt=this.xt=0,this.Lv(!0),this.c.Kl(this))};d.Nc=function(){var a={tooltip:this.sb.title,disabled:!!this.Pe.disabled};this.lj?(a.checked=!!this.Pe.checked,a.text=this.Xk.nodeValue):a.text=this.sb.value;return a};d.qd=function(a){this.sb.title=a.tooltip;this.Pe.disabled=a.disabled;this.lj?(this.Pe.checked=a.checked,this.Xk.nodeValue=a.text):this.sb.value=a.text};d.Ii=function(){this.c.Cb||(jQuery(this.sb).remove(),
this.sb=null)};d.ec=function(){this.Lv()};d.Lv=function(a){if(!this.c.Cb){var b=this.V.Bc(this.x,this.y,!0),c=this.V.Bc(this.x,this.y,!1),d=this.V.Bc(this.x+this.width,this.y+this.height,!0),g=this.V.Bc(this.x+this.width,this.y+this.height,!1),m=this.c.width/this.c.devicePixelRatio,h=this.c.height/this.c.devicePixelRatio;!this.visible||!this.V.visible||0>=d||0>=g||b>=m||c>=h?(this.$h||jQuery(this.sb).hide(),this.$h=!0):(1>b&&(b=1),1>c&&(c=1),d>=m&&(d=m-1),g>=h&&(g=h-1),m=window.innerWidth,h=window.innerHeight,
a||this.xt!==b||this.Bt!==c||this.zt!==d||this.tt!==g||this.Dt!==m||this.Ct!==h?(this.xt=b,this.Bt=c,this.zt=d,this.tt=g,this.Dt=m,this.Ct=h,this.$h&&(jQuery(this.sb).show(),this.$h=!1),a=Math.round(b)+jQuery(this.c.canvas).offset().left,m=Math.round(c)+jQuery(this.c.canvas).offset().top,jQuery(this.sb).css("position","absolute"),jQuery(this.sb).offset({left:a,top:m}),jQuery(this.sb).width(Math.round(d-b)),jQuery(this.sb).height(Math.round(g-c)),this.Ox&&jQuery(this.sb).css("font-size",this.V.te(!0)/
this.c.devicePixelRatio-.2+"em")):this.$h&&(jQuery(this.sb).show(),this.$h=!1))}};d.Jf=function(){};d.Kd=function(){};a.prototype.Nr=function(){return!0};b.K=new a;c.prototype.$r=function(a){this.c.Cb||(this.lj?this.Xk.nodeValue=a:this.sb.value=a)};c.prototype.kx=function(a){this.c.Cb||(this.visible=0!==a)};b.pa=new c;b.Ja=new function(){}})();function pd(a){this.c=a}
(function(){function a(){this.name="";this.wl=0;this.ob=[]}function c(){l++;l===e.length&&e.push(new a);return e[l]}function b(){}function d(){}function f(){}var k=pd.prototype;k.Xa=function(a){this.pb=a;this.c=a.c};k.Xa.prototype.ra=function(){};k.La=function(a){this.type=a;this.c=a.c};var e=[],l=-1;k.La.prototype.ra=function(){var a=this;window.c2_callFunction=function(b,d){var e,f,k,r=c();r.name=b.toLowerCase();r.wl=0;if(d)for(r.ob.length=d.length,e=0,f=d.length;e<f;++e)k=d[e],r.ob[e]="number"===
typeof k||"string"===typeof k?k:"boolean"===typeof k?k?1:0:0;else G(r.ob);a.c.trigger(pd.prototype.K.dm,a,r.name);l--;return r.wl}};b.prototype.dm=function(a){var b=0>l?null:e[l];return b?Wb(a,b.name):!1};k.K=new b;d.prototype.CallFunction=function(a,b){var d=c();d.name=a.toLowerCase();d.wl=0;Ia(d.ob,b);this.c.trigger(pd.prototype.K.dm,this,d.name);l--};k.pa=new d;f.prototype.Zw=function(a,b){b=wa(b);var c=0>l?null:e[l];c?0<=b&&b<c.ob.length?a.co(c.ob[b]):a.Ma(0):a.Ma(0)};f.prototype.Vv=function(a,
b){var d=c();d.name=b.toLowerCase();d.wl=0;G(d.ob);var e,f;e=2;for(f=arguments.length;e<f;e++)d.ob.push(arguments[e]);this.c.trigger(pd.prototype.K.dm,this,d.name);l--;a.co(d.wl)};k.Ja=new f})();function ud(a){this.c=a}
(function(){function a(){}function c(){}var b=ud.prototype;b.Xa=function(a){this.pb=a;this.c=a.c};b.Xa.prototype.ra=function(){};b.La=function(a){this.type=a;this.c=a.c;this.bj=Array(4);this.Bv=this.qo=this.Ri=this.Dh=this.Ch=0;this.en=!1};var d=b.La.prototype;d.ra=function(){var a=this;if(!this.c.Cb){jQuery(document).mousemove(function(b){a.Eq(b)});jQuery(document).mousedown(function(b){a.Dq(b)});jQuery(document).mouseup(function(b){a.Fq(b)});jQuery(document).dblclick(function(b){a.PA(b)});var b=
function(b){a.RA(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var f={left:0,top:0};d.Eq=function(a){var b=this.c.Cb?f:jQuery(this.c.canvas).offset();this.Ch=a.pageX-b.left;this.Dh=a.pageY-b.top};d.cu=function(){return 0<this.c.xd?!0:0<=this.Ch&&0<=this.Dh&&this.Ch<this.c.width&&this.Dh<this.c.height};d.Dq=function(a){this.cu()&&(this.bj[a.which]=!0,this.c.Ac=!0,this.c.trigger(ud.prototype.K.Dw,this),this.Ri=a.which-1,this.qo=0,this.c.trigger(ud.prototype.K.Mr,
this),this.c.trigger(ud.prototype.K.Tr,this),this.c.Ac=!1)};d.Fq=function(a){this.bj[a.which]&&(this.c.cn&&!this.c.qi&&a.preventDefault(),this.c.cn=!0,this.bj[a.which]=!1,this.c.Ac=!0,this.Ri=a.which-1,this.c.trigger(ud.prototype.K.Ur,this),this.c.Ac=!1)};d.PA=function(a){this.cu()&&(a.preventDefault(),this.c.Ac=!0,this.Ri=a.which-1,this.qo=1,this.c.trigger(ud.prototype.K.Mr,this),this.c.trigger(ud.prototype.K.Tr,this),this.c.Ac=!1)};d.RA=function(a){this.Bv=0>(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0)?0:1;this.en=!1;this.c.Ac=!0;this.c.trigger(ud.prototype.K.Yw,this);this.c.Ac=!1;this.en&&Xb(a)&&a.preventDefault()};d.Gj=function(){var a,b;a=0;for(b=this.bj.length;a<b;++a)this.bj[a]&&(this.bj[a]=!1,this.Ri=a-1,this.c.trigger(ud.prototype.K.Ur,this))};a.prototype.Mr=function(a,b){return a===this.Ri&&b===this.qo};a.prototype.Dw=function(){return!0};a.prototype.Ur=function(a){return a===this.Ri};a.prototype.Tr=function(a,b,c){return a!==this.Ri||b!==this.qo?!1:this.c.Hl(c,this.Ch,this.Dh)};
a.prototype.Yw=function(a){this.en=!0;return a===this.Bv};b.K=new a;b.pa=new function(){};c.prototype.Mo=function(a,b){var c,d,f,h,n;la(b)?(c=this.c.ug(0),d=c.scale,f=c.ud,h=c.Nd,n=c.M,c.scale=1,c.ud=1,c.Nd=1,c.M=0,a.ga(c.Xb(this.Ch,this.Dh,!0)),c.scale=d,c.ud=f,c.Nd=h,c.M=n):(c=ma(b)?this.c.ug(b):this.c.Bk(b))?a.ga(c.Xb(this.Ch,this.Dh,!0)):a.ga(0)};c.prototype.No=function(a,b){var c,d,f,h,n;la(b)?(c=this.c.ug(0),d=c.scale,f=c.ud,h=c.Od,n=c.M,c.scale=1,c.ud=1,c.Od=1,c.M=0,a.ga(c.Xb(this.Ch,this.Dh,
!1)),c.scale=d,c.ud=f,c.Od=h,c.M=n):(c=ma(b)?this.c.ug(b):this.c.Bk(b))?a.ga(c.Xb(this.Ch,this.Dh,!1)):a.ga(0)};b.Ja=new c})();function vd(a){this.c=a}
(function(){function a(a,b,c,e,l,g,m,h,n,q){a.save();a.fillStyle=b;b=l%c;var p=g%e;0>b&&(b+=c);0>p&&(p+=e);a.translate(b+n,p+q);a.fillRect(l-b-n,g-p-q,m,h);a.restore()}var c=vd.prototype;c.Xa=function(a){this.pb=a;this.c=a.c};var b=c.Xa.prototype;b.ra=function(){this.ta||(this.Ga=new Image,this.Ga.ys=this.or,this.c.Fr(this.Ga,this.lo),this.Ul=this.Xl=this.Wl=this.Vl=this.Xj=this.Ha=this.qs=this.Av=this.Ru=this.Ht=this.rp=null)};b.En=function(){this.ta||(this.Ul=this.Xl=this.Wl=this.Vl=this.Xj=this.Ha=
null)};b.Gn=function(){this.ta||!this.F.length||this.Ha||(this.Ha=this.c.da.of(this.Ga,!0,this.c.Gb,this.Rj))};b.to=function(){this.ta||this.F.length||!this.c.da||(this.c.da.deleteTexture(this.Ha),this.c.da.deleteTexture(this.Xj),this.c.da.deleteTexture(this.Vl),this.c.da.deleteTexture(this.Wl),this.c.da.deleteTexture(this.Xl),this.c.da.deleteTexture(this.Ul),this.Ul=this.Xl=this.Wl=this.Vl=this.Xj=this.Ha=null)};b.Zf=function(a,b,c,e){var l=document.createElement("canvas");c=c-a;e=e-b;l.width=c;
l.height=e;l.getContext("2d").drawImage(this.Ga,a,b,c,e,0,0,c,e);return l};b.cy=function(a,b,c,e){var l=this.Ga.width,g=this.Ga.height,m=l-b,h=g-e;if(this.c.da){if(!this.Xj){var n=this.c.da,q=this.c.Gb,p=this.Rj;m>a&&h>c&&(this.Xj=n.of(this.Zf(a,c,m,h),!0,q,p));0<a&&h>c&&(this.Vl=n.of(this.Zf(0,c,a,h),!0,q,p,"repeat-y"));0<b&&h>c&&(this.Wl=n.of(this.Zf(m,c,l,h),!0,q,p,"repeat-y"));0<c&&m>a&&(this.Xl=n.of(this.Zf(a,0,m,c),!0,q,p,"repeat-x"));0<e&&m>a&&(this.Ul=n.of(this.Zf(a,h,m,g),!0,q,p,"repeat-x"))}}else this.rp||
(n=this.c.Kb,m>a&&h>c&&(this.rp=n.createPattern(this.Zf(a,c,m,h),"repeat")),0<a&&h>c&&(this.Ht=n.createPattern(this.Zf(0,c,a,h),"repeat")),0<b&&h>c&&(this.Ru=n.createPattern(this.Zf(m,c,l,h),"repeat")),0<c&&m>a&&(this.Av=n.createPattern(this.Zf(a,0,m,c),"repeat")),0<e&&m>a&&(this.qs=n.createPattern(this.Zf(a,h,m,g),"repeat")))};c.La=function(a){this.type=a;this.c=a.c};b=c.La.prototype;b.ra=function(){this.lq=this.W[0];this.Yq=this.W[1];this.sr=this.W[2];this.Uo=this.W[3];this.Om=this.W[4];this.fill=
this.W[5];this.visible=0===this.W[6];this.Wu=0!==this.W[8];this.Pd?this.Ki.set(0,0,0,0):this.Ki=new za(0,0,0,0);this.c.da&&!this.type.Ha&&(this.type.Ha=this.c.da.of(this.type.Ga,!1,this.c.Gb,this.type.Rj));this.type.cy(this.lq,this.Yq,this.sr,this.Uo)};b.Jf=function(b){var c=this.type.Ga,k=this.lq,e=this.Yq,l=this.sr,g=this.Uo,m=c.width,h=c.height,n=m-e,q=h-g;b.globalAlpha=this.opacity;b.save();var p=this.x,r=this.y,t=this.width,u=this.height;this.c.pf&&(p=Math.round(p),r=Math.round(r));var v=-(this.yd*
this.width),A=-(this.zd*this.height),C=v%m,w=A%h;0>C&&(C+=m);0>w&&(w+=h);b.translate(p+C,r+w);m=v-C;A-=w;w=this.Wu?1:0;0<k&&0<l&&b.drawImage(c,0,0,k+w,l+w,m,A,k+w,l+w);0<e&&0<l&&b.drawImage(c,n-w,0,e+w,l+w,m+t-e-w,A,e+w,l+w);0<e&&0<g&&b.drawImage(c,n-w,q-w,e+w,g+w,m+t-e-w,A+u-g-w,e+w,g+w);0<k&&0<g&&b.drawImage(c,0,q-w,k+w,g+w,m,A+u-g-w,k+w,g+w);0===this.Om?(w=2===this.fill?0:w,0<k&&q>l&&a(b,this.type.Ht,k,q-l,m,A+l,k+w,u-l-g,0,0),0<e&&q>l&&a(b,this.type.Ru,e,q-l,m+t-e-w,A+l,e+w,u-l-g,w,0),0<l&&n>
k&&a(b,this.type.Av,n-k,l,m+k,A,t-k-e,l+w,0,0),0<g&&n>k&&a(b,this.type.qs,n-k,g,m+k,A+u-g-w,t-k-e,g+w,0,w)):1===this.Om&&(0<k&&q>l&&0<u-l-g&&b.drawImage(c,0,l,k,q-l,m,A+l,k,u-l-g),0<e&&q>l&&0<u-l-g&&b.drawImage(c,n,l,e,q-l,m+t-e,A+l,e,u-l-g),0<l&&n>k&&0<t-k-e&&b.drawImage(c,k,0,n-k,l,m+k,A,t-k-e,l),0<g&&n>k&&0<t-k-e&&b.drawImage(c,k,q,n-k,g,m+k,A+u-g,t-k-e,g));q>l&&n>k&&(0===this.fill?a(b,this.type.rp,n-k,q-l,m+k,A+l,t-k-e,u-l-g,0,0):1===this.fill&&0<t-k-e&&0<u-l-g&&b.drawImage(c,k,l,n-k,q-l,m+k,
A+l,t-k-e,u-l-g));b.restore()};b.qg=function(a,b,c,e,l,g,m,h,n,q){a.Sd(b);var p=this.Ki;p.left=c/b.jf;p.top=e/b.hf;p.right=(c+l)/b.jf;p.bottom=(e+g)/b.hf;a.Vf(m,h,m+n,h,m+n,h+q,m,h+q,p)};b.Ll=function(a,b,c,e,l,g,m,h){a.Sd(b);var n=this.Ki;n.left=-m/b.jf;n.top=-h/b.hf;n.right=(l-m)/b.jf;n.bottom=(g-h)/b.hf;a.Vf(c,e,c+l,e,c+l,e+g,c,e+g,n)};b.Xh=function(a){this.Kd(a)};b.Kd=function(a){var b=this.lq,c=this.Yq,e=this.sr,l=this.Uo,g=this.type.Ga.width-c,m=this.type.Ga.height-l;a.Mi(this.opacity);var h=
this.Eb,n=h.fc,h=h.gc,q=this.width,p=this.height;this.c.pf&&(n=Math.round(n),h=Math.round(h));var r=this.Wu?1:0;0<b&&0<e&&this.qg(a,this.type.Ha,0,0,b+r,e+r,n,h,b+r,e+r);0<c&&0<e&&this.qg(a,this.type.Ha,g-r,0,c+r,e+r,n+q-c-r,h,c+r,e+r);0<c&&0<l&&this.qg(a,this.type.Ha,g-r,m-r,c+r,l+r,n+q-c-r,h+p-l-r,c+r,l+r);0<b&&0<l&&this.qg(a,this.type.Ha,0,m-r,b+r,l+r,n,h+p-l-r,b+r,l+r);0===this.Om?(r=2===this.fill?0:r,0<b&&m>e&&this.Ll(a,this.type.Vl,n,h+e,b+r,p-e-l,0,0),0<c&&m>e&&this.Ll(a,this.type.Wl,n+q-c-
r,h+e,c+r,p-e-l,r,0),0<e&&g>b&&this.Ll(a,this.type.Xl,n+b,h,q-b-c,e+r,0,0),0<l&&g>b&&this.Ll(a,this.type.Ul,n+b,h+p-l-r,q-b-c,l+r,0,r)):1===this.Om&&(0<b&&m>e&&this.qg(a,this.type.Ha,0,e,b,m-e,n,h+e,b,p-e-l),0<c&&m>e&&this.qg(a,this.type.Ha,g,e,c,m-e,n+q-c,h+e,c,p-e-l),0<e&&g>b&&this.qg(a,this.type.Ha,b,0,g-b,e,n+b,h,q-b-c,e),0<l&&g>b&&this.qg(a,this.type.Ha,b,m,g-b,l,n+b,h+p-l,q-b-c,l));m>e&&g>b&&(0===this.fill?this.Ll(a,this.type.Xj,n+b,h+e,q-b-c,p-e-l,0,0):1===this.fill&&this.qg(a,this.type.Ha,
b,e,g-b,m-e,n+b,h+e,q-b-c,p-e-l))};c.K=new function(){};c.pa=new function(){};c.Ja=new function(){}})();function od(a){this.c=a}
(function(){function a(){if(0===this.gp.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Mj?b.drawImage(this.Ga,this.Ej,this.Fj,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Ga,0,0,this.width,this.height);this.gp=a.toDataURL("image/png")}return this.gp}function c(){}function b(){}var d=od.prototype;d.Xa=function(a){this.pb=a;this.c=a.c};var f=d.Xa.prototype;f.ra=function(){if(!this.ta){var b,c,d,e,f,g,k,l,v;
this.df=[];this.Fk=!1;b=0;for(c=this.Yd.length;b<c;b++){f=this.Yd[b];k={};k.name=f[0];k.speed=f[1];k.loop=f[2];k.Wq=f[3];k.Xq=f[4];k.Cu=f[5];k.Ya=f[6];k.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],l={},l.lo=g[0],l.or=g[1],l.Ej=g[2],l.Fj=g[3],l.width=g[4],l.height=g[5],l.duration=g[6],l.yd=g[7],l.zd=g[8],l.Kp=g[9],l.Mn=g[10],l.Du=g[11],l.Mj=0!==l.width,l.gp="",l.PC=a,v={left:0,top:0,right:1,bottom:1},l.ir=v,l.Ha=null,(v=this.c.vz(g[0]))?l.Ga=v:(l.Ga=new Image,l.Ga.$x=g[0],l.Ga.ys=g[1],l.Ga.Tx=
null,this.c.Fr(l.Ga,g[0])),k.frames.push(l),this.df.push(l);this.Yd[b]=k}}};f.Kv=function(){var a,b,c;a=0;for(b=this.F.length;a<b;a++)c=this.F[a],c.Fm=c.Vc.Ha};f.En=function(){if(!this.ta){var a,b,c;a=0;for(b=this.df.length;a<b;++a)c=this.df[a],c.Ga.Tx=null,c.Ha=null;this.Fk=!1;this.Kv()}};f.Gn=function(){if(!this.ta&&this.F.length){var a,b,c;a=0;for(b=this.df.length;a<b;++a)c=this.df[a],c.Ha=this.c.da.of(c.Ga,!1,this.c.Gb,c.Du);this.Kv()}};f.EA=function(){if(!this.ta&&!this.Fk&&this.c.da){var a,
b,c;a=0;for(b=this.df.length;a<b;++a)c=this.df[a],c.Ha=this.c.da.of(c.Ga,!1,this.c.Gb,c.Du);this.Fk=!0}};f.to=function(){if(!this.ta&&!this.F.length&&this.Fk){var a,b,c;a=0;for(b=this.df.length;a<b;++a)c=this.df[a],this.c.da.deleteTexture(c.Ha),c.Ha=null;this.Fk=!1}};var k=[];f.Nq=function(a){var b,c,d;G(k);b=0;for(c=this.df.length;b<c;++b)d=this.df[b].Ga,-1===k.indexOf(d)&&(a.drawImage(d,0,0),k.push(d))};d.La=function(a){this.type=a;this.c=a.c;a=this.type.Yd[0].frames[0].Mn;this.Pd?this.Ta.Bl(a):
this.Ta=new Fb(a)};var e=d.La.prototype;e.ra=function(){this.visible=0===this.W[0];this.hn=this.Rk=!1;this.He=0!==this.W[3];this.zb=this.Rs(this.W[1])||this.type.Yd[0];this.la=this.W[2];0>this.la&&(this.la=0);this.la>=this.zb.frames.length&&(this.la=this.zb.frames.length-1);var a=this.zb.frames[this.la];this.Ta.Bl(a.Mn);this.yd=a.yd;this.zd=a.zd;this.dj=this.zb.speed;this.kh=this.zb.Xq;1===this.type.Yd.length&&1===this.type.Yd[0].frames.length||0===this.dj||(this.c.Kl(this),this.Rk=!0);this.Pd?this.Ef.reset():
this.Ef=new yb;this.tg=this.Ef.Fa;this.Sh=!0;this.hg=0;this.Rh=!0;this.xm=this.ks="";this.vs=0;this.wm=-1;this.type.EA();var b,c,d,e,f,g,k,a=0;for(b=this.type.Yd.length;a<b;a++)for(e=this.type.Yd[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Ga.width,f.height=f.Ga.height),f.Mj&&(k=f.Ga,g=f.ir,g.left=f.Ej/k.width,g.top=f.Fj/k.height,g.right=(f.Ej+f.width)/k.width,g.bottom=(f.Fj+f.height)/k.height,0===f.Ej&&0===f.Fj&&f.width===k.width&&f.height===k.height&&(f.Mj=!1));this.Vc=
this.zb.frames[this.la];this.Fm=this.Vc.Ha};e.Nc=function(){var a={a:this.zb.Ya,f:this.la,cas:this.dj,fs:this.tg,ar:this.hg,at:this.Ef.Fa,rt:this.kh};this.Sh||(a.ap=this.Sh);this.Rh||(a.af=this.Rh);return a};e.qd=function(a){var b=this.Az(a.a);b&&(this.zb=b);this.la=a.f;0>this.la&&(this.la=0);this.la>=this.zb.frames.length&&(this.la=this.zb.frames.length-1);this.dj=a.cas;this.tg=a.fs;this.hg=a.ar;this.Ef.reset();this.Ef.Fa=a.at;this.Sh=a.hasOwnProperty("ap")?a.ap:!0;this.Rh=a.hasOwnProperty("af")?
a.af:!0;a.hasOwnProperty("rt")?this.kh=a.rt:this.kh=this.zb.Xq;this.Vc=this.zb.frames[this.la];this.Fm=this.Vc.Ha;this.Ta.Bl(this.Vc.Mn);this.yd=this.Vc.yd;this.zd=this.Vc.zd};e.Ro=function(a){this.la=a?0:this.zb.frames.length-1;this.Sh=!1;this.ks=this.zb.name;this.hn=!0;this.c.trigger(od.prototype.K.Cw,this);this.c.trigger(od.prototype.K.Bw,this);this.hn=!1;this.hg=0};e.j=function(){return this.Ef.Fa};e.ec=function(){this.Ef.add(this.c.gi(this));this.xm.length&&this.Ds();0<=this.wm&&this.Es();var a=
this.Ef.Fa,b=this.zb,c=b.frames[this.la],d=c.duration/this.dj;this.Sh&&a>=this.tg+d&&(this.Rh?this.la++:this.la--,this.tg+=d,this.la>=b.frames.length&&(b.Cu?(this.Rh=!1,this.la=b.frames.length-2):b.loop?this.la=this.kh:(this.hg++,this.hg>=b.Wq?this.Ro(!1):this.la=this.kh)),0>this.la&&(b.Cu?(this.la=1,this.Rh=!0,b.loop||(this.hg++,this.hg>=b.Wq&&this.Ro(!0))):b.loop?this.la=this.kh:(this.hg++,this.hg>=b.Wq?this.Ro(!0):this.la=this.kh)),0>this.la?this.la=0:this.la>=b.frames.length&&(this.la=b.frames.length-
1),a>this.tg+b.frames[this.la].duration/this.dj&&(this.tg=a),a=b.frames[this.la],this.Xi(c,a),this.c.kb=!0)};e.Rs=function(a){var b,c,d;b=0;for(c=this.type.Yd.length;b<c;b++)if(d=this.type.Yd[b],Wb(d.name,a))return d;return null};e.Az=function(a){var b,c,d;b=0;for(c=this.type.Yd.length;b<c;b++)if(d=this.type.Yd[b],d.Ya===a)return d;return null};e.Ds=function(){var a=this.zb.frames[this.la],b=this.Rs(this.xm);this.xm="";!b||Wb(b.name,this.zb.name)&&this.Sh||(this.zb=b,this.dj=b.speed,this.kh=b.Xq,
0>this.la&&(this.la=0),this.la>=this.zb.frames.length&&(this.la=this.zb.frames.length-1),1===this.vs&&(this.la=0),this.Sh=!0,this.tg=this.Ef.Fa,this.Rh=!0,this.Xi(a,this.zb.frames[this.la]),this.c.kb=!0)};e.Es=function(){var a=this.zb.frames[this.la],b=this.la;this.la=wa(this.wm);0>this.la&&(this.la=0);this.la>=this.zb.frames.length&&(this.la=this.zb.frames.length-1);b!==this.la&&(this.Xi(a,this.zb.frames[this.la]),this.tg=this.Ef.Fa,this.c.kb=!0);this.wm=-1};e.Xi=function(a,b){var c=a.width,d=a.height,
e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.yd=b.yd;this.zd=b.zd;this.Ta.Bl(b.Mn);this.ua();this.Vc=b;this.Fm=b.Ha;c=0;for(d=this.Ca.length;c<d;c++)e=this.Ca[c],e.pu&&e.pu(a,b);this.c.trigger(od.prototype.K.Xi,this)};e.Jf=function(a){a.globalAlpha=this.opacity;var b=this.Vc,c=b.Mj,d=b.Ga,e=this.x,f=this.y,g=this.width,k=this.height;if(0===this.M&&0<=g&&0<=k)e-=this.yd*g,f-=this.zd*k,this.c.pf&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Ej,b.Fj,b.width,b.height,
e,f,g,k):a.drawImage(d,e,f,g,k);else{this.c.pf&&(e=Math.round(e),f=Math.round(f));a.save();var l=0<g?1:-1,A=0<k?1:-1;a.translate(e,f);1===l&&1===A||a.scale(l,A);a.rotate(this.M*l*A);e=0-this.yd*ra(g);f=0-this.zd*ra(k);c?a.drawImage(d,b.Ej,b.Fj,b.width,b.height,e,f,ra(g),ra(k)):a.drawImage(d,e,f,ra(g),ra(k));a.restore()}};e.Xh=function(a){this.Kd(a)};e.Kd=function(a){a.Sd(this.Fm);a.Mi(this.opacity);var b=this.Vc,c=this.Eb;if(this.c.pf){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Mj?
a.Vf(c.fc+d,c.gc+e,c.dd+d,c.ed+e,c.Tc+d,c.Uc+e,c.Rc+d,c.Sc+e,b.ir):a.ul(c.fc+d,c.gc+e,c.dd+d,c.ed+e,c.Tc+d,c.Uc+e,c.Rc+d,c.Sc+e)}else b.Mj?a.Vf(c.fc,c.gc,c.dd,c.ed,c.Tc,c.Uc,c.Rc,c.Sc,b.ir):a.ul(c.fc,c.gc,c.dd,c.ed,c.Tc,c.Uc,c.Rc,c.Sc)};e.Iz=function(a){var b=this.Vc,c,d;c=0;for(d=b.Kp.length;c<d;c++)if(Wb(a,b.Kp[c][0]))return c;return-1};e.Oe=function(a,b){var c=this.Vc,d=c.Kp,e;na(a)?e=this.Iz(a):e=a-1;e=wa(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.yd)*this.width,d=d[e][2],
d=(d-c.zd)*this.height,c=Math.cos(this.M);e=Math.sin(this.M);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var l=new fa,g=!1;new za(0,0,0,0);f.finish=function(a){if(g){if(a){var b=this.c.lc().ic.Ve;a=null.Va();var c=l.dg(),d,e;if(a.eb){a.eb=!1;G(a.F);d=0;for(e=c.length;d<e;++d)a.F[d]=c[d];if(b)for(G(a.Ua),d=0,e=null.F.length;d<e;++d)c=null.F[d],l.contains(c)||a.Ua.push(c)}else if(b)for(b=a.F.length,d=0,e=c.length;d<e;++d)a.F[b+d]=c[d],Na(a.Ua,c[d]);else Ia(a.F,c);null.ig()}l.clear();
g=!1}};c.prototype.Bw=function(a){return Wb(this.ks,a)};c.prototype.Cw=function(){return!0};c.prototype.Xi=function(){return!0};d.K=new c;b.prototype.tx=function(a,b,c){if(a&&b&&(b=this.c.dp(a,b,this.Oe(c,!0),this.Oe(c,!1)))){"undefined"!==typeof b.M&&(b.M=this.M,b.ua());this.c.ve++;var d,e,f;this.c.trigger(Object.getPrototypeOf(a.pb).K.Wi,b);if(b.pd)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.c.trigger(Object.getPrototypeOf(f.type.pb).K.Wi,f);this.c.ve--;d=this.c.Ez();c=!1;if(la(d.ja.Spawn_LastExec)||
d.ja.Spawn_LastExec<this.c.di)c=!0,d.ja.Spawn_LastExec=this.c.di;if(a!=this.type&&(a=a.Va(),a.eb=!1,c?(G(a.F),a.F[0]=b):a.F.push(b),b.pd))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.Va(),a.eb=!1,c?(G(a.F),a.F[0]=f):a.F.push(f)}};b.prototype.ax=function(a,b){this.xm=a;this.vs=b;this.Rk||(this.c.Kl(this),this.Rk=!0);this.hn||this.Ds()};b.prototype.bx=function(a){this.wm=a;this.Rk||(this.c.Kl(this),this.Rk=!0);this.hn||this.Es()};b.prototype.gx=function(a){this.He!==(0!==a)&&((this.He=
0!==a)?this.ua():(this.Ge.right>=this.Ge.left&&this.type.lk.update(this,this.Ge,null),this.Ge.set(0,0,-1,-1)))};d.pa=new b;d.Ja=new function(){}})();function wd(a){this.c=a}
(function(){function a(a,b){return a.length?a.pop():new b}function c(a,b,c){if(c){var d;c=0;for(d=b.length;c<d;c++)a.length<e&&a.push(b[c]);G(b)}else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a.length<e&&a.push(b[d]),delete b[d])}function b(b,c,d){var e=b.Bi;d=d.replace(/\s\s*$/,"");c>=e.length&&e.push(a(l,Object));c=e[c];c.text=d;c.width=b.tq(d);b.Qj=sa(b.Qj,c.width)}function d(){}var f=wd.prototype;f.ra=function(){};f.Xa=function(a){this.pb=a;this.c=a.c};var k=f.Xa.prototype;k.ra=function(){this.ta||
(this.Ga=new Image,this.c.Fr(this.Ga,this.lo),this.Ha=null)};k.En=function(){this.ta||(this.Ha=null)};k.Gn=function(){if(!this.ta&&this.F.length){this.Ha||(this.Ha=this.c.da.of(this.Ga,!1,this.c.Gb,this.Rj));var a,b;a=0;for(b=this.F.length;a<b;a++)this.F[a].Ha=this.Ha}};k.to=function(){this.ta||this.F.length||!this.Ha||(this.c.da.deleteTexture(this.Ha),this.Ha=null)};k.Nq=function(a){a.drawImage(this.Ga,0,0)};f.La=function(a){this.type=a;this.c=a.c};k=f.La.prototype;k.Ii=function(){c(l,this.Bi,!0);
c(g,this.zm,!1);c(m,this.Am,!1);qb(this.hh)};k.ra=function(){this.Ga=this.type.Ga;this.ym=this.W[0];this.fh=this.W[1];this.characterSet=this.W[2];this.text=this.W[3];this.gh=this.W[4];this.visible=0===this.W[5];this.dn=this.W[6]/2;this.xo=this.W[7]/2;this.WB=0===this.W[9];this.cj=this.W[10];this.lineHeight=this.W[11];this.Pi=this.Qj=0;this.Pd?(G(this.Bi),qb(this.zm),qb(this.Am),qb(this.hh)):(this.Bi=[],this.zm={},this.Am={},this.hh={});this.Jl=!0;this.jq=this.width;this.c.da&&(this.type.Ha||(this.type.Ha=
this.c.da.of(this.type.Ga,!1,this.c.Gb,this.type.Rj)),this.Ha=this.type.Ha);this.ux()};k.Nc=function(){var a={t:this.text,csc:this.gh,csp:this.cj,lh:this.lineHeight,tw:this.Qj,th:this.Pi,lrt:this.zA,ha:this.dn,va:this.xo,cw:{}},b;for(b in this.hh)a.cw[b]=this.hh[b];return a};k.qd=function(a){this.text=a.t;this.gh=a.csc;this.cj=a.csp;this.lineHeight=a.lh;this.Qj=a.tw;this.Pi=a.th;this.zA=a.lrt;a.hasOwnProperty("ha")&&(this.dn=a.ha);a.hasOwnProperty("va")&&(this.xo=a.va);for(var b in a.cw)this.hh[b]=
a.cw[b];this.Jl=!0;this.jq=this.width};var e=1E3,l=[],g=[],m=[];k.ux=function(){for(var b=this.Ga,c=b.width,d=b.height,b=this.ym,e=this.fh,f=b/c,h=e/d,k=this.characterSet,c=Math.floor(c/b),d=Math.floor(d/e),l=0;l<k.length&&!(l>=c*d);l++){var n=l%c,E=Math.floor(l/c),z=k.charAt(l);if(this.c.da){var F=this.Am,B=n*f,x=E*h,n=(n+1)*f,E=(E+1)*h;void 0===F[z]&&(F[z]=a(m,za));F[z].left=B;F[z].top=x;F[z].right=n;F[z].bottom=E}else F=this.zm,n=n*b,E=E*e,B=b,x=e,void 0===F[z]&&(F[z]=a(g,Object)),F[z].x=n,F[z].y=
E,F[z].hc=B,F[z].bt=x}};var h=[];f.zx=function(a){G(h);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(h.push(b),b=""),h.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));h.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&h.push(b)};f.Ex=function(b){var d=b.text,e=b.Bi;if(d&&d.length){var f=b.width;if(2>=f)c(l,e,!0);else{var g=b.gh,h=b.cj;if(d.length*(b.ym*g+h)-h<=f&&-1===d.indexOf("\n")&&(h=b.tq(d),
h<=f)){c(l,e,!0);e.push(a(l,Object));e[0].text=d;e[0].width=h;b.Qj=h;b.Pi=b.fh*g+b.lineHeight;return}this.Fx(b);b.Pi=e.length*(b.fh*g+b.lineHeight)}}else c(l,e,!0)};f.Fx=function(a){var c=a.WB,d=a.text,f=a.Bi,g=a.width;c&&(this.zx(d),d=h);var k="",m,n,w,E=0,z=!1;for(w=0;w<d.length;w++)"\n"===d[w]?(!0===z?z=!1:(b(a,E,k),E++),k=""):(z=!1,m=k,k+=d[w],n=a.tq(k.replace(/\s\s*$/,"")),n>g&&(""===m?(b(a,E,k),k="",z=!0):(b(a,E,m),k=d[w]),E++,c||" "!==k||(k="")));k.replace(/\s\s*$/,"").length&&(b(a,E,k),E++);
for(w=E;w<f.length;w++)l.length<e&&l.push(f[w]);f.length=E};k.tq=function(a){for(var b=this.cj,c=a.length,d=0,e=0;e<c;e++)d+=this.xp(a.charAt(e))*this.gh+b;return d-(0<d?b:0)};k.xp=function(a){var b=this.hh;return void 0!==b[a]?b[a]:this.ym};k.Nu=function(){if(this.Jl||this.width!==this.jq)this.Pi=this.Qj=0,this.type.pb.Ex(this),this.Jl=!1,this.jq=this.width};k.Jf=function(a){var b=this.Ga;if(""!==this.text&&null!=b&&(this.Nu(),!(this.height<this.fh*this.gh+this.lineHeight))){a.globalAlpha=this.opacity;
var b=this.x,c=this.y;this.c.pf&&(b=Math.round(b),c=Math.round(c));var d=this.V.ub,e=this.V.wb,f=this.V.Bb,g=this.V.Ab;a.save();a.translate(b,c);a.rotate(this.M);for(var h=this.M,k=this.dn,l=this.gh,m=this.fh*l,n=this.lineHeight,B=this.cj,x=this.Bi,H,V=-(this.yd*this.width),M=-(this.zd*this.height),M=M+this.xo*sa(0,this.height-this.Pi),N,D,K,P=0;P<x.length;P++){var Q=x[P].text;H=k*sa(0,this.width-x[P].width);N=V+H;M+=n;if(0===h&&c+M+m<e)M+=m;else{for(var L=0;L<Q.length;L++){D=Q.charAt(L);H=this.xp(D);
var O=this.zm[D];if(0===h&&b+N+H*l+B<d)N+=H*l+B;else{if(N+H*l>this.width+1E-5)break;void 0!==O&&(D=N,K=M,0===h&&(D=Math.round(D),K=Math.round(K)),a.drawImage(this.Ga,O.x,O.y,O.hc,O.bt,D,K,O.hc*l,O.bt*l));N+=H*l+B;if(0===h&&b+N>f)break}}M+=m;if(0===h&&(M+m+n>this.height||c+M>g))break}}a.restore()}};var n=new Ba;k.Kd=function(a){a.Sd(this.Ha);a.Mi(this.opacity);if(this.text&&(this.Nu(),!(this.height<this.fh*this.gh+this.lineHeight))){this.lb();var b=this.Eb,c=0,d=0;this.c.pf&&(c=Math.round(this.x)-
this.x,d=Math.round(this.y)-this.y);var e=this.V.ub,f=this.V.wb,g=this.V.Bb,h=this.V.Ab,k=this.M,l=this.dn,m=this.xo,F=this.gh,B=this.fh*F,x=this.lineHeight,H=this.cj,V=this.Bi,M=this.Pi,N,D,K;0!==k&&(D=Math.cos(k),K=Math.sin(k));for(var c=b.fc+c,b=b.gc+d,P,m=m*sa(0,this.height-M),Q,L,M=0;M<V.length;M++)if(d=V[M].text,P=N=l*sa(0,this.width-V[M].width),m+=x,0===k&&b+m+B<f)m+=B;else{for(var O=0;O<d.length;O++){var S=d.charAt(O);N=this.xp(S);S=this.Am[S];if(0===k&&c+P+N*F+H<e)P+=N*F+H;else{if(P+N*F>
this.width+1E-5)break;if(void 0!==S){var R=this.ym*F,I=this.fh*F;Q=P;L=m;0===k&&(Q=Math.round(Q),L=Math.round(L));n.fc=Q;n.gc=L;n.dd=Q+R;n.ed=L;n.Rc=Q;n.Sc=L+I;n.Tc=Q+R;n.Uc=L+I;0!==k&&(Q=n,L=D,R=K,I=void 0,I=Q.fc*L-Q.gc*R,Q.gc=Q.gc*L+Q.fc*R,Q.fc=I,I=Q.dd*L-Q.ed*R,Q.ed=Q.ed*L+Q.dd*R,Q.dd=I,I=Q.Rc*L-Q.Sc*R,Q.Sc=Q.Sc*L+Q.Rc*R,Q.Rc=I,I=Q.Tc*L-Q.Uc*R,Q.Uc=Q.Uc*L+Q.Tc*R,Q.Tc=I);n.offset(c,b);a.Vf(n.fc,n.gc,n.dd,n.ed,n.Tc,n.Uc,n.Rc,n.Sc,S)}P+=N*F+H;if(0===k&&c+P>g)break}}m+=B;if(0===k&&(m+B+x>this.height||
b+m>h))break}}};f.K=new function(){};d.prototype.$r=function(a){ma(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Jl=!0,this.c.kb=!0)};k.j=function(a,b){var c=parseInt(b,10);this.hh[a]!==c&&(this.hh[a]=c,this.Jl=!0,this.c.kb=!0)};f.pa=new d;f.Ja=new function(){}})();function xd(a){this.c=a}
(function(){function a(a){g=a.x;m=a.y;h=a.z}function c(a,c,d,e){var f;f=n.length?n.pop():new b;f.init(a,c,d,e);return f}function b(){this.El=this.id=this.Ai=this.yi=this.y=this.x=this.io=this.ho=this.iq=this.time=this.mr=0;this.Ml=this.ro=!1}function d(){}function f(){}var k=xd.prototype;k.Xa=function(a){this.pb=a;this.c=a.c};k.Xa.prototype.ra=function(){};k.La=function(a){this.type=a;this.c=a.c;this.touches=[];this.vq=!1};var e=k.La.prototype,l={left:0,top:0};e.wk=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var g=0,m=0,h=0,n=[];b.prototype.init=function(a,b,c,d){var e=rb();this.mr=this.iq=this.time=e;this.ho=a;this.io=b;this.x=a;this.y=b;this.yi=a;this.Ai=b;this.pressure=this.height=this.width=0;this.id=c;this.El=d;this.Ml=this.ro=!1};b.prototype.update=function(a,b,c,d,e,f){this.iq=this.time;this.time=a;this.yi=this.x;this.Ai=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Ml&&15<=fb(this.ho,this.io,this.x,this.y)&&(this.Ml=
!0)};b.prototype.JA=function(a,b){!this.ro&&500<=rb()-this.mr&&!this.Ml&&15>fb(this.ho,this.io,this.x,this.y)&&(this.ro=!0,a.bg=this.El,a.Sj=this.id,a.ij=b,a.c.trigger(xd.prototype.K.Kw,a),a.mg=this.x,a.ng=this.y,a.c.trigger(xd.prototype.K.Lw,a),a.ij=0)};var q=-1E3,p=-1E3,r=-1E4;b.prototype.au=function(a,b){if(!this.ro){var c=rb();333>=c-this.mr&&!this.Ml&&15>fb(this.ho,this.io,this.x,this.y)&&(a.bg=this.El,a.Sj=this.id,a.ij=b,666>=c-r&&25>fb(q,p,this.x,this.y)?(a.c.trigger(xd.prototype.K.Gw,a),a.mg=
this.x,a.ng=this.y,a.c.trigger(xd.prototype.K.Hw,a),p=q=-1E3,r=-1E4):(a.c.trigger(xd.prototype.K.Vw,a),a.mg=this.x,a.ng=this.y,a.c.trigger(xd.prototype.K.Ww,a),q=this.x,p=this.y,r=c),a.ij=0)}};e.ra=function(){this.vA=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.ij=this.Sj=this.bg=this.ng=this.mg=this.ds=this.cs=this.bs=this.Ix=this.Hx=this.Gx=this.Jn=this.In=this.Hn=0;this.TB=0!==this.W[0];var b=0<this.c.xd?document:this.c.canvas,c=document;this.c.od?c=b=window.Canvas:this.c.Qe&&
(c=b=window);var d=this;window.navigator.pointerEnabled?(b.addEventListener("pointerdown",function(a){d.ou(a)},!1),b.addEventListener("pointermove",function(a){d.nu(a)},!1),c.addEventListener("pointerup",function(a){d.Fn(a,!1)},!1),c.addEventListener("pointercancel",function(a){d.Fn(a,!0)},!1),this.c.canvas&&(this.c.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.c.canvas.addEventListener("gesturehold",
function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(b.addEventListener("MSPointerDown",function(a){d.ou(a)},!1),b.addEventListener("MSPointerMove",function(a){d.nu(a)},!1),c.addEventListener("MSPointerUp",function(a){d.Fn(a,!1)},!1),c.addEventListener("MSPointerCancel",function(a){d.Fn(a,!0)},!1),this.c.canvas&&(this.c.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",
function(a){a.preventDefault()},!1))):(b.addEventListener("touchstart",function(a){d.ru(a)},!1),b.addEventListener("touchmove",function(a){d.qu(a)},!1),c.addEventListener("touchend",function(a){d.Gq(a,!1)},!1),c.addEventListener("touchcancel",function(a){d.Gq(a,!0)},!1));if(this.vA){var e=function(a){a=a.reading;d.bs=a.accelerationX;d.cs=a.accelerationY;d.ds=a.accelerationZ},f=function(a){a=a.reading;d.Hn=a.yawDegrees;d.In=a.pitchDegrees;d.Jn=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();
g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),h&&h.addEventListener("readingchanged",
f))},!1)}else window.addEventListener("deviceorientation",function(a){d.Hn=a.alpha||0;d.In=a.beta||0;d.Jn=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.Gx=a.accelerationIncludingGravity.x||0,d.Hx=a.accelerationIncludingGravity.y||0,d.Ix=a.accelerationIncludingGravity.z||0);a.acceleration&&(d.bs=a.acceleration.x||0,d.cs=a.acceleration.y||0,d.ds=a.acceleration.z||0)},!1);this.TB&&!this.c.Cb&&(jQuery(document).mousemove(function(a){d.Eq(a)}),jQuery(document).mousedown(function(a){d.Dq(a)}),
jQuery(document).mouseup(function(a){d.Fq(a)}));!this.c.sj&&this.c.ae&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(a,null,{frequency:40});this.c.KB(this)};e.nu=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.wk(a.pointerId),c=rb();if(0<=b){var d=this.c.Cb?l:jQuery(this.c.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,
a.width||0,a.height||0,a.pressure||0)}}};e.ou=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Xb(a)&&a.preventDefault();var b=this.c.Cb?l:jQuery(this.c.canvas).offset(),d=a.pageX-b.left,b=a.pageY-b.top;rb();this.bg=this.touches.length;this.Sj=a.pointerId;this.touches.push(c(d,b,a.pointerId,this.bg));this.c.Ac=!0;this.c.trigger(xd.prototype.K.Sr,this);this.c.trigger(xd.prototype.K.Wr,this);this.mg=d;this.ng=b;this.c.trigger(xd.prototype.K.Ho,this);
this.c.Ac=!1}};e.Fn=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Xb(a)&&a.preventDefault();var c=this.wk(a.pointerId);this.bg=0<=c?this.touches[c].El:-1;this.Sj=0<=c?this.touches[c].id:-1;this.c.Ac=!0;this.c.trigger(xd.prototype.K.Rr,this);this.c.trigger(xd.prototype.K.Go,this);0<=c&&(b||this.touches[c].au(this,c),100>n.length&&n.push(this.touches[c]),this.touches.splice(c,1));this.c.Ac=!1}};e.qu=function(a){a.preventDefault&&a.preventDefault();
var b=rb(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.wk(e.identifier),0<=f){var g=this.c.Cb?l:jQuery(this.c.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-g.left,e.pageY-g.top,2*(e.ZC||e.eD||e.SC||e.VC||0),2*(e.$C||e.fD||e.TC||e.WC||0),e.MC||e.dD||e.RC||e.UC||0)}};e.ru=function(a){a.preventDefault&&Xb(a)&&a.preventDefault();var b=this.c.Cb?l:jQuery(this.c.canvas).offset();rb();this.c.Ac=!0;var d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=
a.changedTouches[d],g=this.wk(f.identifier),-1===g){g=f.pageX-b.left;var h=f.pageY-b.top;this.bg=this.touches.length;this.Sj=f.identifier;this.touches.push(c(g,h,f.identifier,this.bg));this.c.trigger(xd.prototype.K.Sr,this);this.c.trigger(xd.prototype.K.Wr,this);this.mg=g;this.ng=h;this.c.trigger(xd.prototype.K.Ho,this)}this.c.Ac=!1};e.Gq=function(a,b){a.preventDefault&&Xb(a)&&a.preventDefault();this.c.Ac=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.wk(e.identifier),
0<=e&&(this.bg=this.touches[e].El,this.Sj=this.touches[e].id,this.c.trigger(xd.prototype.K.Rr,this),this.c.trigger(xd.prototype.K.Go,this),b||this.touches[e].au(this,e),100>n.length&&n.push(this.touches[e]),this.touches.splice(e,1));this.c.Ac=!1};e.j=function(){return this.c.ae&&0===this.Hn&&0!==h?90*h:this.Hn};e.k=function(){return this.c.ae&&0===this.In&&0!==m?90*m:this.In};e.u=function(){return this.c.ae&&0===this.Jn&&0!==g?90*g:this.Jn};e.Dq=function(a){this.ru({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]});this.vq=!0};e.Eq=function(a){this.vq&&this.qu({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};e.Fq=function(a){a.preventDefault&&this.c.cn&&!this.c.qi&&a.preventDefault();this.c.cn=!0;this.Gq({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.vq=!1};e.qr=function(){var a,b,c,d=rb();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.iq=d),c.JA(this,a)};d.prototype.Wr=function(){return!0};d.prototype.Go=function(){return!0};
d.prototype.Ho=function(a){return a?this.c.Hl(a,this.mg,this.ng):!1};var t=[];d.prototype.uw=function(a){if(!a)return!1;var b=a.Va(),c=b.se(),d,e,f,g,h,k;f=0;for(g=c.length;f<g;f++){var l=c[f];l.lb();h=0;for(k=this.touches.length;h<k;h++)if(e=this.touches[h],d=l.V.Xb(e.x,e.y,!0),e=l.V.Xb(e.x,e.y,!1),l.jd(d,e)){t.push(l);break}}return t.length?(b.eb=!1,Ia(b.F,t),a.ig(),G(t),!0):!1};d.prototype.Sr=function(a){a=Math.floor(a);return a===this.bg};d.prototype.Rr=function(a){a=Math.floor(a);return a===
this.bg};d.prototype.Kw=function(){return!0};d.prototype.Vw=function(){return!0};d.prototype.Gw=function(){return!0};d.prototype.Lw=function(a){return a?this.c.Hl(a,this.mg,this.ng):!1};d.prototype.Ww=function(a){return a?this.c.Hl(a,this.mg,this.ng):!1};d.prototype.Hw=function(a){return a?this.c.Hl(a,this.mg,this.ng):!1};k.K=new d;f.prototype.Mo=function(a,b){var c=this.ij;if(0>c||c>=this.touches.length)a.ga(0);else{var d,e,f,g,h;la(b)?(d=this.c.ug(0),e=d.scale,f=d.ud,g=d.Nd,h=d.M,d.scale=1,d.ud=
1,d.Nd=1,d.M=0,a.ga(d.Xb(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.ud=f,d.Nd=g,d.M=h):(d=ma(b)?this.c.ug(b):this.c.Bk(b))?a.ga(d.Xb(this.touches[c].x,this.touches[c].y,!0)):a.ga(0)}};f.prototype.No=function(a,b){var c=this.ij;if(0>c||c>=this.touches.length)a.ga(0);else{var d,e,f,g,h;la(b)?(d=this.c.ug(0),e=d.scale,f=d.ud,g=d.Od,h=d.M,d.scale=1,d.ud=1,d.Od=1,d.M=0,a.ga(d.Xb(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.ud=f,d.Od=g,d.M=h):(d=ma(b)?this.c.ug(b):this.c.Bk(b))?a.ga(d.Xb(this.touches[c].x,
this.touches[c].y,!1)):a.ga(0)}};k.Ja=new f})();function yd(a){this.c=a}
(function(){function a(){}function c(){}function b(){}var d=yd.prototype;d.Xa=function(a){this.pb=a;this.c=a.c};d.Xa.prototype.ra=function(){};d.La=function(a){this.type=a;this.c=a.c};var f=d.La.prototype,k="",e="undefined"!==typeof window.is_scirra_arcade;e&&(k="arcade"+window.scirra_arcade_id);var l=!1;try{localStorage.getItem("test"),l=!0}catch(g){l=!1}f.ra=function(){l||ja("[Construct 2] Webstorage plugin: local storage is not supported on this platform.")};a.prototype.xw=function(a){return l?
null!=localStorage.getItem(k+a):!1};a.prototype.Sw=function(){return!0};d.K=new a;c.prototype.xx=function(a,b){if(l)try{localStorage.setItem(k+a,b)}catch(c){this.c.trigger(yd.prototype.K.Sw,this)}};d.pa=new c;b.prototype.yw=function(a,b){l?a.Oc(localStorage.getItem(k+b)||""):a.Oc("")};b.prototype.Do=function(a){if(l){var b={},c,d,f;c=0;for(d=localStorage.length;c<d;c++)f=localStorage.key(c),e?f.substr(0,k.length)===k&&(b[f.substr(k.length)]=localStorage.getItem(f)):b[f]=localStorage.getItem(f);a.Oc(JSON.stringify({c2dictionary:!0,
data:b}))}else a.Oc("")};d.Ja=new b})();function zd(a){this.c=a}
(function(){var a=zd.prototype;a.Xa=function(a){this.behavior=a;this.c=a.c};a.Xa.prototype.ra=function(){};a.La=function(a,c){this.type=a;this.behavior=a.behavior;this.I=c;this.c=a.c};var c=a.La.prototype;c.ra=function(){var a=this.W[0];this.fg=this.W[1];this.Ym=this.W[2];this.Rx=0!==this.W[3];this.er=0!==this.W[4];this.wd=Math.cos(this.I.M)*a;this.Xc=Math.sin(this.I.M)*a;this.yi=this.I.x;this.Ai=this.I.y;this.Pf=this.I.M;this.po=0;this.enabled=0!==this.W[5]};c.Nc=function(){return{acc:this.fg,g:this.Ym,
dx:this.wd,dy:this.Xc,lx:this.yi,ly:this.Ai,lka:this.Pf,t:this.po,e:this.enabled}};c.qd=function(a){this.fg=a.acc;this.Ym=a.g;this.wd=a.dx;this.Xc=a.dy;this.yi=a.lx;this.Ai=a.ly;this.Pf=a.lka;this.po=a.t;this.enabled=a.e};c.ec=function(){if(this.enabled){var a=this.c.gi(this.I),c,f;this.I.M!==this.Pf&&(this.er&&(c=fb(0,0,this.wd,this.Xc),this.wd=Math.cos(this.I.M)*c,this.Xc=Math.sin(this.I.M)*c),this.Pf=this.I.M);0!==this.fg&&(c=fb(0,0,this.wd,this.Xc),f=0===this.wd&&0===this.Xc?this.I.M:Va(0,0,this.wd,
this.Xc),c+=this.fg*a,0>c&&(c=0),this.wd=Math.cos(f)*c,this.Xc=Math.sin(f)*c);0!==this.Ym&&(this.Xc+=this.Ym*a);this.yi=this.I.x;this.Ai=this.I.y;if(0!==this.wd||0!==this.Xc)if(this.I.x+=this.wd*a,this.I.y+=this.Xc*a,this.po+=fb(0,0,this.wd*a,this.Xc*a),this.er&&(this.I.M=Va(0,0,this.wd,this.Xc),this.I.ua(),this.Pf=this.I.M),this.I.ua(),this.Rx&&(c=this.c.Oi(this.I)))this.c.Qu(this.I,c),c=fb(0,0,this.wd,this.Xc),f=this.c.Ux(this.I,this.yi,this.Ai),this.wd=Math.cos(f)*c,this.Xc=Math.sin(f)*c,this.I.x+=
this.wd*a,this.I.y+=this.Xc*a,this.I.ua(),this.er&&(this.Pf=this.I.M=f,this.I.ua()),this.c.eB(this.I,this.wd/c,this.Xc/c,Math.max(2.5*c*a,30))||this.c.fB(this.I)}};a.K=new function(){};a.pa=new function(){};a.Ja=new function(){}})();function Ad(a){this.c=a}
(function(){function a(){}function c(){}var b=Ad.prototype;b.Xa=function(a){this.behavior=a;this.c=a.c};b.Xa.prototype.ra=function(){};b.La=function(a,b){this.type=a;this.behavior=a.behavior;this.I=b;this.c=a.c};var d=b.La.prototype;d.ra=function(){this.Oo=1===this.W[0];this.bv=!1;this.tk=this.W[1];this.Tl=this.W[2];this.Qm=this.W[3];this.fy=this.W[4];this.ke=this.Oo?0:3;this.Pd?this.Ye.reset():this.Ye=new yb;this.zh=this.I.opacity?this.I.opacity:1;this.Oo&&(0===this.tk?(this.ke=1,0===this.Tl&&(this.ke=
2)):(this.I.opacity=0,this.c.kb=!0))};d.Nc=function(){return{fit:this.tk,wt:this.Tl,fot:this.Qm,s:this.ke,st:this.Ye.Fa,mo:this.zh}};d.qd=function(a){this.tk=a.fit;this.Tl=a.wt;this.Qm=a.fot;this.ke=a.s;this.Ye.reset();this.Ye.Fa=a.st;this.zh=a.mo};d.ec=function(){this.Ye.add(this.c.gi(this.I));0===this.ke&&(this.I.opacity=this.Ye.Fa/this.tk*this.zh,this.c.kb=!0,this.I.opacity>=this.zh&&(this.I.opacity=this.zh,this.ke=1,this.Ye.reset(),this.c.trigger(Ad.prototype.K.Iw,this.I)));1===this.ke&&this.Ye.Fa>=
this.Tl&&(this.ke=2,this.Ye.reset(),this.c.trigger(Ad.prototype.K.Xw,this.I));2===this.ke&&0!==this.Qm&&(this.I.opacity=this.zh-this.Ye.Fa/this.Qm*this.zh,this.c.kb=!0,0>this.I.opacity&&(this.I.opacity=0,this.ke=3,this.Ye.reset(),this.c.trigger(Ad.prototype.K.Jw,this.I),1===this.fy&&this.c.Xg(this.I)))};d.Dy=function(){this.ke=0;this.Ye.reset();0===this.tk?(this.ke=1,0===this.Tl&&(this.ke=2)):(this.I.opacity=0,this.c.kb=!0)};a.prototype.Jw=function(){return!0};a.prototype.Iw=function(){return!0};
a.prototype.Xw=function(){return!0};b.K=new a;c.prototype.wx=function(){this.Oo||this.bv||(this.zh=this.I.opacity?this.I.opacity:1,this.bv=!0);3===this.ke&&this.Dy()};b.pa=new c;b.Ja=new function(){}})();function Bd(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}var Cd=2/180*Math.PI,Fd=8/180*Math.PI,Gd=.5*Math.PI,Hd=Gd*Gd,Id=2/180*Math.PI,Jd=Number.MIN_VALUE*Number.MIN_VALUE;function Kd(a,c){return a.x*c.x+a.y*c.y}
function Ld(a,c){return a.x*c.y-a.y*c.x}function Md(a){return Z(1*a.y,-1*a.x)}function Nd(a,c){return Z(a.n.x*c.x+a.q.x*c.y,a.n.y*c.x+a.q.y*c.y)}function Od(a,c){return Z(Kd(c,a.n),Kd(c,a.q))}function Pd(a,c){var b=Nd(a.B,c);b.x+=a.position.x;b.y+=a.position.y;return b}function Qd(a,c){var b=Rd(c,a.position),d=b.x*a.B.n.x+b.y*a.B.n.y;b.y=b.x*a.B.q.x+b.y*a.B.q.y;b.x=d;return b}function Rd(a,c){return Z(a.x-c.x,a.y-c.y)}function Sd(a,c,b){return a<c?c:a>b?b:a}
function Td(){this.n=Z(0,0);this.q=Z(0,0);this.n.Set(1,0);this.q.Set(0,1)}function Ud(a){var c=new Td;c.Set(a);return c}Td.prototype.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.n.Set(c,a);this.q.Set(-a,c)};Td.prototype.rc=function(){var a=new Td;Vd(a,this);return a};function Vd(a,c){a.n.P(c.n);a.q.P(c.q)}Td.prototype.wa=function(){this.n.Set(0,0);this.q.Set(0,0)};Td.prototype.Mh=function(){return Math.atan2(this.n.y,this.n.x)};
function Wd(a,c){var b=a.n.x*a.q.y-a.q.x*a.n.y;0!==b&&(b=1/b);c.n.x=b*a.q.y;c.q.x=-b*a.q.x;c.n.y=-b*a.n.y;c.q.y=b*a.n.x}function Xd(a,c,b,d){var f=a.n.x*a.q.y-a.q.x*a.n.y;0!==f&&(f=1/f);c.x=f*(a.q.y*b-a.q.x*d);c.y=f*(a.n.x*d-a.n.y*b);return c}function Yd(a,c,b){this.n=new Zd(0,0,0);this.q=new Zd(0,0,0);this.j=new Zd(0,0,0);a&&this.n.P(a);c&&this.q.P(c);b&&this.j.P(b)}Yd.prototype.rc=function(){return new Yd(this.n,this.q,this.j)};
Yd.prototype.wa=function(){this.n.Set(0,0,0);this.q.Set(0,0,0);this.j.Set(0,0,0)};function pe(a,c,b,d){var f=a.n.x,k=a.q.x,e=a.n.y;a=a.q.y;var l=f*a-k*e;0!=l&&(l=1/l);c.x=l*(a*b-k*d);c.y=l*(f*d-e*b);return c}
function qe(a,c,b,d,f){var k=a.n.x,e=a.n.y,l=a.n.z,g=a.q.x,m=a.q.y,h=a.q.z,n=a.j.x,q=a.j.y;a=a.j.z;var p=k*(m*a-h*q)+e*(h*n-g*a)+l*(g*q-m*n);0!=p&&(p=1/p);c.x=p*(b*(m*a-h*q)+d*(h*n-g*a)+f*(g*q-m*n));c.y=p*(k*(d*a-f*q)+e*(f*n-b*a)+l*(b*q-d*n));c.z=p*(k*(m*f-h*d)+e*(h*b-g*f)+l*(g*d-m*b));return c}function re(){this.S=Z(0,0);this.Hc=Z(0,0);this.D=Z(0,0)}re.prototype.Set=function(a){this.S.P(a.S);this.Hc.P(a.Hc);this.D.P(a.D);this.De=a.De;this.R=a.R;this.td=a.td};
re.prototype.rc=function(){var a=new re;a.S.P(this.S);a.Hc.P(this.Hc);a.D.P(this.D);a.De=this.De;a.R=this.R;a.td=this.td;return a};re.prototype.Wd=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.Hc.x+c*this.D.x;a.position.y=(1-c)*this.Hc.y+c*this.D.y;a.B.Set((1-c)*this.De+c*this.R);var b=a.B;a.position.x-=b.n.x*this.S.x+b.q.x*this.S.y;a.position.y-=b.n.y*this.S.x+b.q.y*this.S.y};
re.prototype.Vg=function(a){void 0===a&&(a=0);if(this.td<a&&1-this.td>Number.MIN_VALUE){var c=(a-this.td)/(1-this.td);this.Hc.x=(1-c)*this.Hc.x+c*this.D.x;this.Hc.y=(1-c)*this.Hc.y+c*this.D.y;this.De=(1-c)*this.De+c*this.R;this.td=a}};function se(a,c){this.position=Z(0,0);this.B=new Td;a&&this.position.P(a);c&&Vd(this.B,c)}se.prototype.Set=function(a){this.position.P(a.position);Vd(this.B,a.B)};se.prototype.Mh=function(){return Math.atan2(this.B.n.y,this.B.n.x)};
function te(a,c){this.x=a;this.y=c}var ue=[];function Z(a,c){if(0<ue.length){var b=ue.pop();b.Set(a,c);return b}return new te(a,c)}function ve(a){ue.push(a)}y=te.prototype;y.wa=function(){this.y=this.x=0};y.Set=function(a,c){this.x=a;this.y=c};y.P=function(a){this.x=a.x;this.y=a.y};y.Yg=function(){return Z(-this.x,-this.y)};y.rc=function(){return Z(this.x,this.y)};y.yf=function(a){this.x+=a.x;this.y+=a.y};y.as=function(a){this.x-=a.x;this.y-=a.y};y.le=function(a){this.x*=a;this.y*=a};
function we(a){return Math.sqrt(xe(a))}function xe(a){return a.x*a.x+a.y*a.y}function ye(a){var c=we(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}function Zd(a,c,b){this.x=a;this.y=c;this.z=b}y=Zd.prototype;y.wa=function(){this.z=this.y=this.x=0};y.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};y.P=function(a){this.x=a.x;this.y=a.y;this.z=a.z};y.Yg=function(){return new Zd(-this.x,-this.y,-this.z)};y.rc=function(){return new Zd(this.x,this.y,this.z)};
y.yf=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};y.as=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};y.le=function(a){this.x*=a;this.y*=a;this.z*=a};function ze(){this.bb=.005}y=ze.prototype;y.Oh=function(){};y.rc=function(){};y.Set=function(a){this.bb=a.bb};y.Ti=function(){};y.Zj=function(){};y.Zl=function(){};y.Io=function(){};function Ae(a){this.bb=.005;this.bb=a;this.j=a*a;this.qb=Z(0,0)}Bd(Ae,ze);y=Ae.prototype;y.Oh=function(){return"b2CircleShape"};
y.rc=function(){var a=new Ae(this.bb);a.Set(this);return a};y.Set=function(a){ze.prototype.Set.call(this,a);a instanceof Ae&&this.qb.P(a.qb)};y.Ti=function(a,c){var b=c.B,d=c.position.x+(b.n.x*this.qb.x+b.q.x*this.qb.y),b=c.position.y+(b.n.y*this.qb.x+b.q.y*this.qb.y);a.j.Set(d-this.bb,b-this.bb);a.k.Set(d+this.bb,b+this.bb)};y.Zj=function(a,c){a.j=c*Math.PI*this.j;a.k.P(this.qb);a.u=a.j*(.5*this.j+(this.qb.x*this.qb.x+this.qb.y*this.qb.y))};
y.Zl=function(a,c,b,d){b=Pd(b,this.qb);var f=-(Kd(a,b)-c);if(f<-this.bb+Number.MIN_VALUE)return 0;if(f>this.bb)return d.P(b),Math.PI*this.j;c=f*f;f=this.j*(Math.asin(f/this.bb)+Math.PI/2)+f*Math.sqrt(this.j-c);c=-2/3*Math.pow(this.j-c,1.5)/f;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return f};y.Io=function(a){a.T=[this.qb];a.j=1;a.bb=this.bb};
function Be(a,c){this.bb=.005;this.j=a;this.k=c;this.u=Z(this.k.x-this.j.x,this.k.y-this.j.y);ye(this.u);this.C=Z(this.u.y,-this.u.x);Z(-.04*(this.C.x-this.u.x)+this.j.x,-.04*(this.C.y-this.u.y)+this.j.y);Z(-.04*(this.C.x+this.u.x)+this.k.x,-.04*(this.C.y+this.u.y)+this.k.y);Z(-this.C.x,-this.C.y)}Bd(Be,ze);Be.prototype.Oh=function(){return"b2EdgeShape"};
Be.prototype.Ti=function(a,c){var b=c.B,d=c.position.x+(b.n.x*this.j.x+b.q.x*this.j.y),f=c.position.y+(b.n.y*this.j.x+b.q.y*this.j.y),k=c.position.x+(b.n.x*this.k.x+b.q.x*this.k.y),b=c.position.y+(b.n.y*this.k.x+b.q.y*this.k.y);d<k?(a.j.x=d,a.k.x=k):(a.j.x=k,a.k.x=d);f<b?(a.j.y=f,a.k.y=b):(a.j.y=b,a.k.y=f)};Be.prototype.Zj=function(a){a.j=0;a.k.P(this.j);a.u=0};
Be.prototype.Zl=function(a,c,b,d){void 0===c&&(c=0);var f=Z(a.x*c,a.y*c),k=Pd(b,this.j);b=Pd(b,this.k);var e=Kd(a,k)-c;a=Kd(a,b)-c;if(0<e){if(0<a)return 0;k.x=-a/(e-a)*k.x+e/(e-a)*b.x;k.y=-a/(e-a)*k.y+e/(e-a)*b.y}else 0<a&&(b.x=-a/(e-a)*k.x+e/(e-a)*b.x,b.y=-a/(e-a)*k.y+e/(e-a)*b.y);d.x=(f.x+k.x+b.x)/3;d.y=(f.y+k.y+b.y)/3;return.5*((k.x-f.x)*(b.y-f.y)-(k.y-f.y)*(b.x-f.x))};function Ce(){this.j=0;this.k=Z(0,0);this.u=0}function De(){this.bb=.005;this.j=Z(0,0);this.T=[];this.yb=[]}Bd(De,ze);y=De.prototype;
y.Oh=function(){return"b2PolygonShape"};y.rc=function(){var a=new De;a.Set(this);return a};y.Set=function(a){ze.prototype.Set.call(this,a);if(a instanceof De){this.j.P(a.j);this.ib=a.ib;Ee(this,this.ib);for(var c=0;c<this.ib;c++)this.T[c].P(a.T[c]),this.yb[c].P(a.yb[c])}};
function Fe(a,c){var b=c.length;a.ib=b;Ee(a,b);for(b=b=0;b<a.ib;b++)a.T[b].P(c[b]);for(b=0;b<a.ib;++b){var d=Rd(a.T[b+1<a.ib?b+1:0],a.T[b]);a.yb[b].P(Md(d));ye(a.yb[b])}for(var b=a.T,d=a.ib,f=Z(0,0),k=0,e=1/3,l=0;l<d;++l){var g=b[l],m=l+1<d?b[l+1]:b[0],h=.5*((g.x-0)*(m.y-0)-(g.y-0)*(m.x-0)),k=k+h;f.x+=h*e*(0+g.x+m.x);f.y+=h*e*(0+g.y+m.y)}f.x*=1/k;f.y*=1/k;a.j=f}
function Ge(a,c,b){a.ib=4;Ee(a,4);a.T[0].Set(-c,-b);a.T[1].Set(c,-b);a.T[2].Set(c,b);a.T[3].Set(-c,b);a.yb[0].Set(0,-1);a.yb[1].Set(1,0);a.yb[2].Set(0,1);a.yb[3].Set(-1,0);a.j.wa()}
y.Ti=function(a,c){for(var b=c.B,d=this.T[0],f=c.position.x+(b.n.x*d.x+b.q.x*d.y),k=c.position.y+(b.n.y*d.x+b.q.y*d.y),e=f,l=k,g=1;g<this.ib;++g)var d=this.T[g],m=c.position.x+(b.n.x*d.x+b.q.x*d.y),d=c.position.y+(b.n.y*d.x+b.q.y*d.y),f=f<m?f:m,k=k<d?k:d,e=e>m?e:m,l=l>d?l:d;a.j.x=f-this.bb;a.j.y=k-this.bb;a.k.x=e+this.bb;a.k.y=l+this.bb};
y.Zj=function(a,c){if(2==this.ib)a.k.x=.5*(this.T[0].x+this.T[1].x),a.k.y=.5*(this.T[0].y+this.T[1].y),a.j=0,a.u=0;else{for(var b=0,d=0,f=0,k=0,e=1/3,l=0;l<this.ib;++l)var g=this.T[l],m=l+1<this.ib?this.T[l+1]:this.T[0],h=g.x-0,n=g.y-0,q=m.x-0,p=m.y-0,r=h*p-n*q,t=.5*r,f=f+t,b=b+t*e*(0+g.x+m.x),d=d+t*e*(0+g.y+m.y),g=h,k=k+r*(e*(.25*(g*g+q*g+q*q)+(0*g+0*q))+0+(e*(.25*(n*n+p*n+p*p)+(0*n+0*p))+0));a.j=c*f;a.k.Set(1/f*b,1/f*d);a.u=c*k}};
y.Zl=function(a,c,b,d){var f=Od(b.B,a),k=c-Kd(a,b.position),e=[],l=0,g=-1;c=-1;var m=!1;for(a=a=0;a<this.ib;++a){e[a]=Kd(f,this.T[a])-k;var h=e[a]<-Number.MIN_VALUE;0<a&&(h?m||(g=a-1,l++):m&&(c=a-1,l++));m=h}switch(l){case 0:return m?(a=new Ce,this.Zj(a,1),d.P(Pd(b,a.k)),a.j):0;case 1:-1==g?g=this.ib-1:c=this.ib-1}a=(g+1)%this.ib;f=(c+1)%this.ib;k=(0-e[g])/(e[a]-e[g]);e=(0-e[c])/(e[f]-e[c]);g=Z(this.T[g].x*(1-k)+this.T[a].x*k,this.T[g].y*(1-k)+this.T[a].y*k);c=Z(this.T[c].x*(1-e)+this.T[f].x*e,this.T[c].y*
(1-e)+this.T[f].y*e);e=0;k=Z(0,0);for(l=this.T[a];a!=f;)a=(a+1)%this.ib,m=a==f?c:this.T[a],h=.5*((l.x-g.x)*(m.y-g.y)-(l.y-g.y)*(m.x-g.x)),e+=h,k.x+=h*(g.x+l.x+m.x)/3,k.y+=h*(g.y+l.y+m.y)/3,l=m;k.le(1/e);d.P(Pd(b,k));return e};y.Io=function(a){a.T=this.T;a.j=this.ib;a.bb=this.bb};y.$l=function(a){for(var c=0,b=this.T[0].x*a.x+this.T[0].y*a.y,d=1;d<this.ib;++d){var f=this.T[d].x*a.x+this.T[d].y*a.y;f>b&&(c=d,b=f)}return c};
y.ck=function(a){for(var c=0,b=this.T[0].x*a.x+this.T[0].y*a.y,d=1;d<this.ib;++d){var f=this.T[d].x*a.x+this.T[d].y*a.y;f>b&&(c=d,b=f)}return this.T[c]};function Ee(a,c){a.T=[];a.yb=[];for(var b=a.T.length;b<c;b++)a.T[b]=Z(0,0),a.yb[b]=Z(0,0)}new Td;function He(){this.k=this.j=this.u=this.Vb=0}function Ie(a,c){a.Vb=c;a.u=a.Vb&255;a.j=(a.Vb&65280)>>8&255;a.k=(a.Vb&16711680)>>16&255;a.C=(a.Vb&4278190080)>>24&255}He.prototype.Set=function(a){Ie(this,a.Vb)};
He.prototype.rc=function(){var a=new He;a.Set(this);return a};function Je(){this.Ce=Z(0,0);this.id=new He}Je.prototype.Set=function(a){this.Ce.P(a.Ce);this.id.Set(a.id)};function Ke(){this.j=Z(0,0);this.k=Z(0,0)}var Le=[];function Qe(){if(0<Le.length){var a=Le.pop();a.wa();return a}return new Ke}Ke.prototype.wa=function(){this.j.Set(0,0);this.k.Set(0,0)};Ke.prototype.$j=function(a){var c;return c=(c=(c=(c=this.j.x<=a.j.x)&&this.j.y<=a.j.y)&&a.k.x<=this.k.x)&&a.k.y<=this.k.y};
Ke.prototype.fk=function(a){return 0<a.j.x-this.k.x||0<a.j.y-this.k.y||0<this.j.x-a.k.x||0<this.j.y-a.k.y?!1:!0};function Re(a,c,b){a.j.x=Math.min(c.j.x,b.j.x);a.j.y=Math.min(c.j.y,b.j.y);a.k.x=Math.max(c.k.x,b.k.x);a.k.y=Math.max(c.k.y,b.k.y)}function Se(a,c,b,d){var f=0,k=c[0].Ce,e=c[1].Ce,l=b.x*k.x+b.y*k.y-d;b=b.x*e.x+b.y*e.y-d;0>=l&&a[f++].Set(c[0]);0>=b&&a[f++].Set(c[1]);0>l*b&&(b=l/(l-b),d=a[f].Ce,d.x=k.x+b*(e.x-k.x),d.y=k.y+b*(e.y-k.y),a[f].id=0<l?c[0].id:c[1].id,f++);return f}
function Te(a,c,b,d,f){for(var k=c.B.n.x*a.yb[b].x+c.B.q.x*a.yb[b].y,e=c.B.n.y*a.yb[b].x+c.B.q.y*a.yb[b].y,l=f.B.n.x*k+f.B.n.y*e,g=f.B.q.x*k+f.B.q.y*e,m=0,h=Number.MAX_VALUE,n=0;n<d.ib;n++){var q=d.T[n].x*l+d.T[n].y*g;q<h&&(h=q,m=n)}return(f.position.x+(f.B.n.x*d.T[m].x+f.B.q.x*d.T[m].y)-(c.position.x+(c.B.n.x*a.T[b].x+c.B.q.x*a.T[b].y)))*k+(f.position.y+(f.B.n.y*d.T[m].x+f.B.q.y*d.T[m].y)-(c.position.y+(c.B.n.y*a.T[b].x+c.B.q.y*a.T[b].y)))*e}
function Ue(a,c,b,d){for(var f=d.position.x+(d.B.n.x*b.j.x+d.B.q.x*b.j.y),k=d.position.y+(d.B.n.y*b.j.x+d.B.q.y*b.j.y),f=f-(c.position.x+(c.B.n.x*a.j.x+c.B.q.x*a.j.y)),k=k-(c.position.y+(c.B.n.y*a.j.x+c.B.q.y*a.j.y)),e=f*c.B.n.x+k*c.B.n.y,k=f*c.B.q.x+k*c.B.q.y,f=0,l=-Number.MAX_VALUE,g=0;g<a.ib;++g){var m=a.yb[g].x*e+a.yb[g].y*k;m>l&&(l=m,f=g)}e=Te(a,c,f,b,d);k=f-1;0>k&&(k=a.ib-1);l=Te(a,c,k,b,d);g=f+1;g>=a.ib&&(g=0);var m=Te(a,c,g,b,d),h=0,n=0;if(l>e&&l>m)for(h=k,n=l;;)if(f=h-1,0>f&&(f=a.ib-1),e=
Te(a,c,f,b,d),e>n)h=f,n=e;else break;else if(m>e)for(h=g,n=m;;)if(f=h+1,f>=a.ib&&(f=0),e=Te(a,c,f,b,d),e>n)h=f,n=e;else break;else h=f,n=e;return{os:h,Yn:n}}
function Ve(a,c,b){var d=new We,f=b.Fg,k=b.j,e=b.Gg,l=b.k,g,m;d.j=c.count;for(var h=d.T,n=0;n<d.j;n++){var q=h[n];q.Yb=c.Yb[n];q.Zb=c.Zb[n];g=Xe(f,q.Yb);m=Xe(e,q.Zb);q.fd=Pd(k,g);q.cf=Pd(l,m);q.hc=Rd(q.cf,q.fd);q.R=0}1<d.j&&(g=c.j,m=Ye(d),m<.5*g||2*g<m||m<Number.MIN_VALUE)&&(d.j=0);0==d.j&&(q=h[0],q.Yb=0,q.Zb=0,g=Xe(f,0),m=Xe(e,0),q.fd=Pd(k,g),q.cf=Pd(l,m),q.hc=Rd(q.cf,q.fd),d.j=1);for(f=0;20>f;){k=[];for(e=0;e<d.j;e++)k[e]={},k[e].Yb=d.T[e].Yb,k[e].Zb=d.T[e].Zb;if(2==d.j)e=d,l=e.k.hc,h=e.u.hc,g=
Rd(h,l),l=-(l.x*g.x+l.y*g.y),0>=l?(e.k.R=1,e.j=1):(h=h.x*g.x+h.y*g.y,0>=h?(e.u.R=1,e.j=1,e.k.Set(e.u)):(g=1/(h+l),e.k.R=h*g,e.u.R=l*g,e.j=2));else if(3==d.j){var e=d,p=e.k.hc,r=e.u.hc,t=e.C.hc,u=Rd(r,p),l=Kd(r,u),h=-Kd(p,u),v=Rd(t,p);g=Kd(t,v);m=-Kd(p,v);q=Rd(t,r);n=Kd(t,q);q=-Kd(r,q);v=Ld(u,v);u=v*Ld(r,t);t=v*Ld(t,p);p=v*Ld(p,r);0>=h&&0>=m?(e.k.R=1,e.j=1):0<l&&0<h&&0>=p?(g=1/(l+h),e.k.R=l*g,e.u.R=h*g,e.j=2):0<g&&0<m&&0>=t?(l=1/(g+m),e.k.R=g*l,e.C.R=m*l,e.j=2,e.u.Set(e.C)):0>=l&&0>=q?(e.u.R=1,e.j=
1,e.k.Set(e.u)):0>=g&&0>=n?(e.C.R=1,e.j=1,e.k.Set(e.C)):0<n&&0<q&&0>=u?(l=1/(n+q),e.u.R=n*l,e.C.R=q*l,e.j=2,e.k.Set(e.C)):(l=1/(u+t+p),e.k.R=u*l,e.u.R=t*l,e.C.R=p*l,e.j=3)}if(3==d.j)break;e=d;1==e.j?e=e.k.hc.Yg():2==e.j?(l=Rd(e.u.hc,e.k.hc),e=0<Ld(l,e.k.hc.Yg())?Z(-1*l.y,1*l.x):Md(l)):e=Z(0,0);if(xe(e)<Jd)break;l=e.Yg();d.T[d.j].Yb=b.Fg.$l(Od(b.j.B,l));d.T[d.j].fd=Pd(b.j,Xe(b.Fg,d.T[d.j].Yb));d.T[d.j].Zb=b.Gg.$l(Od(b.k.B,e));d.T[d.j].cf=Pd(b.k,Xe(b.Gg,d.T[d.j].Zb));d.T[d.j].hc=Rd(d.T[d.j].cf,d.T[d.j].fd);
ve(e);ve(l);f++;l=!1;for(e=0;e<k.length;e++)if(d.T[d.j].Yb==k[e].Yb&&d.T[d.j].Zb==k[e].Zb){l=!0;break}if(l)break;d.j++}f=a.j;k=a.k;1==d.j?(f.P(d.k.fd),k.P(d.k.cf)):2==d.j?(f.x=d.k.R*d.k.fd.x+d.u.R*d.u.fd.x,f.y=d.k.R*d.k.fd.y+d.u.R*d.u.fd.y,k.x=d.k.R*d.k.cf.x+d.u.R*d.u.cf.x,k.y=d.k.R*d.k.cf.y+d.u.R*d.u.cf.y):3==d.j&&(k.x=f.x=d.k.R*d.k.fd.x+d.u.R*d.u.fd.x+d.C.R*d.C.fd.x,k.y=f.y=d.k.R*d.k.fd.y+d.u.R*d.u.fd.y+d.C.R*d.C.fd.y);a.If=we(Rd(a.j,a.k));c.j=Ye(d);c.count=d.j;f=d.T;for(k=0;k<d.j;k++)c.Yb[k]=f[k].Yb,
c.Zb[k]=f[k].Zb;b.u&&(c=b.Fg.bb,b=b.Gg.bb,a.If>c+b&&a.If>Number.MIN_VALUE?(a.If-=c+b,d=Rd(a.k,a.j),ye(d),a.j.x+=c*d.x,a.j.y+=c*d.y,a.k.x-=b*d.x,a.k.y-=b*d.y,ve(d)):(b=Z(0,0),b.x=.5*(a.j.x+a.k.x),b.y=.5*(a.j.y+a.k.y),a.j.x=a.k.x=b.x,a.j.y=a.k.y=b.y,a.If=0,ve(b)))}function Ze(){}function $e(){this.j=Z(0,0);this.k=Z(0,0);this.If=0}function af(){}af.prototype.Set=function(a){a.Io(this)};
af.prototype.$l=function(a){for(var c=0,b=this.T[0].x*a.x+this.T[0].y*a.y,d=1;d<this.j;d++){var f=this.T[d].x*a.x+this.T[d].y*a.y;f>b&&(c=d,b=f)}return c};af.prototype.ck=function(a){return this.T[this.$l(a)]};function Xe(a,c){void 0===c&&(c=0);return a.T[c]}function bf(){this.j=null}bf.prototype.ak=function(a){cf(this,a);a.vd()};function df(a,c,b){if(null!==a.j){var d=[];for(d.push(a.j);0<d.length;)if(a=d.pop(),a.Sa.fk(b))if(null===a.Hd){if(!c(a.Me))break}else d.push(a.Hd),d.push(a.Gf)}}
function ef(a,c){if(null===a.j)a.j=c,a.j.parent=null;else{var b;b=c.Sa;b=Z((b.j.x+b.k.x)/2,(b.j.y+b.k.y)/2);for(var d=a.j;null!==d.Hd;)var f=d.Hd,d=d.Gf,k=Math.abs((f.Sa.j.x+f.Sa.k.x)/2-b.x)+Math.abs((f.Sa.j.y+f.Sa.k.y)/2-b.y),e=Math.abs((d.Sa.j.x+d.Sa.k.x)/2-b.x)+Math.abs((d.Sa.j.y+d.Sa.k.y)/2-b.y),d=k<e?f:d;ve(b);b=d;f=b.parent;d=ff();d.parent=f;Re(d.Sa,c.Sa,b.Sa);if(f)for(b.parent.Hd==b?f.Hd=d:f.Gf=d,d.Hd=b,d.Gf=c,b.parent=d,c.parent=d;f&&!f.Sa.$j(d.Sa);)Re(f.Sa,f.Hd.Sa,f.Gf.Sa),d=f,f=f.parent;
else d.Hd=b,d.Gf=c,b.parent=d,c.parent=d,a.j=d}}function cf(a,c){if(c==a.j)a.j=null;else{var b=c.parent,d=b.parent,f;f=b.Hd==c?b.Gf:b.Hd;if(d)for(d.Hd==b?d.Hd=f:d.Gf=f,f.parent=d;d;){f=d.Sa;Re(d.Sa,d.Hd.Sa,d.Gf.Sa);if(f.$j(d.Sa))break;d=d.parent}else a.j=f,f.parent=null;b.vd()}}function gf(){this.k=new bf;this.j=[]}gf.prototype.ak=function(a){Na(this.j,a);this.k.ak(a)};gf.prototype.fk=function(a,c){return a.Sa.fk(c.Sa)};
function hf(a,c){for(var b=[];0<a.j.length;){var d=a.j.pop();df(a.k,function(a){a!=d.Me&&b.push(new jf(d.Me,a));return!0},d.Sa)}for(var f=0;f<b.length;){var k=b[f];c(k.xk,k.yk);for(f++;f<b.length;){var e=b[f];if(!(e.xk==k.xk&&e.yk==k.yk||e.xk==k.yk&&e.yk==k.xk))break;f++}}}function kf(a){this.Sa=Qe();this.Me=this.parent=this.Gf=this.Hd=null;"undefined"!=typeof a&&(this.Me=a)}var lf=[];
function ff(a){if(0<lf.length){var c=lf.pop();"undefined"!=typeof a&&(c.Me=a);c.Sa.wa();return c}return new kf(a)}kf.prototype.vd=function(){this.Me=this.parent=this.Gf=this.Hd=null;lf.push(this)};function jf(a,c){this.xk=a;this.yk=c}function mf(){this.cb=this.Qb=0;this.qa=[];for(var a=0;2>a;a++)this.qa[a]=new nf;this.Kc=Z(0,0);this.Aa=Z(0,0)}mf.prototype.Gc=function(){for(var a=0;2>a;a++)this.qa[a].Gc();this.Kc.wa();this.Aa.wa();this.Qb=this.cb=0};
mf.prototype.Set=function(a){this.Qb=a.Qb;for(var c=0;2>c;c++)this.qa[c].Set(a.qa[c]);this.Kc.P(a.Kc);this.Aa.P(a.Aa);this.cb=a.cb};mf.prototype.rc=function(){var a=new mf;a.Set(this);return a};function nf(){this.Aa=Z(0,0);this.Te=new He;this.Gc()}nf.prototype.Gc=function(){this.Aa.wa();this.Gi=this.Fi=0;Ie(this.Te,0)};nf.prototype.Set=function(a){this.Aa.P(a.Aa);this.Fi=a.Fi;this.Gi=a.Gi;this.Te.Set(a.Te)};
function of(){var a=pf,c=qf,b=wf,d,f,k=0;switch(a.cb){case Bf:d=Od(c.B,a.j);f=Od(b.B,a.j.Yg());d=a.k.ck(d);f=a.u.ck(f);c=Pd(c,d);b=Pd(b,f);k=(b.x-c.x)*a.j.x+(b.y-c.y)*a.j.y;break;case If:k=Nd(c.B,a.j);c=Pd(c,a.Aa);f=Od(b.B,k.Yg());f=a.u.ck(f);b=Pd(b,f);k=(b.x-c.x)*k.x+(b.y-c.y)*k.y;break;case Jf:k=Nd(b.B,a.j),b=Pd(b,a.Aa),d=Od(c.B,k.Yg()),d=a.k.ck(d),c=Pd(c,d),k=(c.x-b.x)*k.x+(c.y-b.y)*k.y}return k}var Bf=1,If=2,Jf=4;
function We(){this.k=new Kf;this.u=new Kf;this.C=new Kf;this.T=[this.k,this.u,this.C]}function Ye(a){return 1==a.j?0:2==a.j?we(Rd(a.k.hc,a.u.hc)):3==a.j?Ld(Rd(a.u.hc,a.k.hc),Rd(a.C.hc,a.k.hc)):0}function Lf(){this.Yb=[0,0,0];this.Zb=[0,0,0]}function Kf(){}Kf.prototype.Set=function(a){this.fd.P(a.fd);this.cf.P(a.cf);this.hc.P(a.hc);this.R=a.R;this.Yb=a.Yb;this.Zb=a.Zb};function Mf(){this.Fg=new af;this.Gg=new af;this.tv=new re;this.uv=new re}
function Nf(a,c){this.Z="Body"+Of++;this.G=new se;this.G.position.P(a.position);this.G.B.Set(a.M);this.m=new re;this.m.S.wa();this.m.td=1;this.m.De=this.m.R=a.M;this.m.D.x=this.G.B.n.x*this.m.S.x+this.G.B.q.x*this.m.S.y;this.m.D.y=this.G.B.n.y*this.m.S.x+this.G.B.q.y*this.m.S.y;this.m.D.x+=this.G.position.x;this.m.D.y+=this.G.position.y;this.m.Hc.P(this.m.D);this.A=a.O.rc();this.k=Z(0,0);this.H=a.aj;this.xb=a.j;this.Ia=a.k;this.fe=a.C;this.fa=a.tc;this.ge=c;this.Hb=null;this.Id=new Pf;this.ca=new Qf;
this.J=a.u;this.hb=a.wj;this.Na=a.Zi;this.O=this.C=0;this.cb=a.type;this.Y=2==this.cb?1:0;this.N=2==this.cb?1:0;this.X=this.j=0;this.Pa=a.H;this.u=new Rf;this.L=[]}function Sf(a,c){var b=new Tf(a,0,c);if(a.fa){var d=a.ge.j.j;b.nc.Ti(b.j,a.G);var f=d.k,k=b.j,e=ff(b);e.Sa.j.x=k.j.x-.1;e.Sa.j.y=k.j.y-.1;e.Sa.k.x=k.k.x+.1;e.Sa.k.y=k.k.y+.1;ef(f,e);d.j.push(e);b.k=e}d=a.u;f=b.Jr;null==d.j[f]&&(k=new Uf(b),e=d.u,null!=e?e.next=k:d.k=k,k.eg(e),d.u=k,d.j[f]=k);b.rq=a;0<b.C&&Vf(a);a.ge.k=!0}y=Nf.prototype;
y.vd=function(){ve(this.A);ve(this.k)};function Wf(a,c,b){a.G.B.Set(b);a.G.position.P(c);c=a.G.B;var d=a.m.S;a.m.D.x=c.n.x*d.x+c.q.x*d.y;a.m.D.y=c.n.y*d.x+c.q.y*d.y;a.m.D.x+=a.G.position.x;a.m.D.y+=a.G.position.y;a.m.Hc.P(a.m.D);a.m.De=a.m.R=b;b=a.ge.j.j;for(c=a.u.Za();c;c=c.Oa())Xf(c.Me,b,a.G,a.G);Yf(a.ge.j)}y.Wd=function(){return this.G};y.Mh=function(){return this.m.R};y.Yr=function(a){Wf(this,this.G.position,a)};function Zf(a,c){0!=a.cb&&a.A.P(c)}
y.em=function(a){void 0===a&&(a=0);0!=this.cb&&(this.J=a)};y.Wg=function(a,c){2==this.cb&&($f(this,!0),this.k.x+=a.x,this.k.y+=a.y,this.C+=(c.x-this.m.D.x)*a.y-(c.y-this.m.D.y)*a.x)};y.Co=function(a){void 0===a&&(a=0);2==this.cb&&($f(this,!0),this.C+=a)};
function Vf(a){a.Y=0;a.N=0;a.j=0;a.X=0;a.m.S.wa();if(0!=a.cb&&1!=a.cb){for(var c=Z(0,0),b=a.u.Za();b;b=b.Oa()){var d=b.Me;if(0!=d.C){var f=void 0,f=new Ce;d.nc.Zj(f,d.C);d=f;a.Y+=d.j;c.x+=d.k.x*d.j;c.y+=d.k.y*d.j;a.j+=d.u}}0<a.Y?(a.N=1/a.Y,c.x*=a.N,c.y*=a.N):(a.Y=1,a.N=1);0<a.j&&!a.xb?(a.j-=a.Y*(c.x*c.x+c.y*c.y),a.j*=a.Pa,a.X=1/a.j):(a.j=0,a.X=0);b=a.m.D.rc();a.m.S.P(c);a.m.Hc.P(Pd(a.G,a.m.S));a.m.D.P(a.m.Hc);a.A.x+=a.J*-(a.m.D.y-b.y);a.A.y+=a.J*+(a.m.D.x-b.x);ve(c);ve(b)}}
function ag(a,c){var b=a.G.B,b=Z(b.n.x*c.x+b.q.x*c.y,b.n.y*c.x+b.q.y*c.y);b.x+=a.G.position.x;b.y+=a.G.position.y;return b}y.Pc=function(){return this.cb};function $f(a,c){if(a.fe!=c){a.fe=c;a.O=0;c||(a.A.wa(),a.J=0,a.k.wa(),a.C=0);for(var b=0;b<a.L.length;b++)bg(a.L[b],a)}}y.Ph=function(){return this.fa};y.Nh=function(){return this.Id};
function cg(a){dg.B.Set(a.m.De);var c=dg.B,b=a.m.S;dg.position.x=a.m.Hc.x-(c.n.x*b.x+c.q.x*b.y);dg.position.y=a.m.Hc.y-(c.n.y*b.x+c.q.y*b.y);c=a.ge.j.j;for(b=a.u.Za();b;b=b.Oa())Xf(b.Me,c,dg,a.G)}function eg(a){a.G.B.Set(a.m.R);var c=a.G.B,b=a.m.S;a.G.position.x=a.m.D.x-(c.n.x*b.x+c.q.x*b.y);a.G.position.y=a.m.D.y-(c.n.y*b.x+c.q.y*b.y)}function fg(a,c){if(2!=a.cb&&2!=c.cb)return!1;for(var b=a.Hb;b;b=b.next)if(b.ye==c&&0==b.yg.Zt)return!1;return!0}
y.Vg=function(a){this.m.Vg(a);this.m.D.P(this.m.Hc);this.m.R=this.m.De;eg(this)};var Of=0;function gg(){this.position=Z(0,0);this.O=Z(0,0);this.Zi=this.wj=this.u=this.M=0;this.C=this.k=!0;this.aj=this.j=!1;this.type=0;this.tc=!0;this.H=1}function hg(){this.k=[];for(var a=0;a<=ig;a++)this.k[a]=null;this.u=[];for(a=0;a<=ig;a++)this.u[a]=null;this.j={}}hg.prototype.Za=function(a){return this.k[a]};
function bg(a,c){var b=c.Pc(),d=c.Z,f=c.fe,k=c.Ph();2==b?jg(a,c,d,kg):lg(a,d,kg);0!=b?jg(a,c,d,mg):lg(a,d,mg);0!=b&&k&&f?jg(a,c,d,ng):lg(a,d,ng);f?jg(a,c,d,og):lg(a,d,og);k?jg(a,c,d,pg):lg(a,d,pg)}hg.prototype.dk=function(a){var c=a.Z;if(null!=this.j[c]){Na(a.L,this);for(a=0;a<=ig;a++)lg(this,c,a);delete this.j[c]}};function lg(a,c,b){var d=a.j[c];null!=d&&(c=d[b],null!=c&&(d[b]=null,d=c.j,c=c.Oa(),null==d?a.k[b]=c:d.next=c,null==c?a.u[b]=d:c.eg(d)))}
function jg(a,c,b,d){var f=a.j[b];if(null==f){for(var f=[],k=0;k<=ig;k++)f[k]=null;a.j[b]=f}null==f[d]&&(f[d]=new qg(c),c=a.u[d],null!=c?c.next=f[d]:a.k[d]=f[d],f[d].eg(c),a.u[d]=f[d])}var kg=0,mg=1,pg=2,ng=3,og=4,ig=5;function qg(a){this.body=a;this.j=this.next=null}qg.prototype.eg=function(a){this.j=a};qg.prototype.gb=function(){return this.body};qg.prototype.Oa=function(){return this.next};function rg(){}
rg.prototype.j=function(a,c){var b=a.H.rc(),d=c.H.rc();return b.j==d.j&&0!=b.j?0<b.j:0!=(b.u&d.k)&&0!=(b.k&d.u)};var sg=new rg;function tg(){this.j=[];this.k=[]}function ug(){}ug.prototype.BeginContact=function(){};ug.prototype.EndContact=function(){};function vg(a){this.ge=a;this.u=sg;this.k=wg;this.C=new xg;this.j=new gf}
function Yf(a){hf(a.j,function(c,b){a:{var d=c.gb(),f=b.gb();if(d!=f&&fg(f,d)&&a.u.j(c,b)){for(d=f.Id.Za(yg);d;d=d.Oa())if(f=d.wc.$b,f==c){if(f=d.wc.Pb,f==b)break a}else if(f==b&&(f=d.wc.Pb,f==c))break a;a.C.u(c,b)}}})}vg.prototype.vd=function(a){a.Qi&&this.k.EndContact(a);0<a.we.Qb&&($f(a.$b.gb(),!0),$f(a.Pb.gb(),!0));zg(a.pm,a);zg(a.qm,a);zg(a.Ao,a);this.C.vd(a)};function Ag(){this.k=1;this.u=65535;this.j=0}Ag.prototype.rc=function(){var a=new Ag;a.k=this.k;a.u=this.u;a.j=this.j;return a};
function Tf(a,c,b){this.Jr="Fixture"+Bg++;this.H=b.j.rc();this.j=Qe();this.rq=a;this.nc=b.shape.rc();this.C=b.mh;this.O=b.oh;this.L=b.Fh;this.u=b.k}Tf.prototype.gb=function(){return this.rq};Tf.prototype.vd=function(){Le.push(this.j)};Tf.prototype.ak=function(a){null!=this.k&&(a.ak(this.k),this.k=null)};
function Xf(a,c,b,d){if(a.k){var f=Qe(),k=Qe();a.nc.Ti(f,b);a.nc.Ti(k,d);Re(a.j,f,k);Le.push(f);Le.push(k);b=Rd(d.position,b.position);d=a.k;f=c.k;a=a.j;if(d.Sa.$j(a))a=!1;else{cf(f,d);var k=.1+2*Math.abs(b.x),e=.1+2*Math.abs(b.y);d.Sa.j.x=a.j.x-k;d.Sa.j.y=a.j.y-e;d.Sa.k.x=a.k.x+k;d.Sa.k.y=a.k.y+e;ef(f,d);a=!0}a&&c.j.push(d);ve(b)}}var Bg=0;function Cg(){this.j=new Ag;this.j.k=1;this.j.u=65535;this.j.j=0;this.shape=null;this.oh=.2;this.mh=this.Fh=0;this.k=!1}
function Rf(){this.u=this.k=null;this.j={}}Rf.prototype.Za=function(){return this.k};function Uf(a){this.Me=a;this.j=this.next=null}Uf.prototype.eg=function(a){this.j=a};Uf.prototype.Oa=function(){return this.next};function Dg(a,c){this.fa=a;this.C=c;this.k=[];this.O=[];this.H=[];this.u=[];this.j=[]}Dg.prototype.Yj=function(){this.k=[];this.O=[];this.H=[];this.u=[];this.j=[]};
function Eg(a,c){if(null!=a.fa)for(var b=0;b<a.u.length;++b)for(var d=c[b],f=new tg,k=0;k<d.H;++k)f.j[k]=d.u[k].Rb,f.k[k]=d.u[k].ag}function Fg(a,c){a.k.push(c);0!=c.Pc()&&(a.H.push(c),2==c.Pc()&&a.O.push(c))}function Gg(a,c,b,d,f){this.Da=a;var k=0;0<a&&(k=1/a);this.j=k;this.jc=c;this.rl=b;this.Rl=d;this.Sg=f}function Hg(a,c){this.j=new vg(this);this.u=new Ig;this.k=!1;this.Lh=new hg;this.Id=new Pf;this.Hb=null;this.O=new Qf;this.L=0;this.Z=c;this.C=a;this.H=0;this.HA=Jg(this,new gg)}
var Kg=1-100*Number.MIN_VALUE;function Jg(a,c){var b=new Nf(c,a),d=a.Lh,f=b.Z;null==d.j[f]&&(jg(d,b,f,ig),bg(d,b),b.L.push(d));return b}
function Lg(a,c){for(var b=c.Hb;b;){var d=b,b=b.next;Mg(a,d.yg)}for(b=c.ca.Za();b;b=b.Oa())b.Zx.dk(c);for(b=c.Id.Za(yg);b;b=b.Oa())a.j.vd(b.wc);for(b=c.u.Za();b;b=b.Oa()){var d=c,f=b.Me,k=d.u,e=f.Jr,l=k.j[e];if(null!=l){var g=l.j,l=l.Oa();null==g?k.k=l:g.next=l;null==l?k.u=g:l.eg(g);delete k.j[e]}for(k=d.Id.Za(yg);k;k=k.Oa())f!=k.wc.$b&&f!=k.wc.Pb||d.ge.j.vd(k.wc);d.fa&&f.ak(d.ge.j.j);f.vd();f.rq=null;Vf(d)}c.vd();a.Lh.dk(c)}
function Ng(a,c){var b=c.u();b.Aj=null;if(b.yh=a.Hb)a.Hb.Aj=b;a.Hb=b;a.L++;b.Ad.yg=b;b.Ad.ye=b.ba;b.Ad.prev=null;if(b.Ad.next=b.aa.Hb)b.aa.Hb.prev=b.Ad;b.aa.Hb=b.Ad;b.Bd.yg=b;b.Bd.ye=b.aa;b.Bd.prev=null;if(b.Bd.next=b.ba.Hb)b.ba.Hb.prev=b.Bd;b.ba.Hb=b.Bd;var d=c.j,f=c.k;if(!c.O)for(var k=f.Id.Za(yg);k;k=k.Oa())Og(k.wc,f)==d&&(k.wc.vk=!0);return b}
function Mg(a,c){var b=c.Zt;c.Aj&&(c.Aj.yh=c.yh);c.yh&&(c.yh.Aj=c.Aj);c==a.Hb&&(a.Hb=c.yh);var d=c.aa,f=c.ba;$f(d,!0);$f(f,!0);c.Ad.prev&&(c.Ad.prev.next=c.Ad.next);c.Ad.next&&(c.Ad.next.prev=c.Ad.prev);c.Ad==d.Hb&&(d.Hb=c.Ad.next);c.Ad.prev=null;c.Ad.next=null;c.Bd.prev&&(c.Bd.prev.next=c.Bd.next);c.Bd.next&&(c.Bd.next.prev=c.Bd.prev);c.Bd==f.Hb&&(f.Hb=c.Bd.next);c.Bd.prev=null;c.Bd.next=null;a.L--;if(!b)for(b=f.Id.Za(yg);b;b=b.Oa())Og(b.wc,f)==d&&(b.wc.vk=!0)}
Hg.prototype.$g=function(a,c,b){var d,f;this.k&&(Yf(this.j),this.k=!1);for(var k=new Gg(a,this.H*a,c,b,!0),e=this.j,l=e.ge.Id.Za(yg);l;l=l.Oa()){var g=l.wc,m=g.$b,h=g.Pb,n=m.gb(),q=h.gb();if(0!=n.fe||0!=q.fe){if(g.vk){if(0==fg(q,n)){e.vd(g);continue}if(0==e.u.j(m,h)){e.vd(g);continue}g.vk=!1}0==e.j.fk(m.k,h.k)?e.vd(g):Vg(g,e.k)}}if(0<k.Da){for(var p=this.O.Za();p;p=p.Oa())p.Zx.$g(k);for(var r=new Dg(this.j.k,this.u),t=this.Lh.Za(ig);t;t=t.Oa())t.body.Db=!1;for(var u=this.Id.Za(yg);u;u=u.Oa())u.wc.Db=
!1;for(var v=this.Hb;v;v=v.yh)v.Db=!1;for(t=this.Lh.Za(ng);t;t=t.Oa()){var A=t.body;if(!A.Db){r.Yj();Wg.length=0;var C=Wg;C.push(A);for(A.Db=!0;0<C.length;){var w=C.pop();Fg(r,w);w.fe||$f(w,!0);if(0!=w.Pc()){for(u=w.Id.Za(Xg);u;u=u.Oa()){var E=u.wc;if(!E.Db){r.u.push(E);E.Db=!0;var z=Og(E,w);z.Db||(C.push(z),z.Db=!0)}}for(var F=w.Hb;F;F=F.next)!F.yg.Db&&F.ye.Ph()&&(r.j.push(F.yg),F.yg.Db=!0,F.ye.Db||(C.push(F.ye),F.ye.Db=!0))}}for(var B=r,x=k,H=this.Z,V=B,M=x,N=this.C,D=0;D<V.O.length;D++){var K=
V.O[D];K.A.x+=M.Da*(N.x+K.N*K.k.x);K.A.y+=M.Da*(N.y+K.N*K.k.y);K.J+=M.Da*K.X*K.C;K.A.le(Sd(1-M.Da*K.hb,0,1));K.J*=Sd(1-M.Da*K.Na,0,1)}Yg(B.C,B.u,B.u.length);for(var P=B,Q=x,L=P.C,O=0;O<L.k;++O){var S=L.j[O],R=S.j,I=S.k,T=R.N,ba=R.X,Ka=I.N,aa=I.X,Ra=S.C.x,Aa=S.C.y,Ab=Aa,Bb=-Ra,hb=0,sb=0;if(Q.Sg)for(sb=S.H,hb=0;hb<sb;++hb){var pa=S.u[hb];pa.Rb*=Q.jc;pa.ag*=Q.jc;var ub=pa.Rb*Ra+pa.ag*Ab,ea=pa.Rb*Aa+pa.ag*Bb;R.J-=ba*(pa.Ib.x*ea-pa.Ib.y*ub);R.A.x-=T*ub;R.A.y-=T*ea;I.J+=aa*(pa.Jb.x*ea-pa.Jb.y*ub);I.A.x+=
Ka*ub;I.A.y+=Ka*ea}else for(sb=S.H,hb=0;hb<sb;++hb){var Ed=S.u[hb];Ed.Rb=0;Ed.ag=0}}for(var Kb=0;Kb<P.j.length;Kb++)P.j[Kb].zf(Q);for(var Fa=0;Fa<Q.Rl;Fa++){for(var Db=0;Db<P.j.length;Db++)P.j[Db].Bf(Q);Zg(P.C)}for(var Lb=0;Lb<P.j.length;Lb++);for(var Cb=P.C,Me=0;Me<Cb.k;++Me)for(var Ne=Cb.j[Me],wi=Ne.fa,Dd=0;Dd<Ne.H;++Dd){var Pg=wi.qa[Dd],Qg=Ne.u[Dd];Pg.Fi=Qg.Rb;Pg.Gi=Qg.ag}for(var Rg=B,vb=x,Oe=0;Oe<Rg.H.length;++Oe){var ga=Rg.H[Oe],Sg=vb.Da*ga.A.x,Tg=vb.Da*ga.A.y;4<Sg*Sg+Tg*Tg&&(ye(ga.A),ga.A.x=
2*ga.A.x*vb.j,ga.A.y=2*ga.A.y*vb.j);var Ug=vb.Da*ga.J;Ug*Ug>Hd&&(ga.J=0>ga.J?-Gd*vb.j:Gd*vb.j);ga.m.Hc.P(ga.m.D);ga.m.De=ga.m.R;ga.m.D.x+=vb.Da*ga.A.x;ga.m.D.y+=vb.Da*ga.A.y;ga.m.R+=vb.Da*ga.J;eg(ga)}for(var Pe=B,Ki=x,Gh=0;Gh<Ki.rl;Gh++){for(var Li=$g(Pe.C,.2),rf=!0,sf=0;sf<Pe.j.length;sf++)var Mi=Pe.j[sf].Af(.2),rf=rf&&Mi;if(Li&&rf)break}Eg(B,B.C.j);if(H){for(var $d=B,Ni=x,ae=Number.MAX_VALUE,tf=0;tf<$d.H.length;tf++){var Nb=$d.H[tf];!Nb.Ia||Math.abs(Nb.J)>Id||1E-4<Kd(Nb.A,Nb.A)?ae=Nb.O=0:(Nb.O+=
Ni.Da,ae=Math.min(ae,Nb.O))}if(.5<=ae)for(var uf=0;uf<$d.k.length;uf++)$f($d.k[uf],!1)}}}for(t=this.Lh.Za(ng);t;t=t.Oa())cg(t.body);Yf(this.j);for(var ua=new Dg(this.j.k,this.u),be=this.Lh.Za(ig);be;be=be.Oa()){var zb=be.body;zb.Db=!1;zb.m.td=0}for(var La=this.Id.Za(yg);La;La=La.Oa())La.wc.Db=!1,La.wc.j=null;for(var ce=this.Hb;ce;ce=ce.yh)ce.Db=!1;for(;;){for(var Ih=null,vf=1,de=this.Id.Za(ah);de;de=de.Oa()){var jb=de.wc,Jh=jb.$b.gb(),Kh=jb.Pb.gb();if(2==Jh.Pc()&&Jh.fe||2==Kh.Pc()&&Kh.fe){var $a=
1;if(null!=jb.j)$a=jb.j;else if(jb.Qi)$a=1,jb.j=$a;else{var yc=jb.$b.gb(),ad=jb.Pb.gb(),bd=yc.m.td;yc.m.td<ad.m.td?(bd=ad.m.td,yc.m.Vg(bd)):ad.m.td<yc.m.td&&(bd=yc.m.td,ad.m.Vg(bd));var Lh=jb,Oi=yc.m,Pi=ad.m;bh.Fg.Set(Lh.$b.nc);bh.Gg.Set(Lh.Pb.nc);bh.tv=Oi;bh.uv=Pi;bh.OB=.005;var cd=bh;ch++;var xf=cd.Fg,yf=cd.Gg,zf=cd.tv,Af=cd.uv,ee=xf.bb+yf.bb,fe=cd.OB,kb=0,dd=0,zc=0;dh.count=0;for(eh.u=!1;;){zf.Wd(qf,kb);Af.Wd(wf,kb);eh.Fg=xf;eh.Gg=yf;eh.j=qf;eh.k=wf;Ve(fh,dh,eh);if(0>=fh.If){kb=1;break}var Ri=
yf,W=pf,Ca=dh,lb=qf,mb=wf;W.k=xf;W.u=Ri;var Ob=void 0,nb=void 0,Gb=void 0,Pb=void 0,ob=void 0,Hb=void 0,Bc=0,Cc=0,Dc=0,Ec=0,ge=0,he=0,X=void 0,Y=void 0,ab=0;if(1==Ca.count)W.cb=Bf,Ob=Xe(W.k,Ca.Yb[0]),Pb=Xe(W.u,Ca.Zb[0]),Y=Ob,X=lb.B,Bc=lb.position.x+(X.n.x*Y.x+X.q.x*Y.y),Cc=lb.position.y+(X.n.y*Y.x+X.q.y*Y.y),Y=Pb,X=mb.B,Dc=mb.position.x+(X.n.x*Y.x+X.q.x*Y.y),Ec=mb.position.y+(X.n.y*Y.x+X.q.y*Y.y),W.j.x=Dc-Bc,W.j.y=Ec-Cc,ye(W.j);else{if(Ca.Zb[0]==Ca.Zb[1])W.cb=If,nb=Xe(W.k,Ca.Yb[0]),Gb=Xe(W.k,Ca.Yb[1]),
Pb=Xe(W.u,Ca.Zb[0]),W.Aa.x=.5*(nb.x+Gb.x),W.Aa.y=.5*(nb.y+Gb.y),W.j=Md(Rd(Gb,nb)),ye(W.j),Y=W.j,X=lb.B,ge=X.n.x*Y.x+X.q.x*Y.y,he=X.n.y*Y.x+X.q.y*Y.y,Y=W.Aa,X=lb.B,Bc=lb.position.x+(X.n.x*Y.x+X.q.x*Y.y),Cc=lb.position.y+(X.n.y*Y.x+X.q.y*Y.y),Y=Pb,X=mb.B,Dc=mb.position.x+(X.n.x*Y.x+X.q.x*Y.y),Ec=mb.position.y+(X.n.y*Y.x+X.q.y*Y.y),ab=(Dc-Bc)*ge+(Ec-Cc)*he;else if(Ca.Yb[0]==Ca.Yb[0])W.cb=Jf,ob=Xe(W.u,Ca.Zb[0]),Hb=Xe(W.u,Ca.Zb[1]),Ob=Xe(W.k,Ca.Yb[0]),W.Aa.x=.5*(ob.x+Hb.x),W.Aa.y=.5*(ob.y+Hb.y),W.j=Md(Rd(Hb,
ob)),ye(W.j),Y=W.j,X=mb.B,ge=X.n.x*Y.x+X.q.x*Y.y,he=X.n.y*Y.x+X.q.y*Y.y,Y=W.Aa,X=mb.B,Dc=mb.position.x+(X.n.x*Y.x+X.q.x*Y.y),Ec=mb.position.y+(X.n.y*Y.x+X.q.y*Y.y),Y=Ob,X=lb.B,Bc=lb.position.x+(X.n.x*Y.x+X.q.x*Y.y),Cc=lb.position.y+(X.n.y*Y.x+X.q.y*Y.y),ab=(Bc-Dc)*ge+(Cc-Ec)*he;else{var nb=Xe(W.k,Ca.Yb[0]),Gb=Xe(W.k,Ca.Yb[1]),ob=Xe(W.u,Ca.Zb[0]),Hb=Xe(W.u,Ca.Zb[1]),Ib=Nd(lb.B,Rd(Gb,nb)),Jb=Nd(mb.B,Rd(Hb,ob)),Nh=Ib.x*Ib.x+Ib.y*Ib.y,Cf=Jb.x*Jb.x+Jb.y*Jb.y,ie=Rd(Jb,Ib),Oh=Ib.x*ie.x+Ib.y*ie.y,Ph=Jb.x*
ie.x+Jb.y*ie.y,ed=Ib.x*Jb.x+Ib.y*Jb.y,Qh=Nh*Cf-ed*ed,ab=0;0!=Qh&&(ab=Sd((ed*Ph-Oh*Cf)/Qh,0,1));0>(ed*ab+Ph)/Cf&&(ab=Sd((ed-Oh)/Nh,0,1));Ob=Z(0,0);Ob.x=nb.x+ab*(Gb.x-nb.x);Ob.y=nb.y+ab*(Gb.y-nb.y);Pb=Z(0,0);Pb.x=ob.x+ab*(Hb.x-ob.x);Pb.y=ob.y+ab*(Hb.y-ob.y);0==ab||1==ab?(W.cb=Jf,W.j=Md(Rd(Hb,ob)),ye(W.j),W.Aa=Pb):(W.cb=If,W.j=Md(Rd(Gb,nb)),W.Aa=Ob)}if(0>ab){var je=W.j;je.x=-je.x;je.y=-je.y}}var fd=of();if(0>=fd){kb=1;break}0==dd&&(zc=fd>ee?Math.max(ee-fe,.75*ee):Math.max(fd-fe,.02*ee));if(fd-zc<.5*
fe){if(0==dd){kb=1;break}break}var Df=kb,ke=kb,gd=1,Ef=fd;zf.Wd(qf,gd);Af.Wd(wf,gd);var Ff=of();if(Ff>=zc){kb=1;break}for(var le=0;;){var Fc=0,Fc=le&1?ke+(zc-Ef)*(gd-ke)/(Ff-Ef):.5*(ke+gd);zf.Wd(qf,Fc);Af.Wd(wf,Fc);var me=of();if(Math.abs(me-zc)<.025*fe){Df=Fc;break}me>zc?(ke=Fc,Ef=me):(gd=Fc,Ff=me);le++;gh++;if(50==le)break}hh=Math.max(hh,le);if(Df<(1+100*Number.MIN_VALUE)*kb)break;kb=Df;dd++;ih++;if(1E3==dd)break}jh=Math.max(jh,dd);$a=kb;0<$a&&1>$a&&($a=(1-$a)*bd+$a);jb.j=$a}Number.MIN_VALUE<$a&&
$a<vf&&(Ih=jb,vf=$a)}}d=Ih;f=vf;var Qb=d,Gc=f;if(null===Qb||Kg<Gc)break;var hd=Qb.$b.gb(),id=Qb.Pb.gb();kh.Set(hd.m);lh.Set(id.m);hd.Vg(Gc);id.Vg(Gc);Vg(Qb,this.j.k);Qb.j=null;if(Qb.H||!Qb.enabled)hd.m.Set(kh),id.m.Set(lh),eg(hd),eg(id);else if(Qb.Qi){var ne=hd;2!=ne.Pc()&&(ne=id);ua.Yj();Wg.length=0;var jd=Wg;jd.push(ne);for(ne.Db=!0;0<jd.length;)if(zb=jd.pop(),Fg(ua,zb),zb.fe||$f(zb,!0),2==zb.Pc()){for(La=zb.Id.Za(Xg);La&&32!=ua.Z;La=La.Oa()){var oe=La.wc;if(!oe.Db){ua.u.push(oe);oe.Db=!0;var Hc=
Og(oe,zb);Hc.Db||(0!=Hc.Pc()&&(Hc.Vg(Gc),$f(Hc,!0),jd.push(Hc)),Hc.Db=!0)}}for(var bb=zb.Hb;bb;bb=bb.next)32!=ua.L&&!bb.yg.Db&&bb.ye.Ph()&&(ua.j.push(bb.yg),bb.yg.Db=!0,bb.ye.Db||(0!=bb.ye.Pc()&&(bb.ye.Vg(Gc),$f(bb.ye,!0),jd.push(bb.ye)),bb.ye.Db=!0))}var cb=ua,Wa=new Gg((1-Gc)*k.Da,0,k.Rl,k.rl,!1),Xa=0,Rb=0;Yg(cb.C,cb.u,cb.u.length);for(var Gf=cb.C,Xa=0;Xa<cb.j.length;++Xa)cb.j[Xa].zf(Wa);for(Xa=0;Xa<Wa.Rl;++Xa)for(Zg(Gf),Rb=0;Rb<cb.j.length;++Rb)cb.j[Rb].Bf(Wa);for(Xa=0;Xa<cb.H.length;++Xa){var ia=
cb.H[Xa],Vh=Wa.Da*ia.A.x,Wh=Wa.Da*ia.A.y;4<Vh*Vh+Wh*Wh&&(ye(ia.A),ia.A.x=2*ia.A.x*Wa.j,ia.A.y=2*ia.A.y*Wa.j);var Xh=Wa.Da*ia.J;Xh*Xh>Hd&&(ia.J=0>ia.J?-Gd*Wa.j:Gd*Wa.j);ia.m.Hc.P(ia.m.D);ia.m.De=ia.m.R;ia.m.D.x+=Wa.Da*ia.A.x;ia.m.D.y+=Wa.Da*ia.A.y;ia.m.R+=Wa.Da*ia.J;eg(ia)}for(Xa=0;Xa<Wa.rl;++Xa){for(var Ui=$g(Gf,.75),Hf=!0,Rb=0;Rb<cb.j.length;++Rb)var Vi=cb.j[Rb].Af(.2),Hf=Hf&&Vi;if(Ui&&Hf)break}Eg(cb,Gf.j);for(var Ha=0;Ha<ua.k.length;Ha++)if(ua.k[Ha].Db=!1,ua.k[Ha].fe&&2==ua.k[Ha].Pc())for(cg(ua.k[Ha]),
La=ua.k[Ha].Id.Za(yg);La;La=La.Oa())La.wc.j=null;for(Ha=0;Ha<ua.Z;Ha++)ua.u[Ha].Db=!1,ua.u[Ha].j=null;for(Ha=0;Ha<ua.L;Ha++)ua.j[Ha].Db=!1;Yf(this.j)}}this.H=k.j}};Hg.prototype.Nh=function(){return this.Id};var Wg=[];function mh(a,c){this.k="Contact"+nh++;this.we=new mf;this.C=new mf;this.Qi=!1;var b=a.gb(),d=c.gb();this.O=2!=b.Pc()||b.H||2!=d.Pc()||d.H;this.H=a.u||c.u;this.vk=!1;this.$b=a;this.Pb=c;this.enabled=!0;this.pm=b.Nh();this.qm=d.Nh();this.Ao=d.ge.Nh();oh(this)}
mh.prototype.Gc=function(a,c){this.we.Gc();this.C.Gc();this.Qi=!1;var b=a.gb(),d=c.gb();this.O=2!=b.Pc()||b.H||2!=d.Pc()||d.H;this.H=a.u||c.u;this.vk=!1;this.$b=a;this.Pb=c;this.enabled=!0;this.pm=b.Nh();this.qm=d.Nh();this.Ao=d.ge.Nh();oh(this)};function oh(a){ph(a.pm,a);ph(a.qm,a);ph(a.Ao,a);qh(a)}function qh(a){var c=!1,b=!1;!a.H&&a.enabled&&(a.Qi&&(c=!0),a.O&&(b=!0));rh(a.pm,a,c,b);rh(a.qm,a,c,b);rh(a.Ao,a,c,b)}function Og(a,c){var b=a.$b.gb();return b!=c?b:a.Pb.gb()}
function Vg(a,c){var b=a.C;a.C=a.we;a.we=b;a.enabled=!0;var d=!1,b=a.Qi,f=a.$b.gb(),k=a.Pb.gb(),e=a.$b.j.fk(a.Pb.j);if(a.H){if(e){var d=a.$b.nc,f=f.Wd(),e=a.Pb.nc,l=k.Wd(),k=new Ze;k.Fg=new af;k.Fg.Set(d);k.Gg=new af;k.Gg.Set(e);k.j=f;k.k=l;k.u=!0;f=new Lf;f.count=0;d=new $e;Ve(d,f,k);d=d.If<10*Number.MIN_VALUE}a.we.Qb=0}else{a.O=2!=f.Pc()||f.H||2!=k.Pc()||k.H?!0:!1;if(e)for(a.u(),d=0<a.we.Qb,e=0;e<a.we.Qb;e++){l=a.we.qa[e];l.Fi=0;for(var g=l.Gi=0;g<a.C.Qb;g++){var m=a.C.qa[g];if(m.Te.Vb==l.Te.Vb){l.Fi=
m.Fi;l.Gi=m.Gi;break}}}else a.we.Qb=0;d!=b&&($f(f,!0),$f(k,!0))}a.Qi=d;d!=b&&qh(a);!b&&d&&c.BeginContact(a);b&&!d&&c.EndContact(a)}mh.prototype.u=function(){};var bh=new Mf,nh=0;function sh(a,c){mh.call(this,a,c)}Bd(sh,mh);sh.prototype.Gc=function(a,c){mh.prototype.Gc.call(this,a,c)};
sh.prototype.u=function(){var a=this.we,c=this.$b.nc,b=this.$b.gb().G,d=this.Pb.nc,f=this.Pb.gb().G;a.Qb=0;var k=f.position.x+(f.B.n.x*d.qb.x+f.B.q.x*d.qb.y)-(b.position.x+(b.B.n.x*c.qb.x+b.B.q.x*c.qb.y)),b=f.position.y+(f.B.n.y*d.qb.x+f.B.q.y*d.qb.y)-(b.position.y+(b.B.n.y*c.qb.x+b.B.q.y*c.qb.y)),f=c.bb+d.bb;k*k+b*b>f*f||(a.cb=1,a.Aa.P(c.qb),a.Kc.wa(),a.Qb=1,a.qa[0].Aa.P(d.qb),Ie(a.qa[0].Te,0))};
function th(){this.O=Z(0,0);this.Ob=Z(0,0);this.C=Z(0,0);this.Bg=new Td;this.L=new Td;this.u=[];for(var a=0;2>a;a++)this.u[a]=new uh}function uh(){this.Ob=Z(0,0);this.Ib=Z(0,0);this.Jb=Z(0,0)}uh.prototype.Gc=function(){this.Ob.Set(0,0);this.Ib.Set(0,0);this.Jb.Set(0,0)};
function xg(){this.j={};this.k={};vh(this,sh,"b2CircleShape","b2CircleShape");vh(this,wh,"b2PolygonShape","b2CircleShape");vh(this,xh,"b2PolygonShape","b2PolygonShape");vh(this,yh,"b2EdgeShape","b2CircleShape");vh(this,zh,"b2PolygonShape","b2EdgeShape")}function vh(a,c,b,d){a.k[b]=a.k[b]||{};a.k[b][d]=a.k[b][d]||[];a.j[b]=a.j[b]||{};a.j[b][d]=new Ah;a.j[b][d].As=c;a.j[b][d].Iu=!0;b!=d&&(a.j[d]=a.j[d]||{},a.j[d][b]=new Ah,a.j[d][b].As=c,a.j[d][b].Iu=!1)}
xg.prototype.u=function(a,c){var b=a.nc.Oh(),d=c.nc.Oh(),f=this.j[b][d],k=f.As;return null!=k?f.Iu?0<this.k[b][d].length?(b=this.k[b][d].pop(),b.Gc(a,c),b):new k(a,c):0<this.k[d][b].length?(b=this.k[d][b].pop(),b.Gc(c,a),b):new k(c,a):null};xg.prototype.vd=function(a){this.k[a.$b.nc.Oh()][a.Pb.nc.Oh()].push(a)};function Pf(){this.k=[];for(var a=0;a<=yg;a++)this.k[a]=null;this.u=[];for(a=0;a<=yg;a++)this.u[a]=null;this.j={}}Pf.prototype.Za=function(a){return this.k[a]};
function ph(a,c){var b=c.k;if(null==a.j[b]){a.j[b]=[];for(var d=0;d<=yg;d++)a.j[b][d]=null;Bh(a,c,b,yg)}}function rh(a,c,b,d){b?Bh(a,c,c.k,Xg):Ch(a,c.k,Xg);d?Bh(a,c,c.k,ah):Ch(a,c.k,ah)}function zg(a,c){var b=c.k;if(null!=a.j[b]){for(var d=0;d<=yg;d++)Ch(a,b,d);delete a.j[b]}}function Ch(a,c,b){var d=a.j[c];if(null!=d&&(c=d[b],null!=c)){d[b]=null;var d=c.j,f=c.Oa();null==d?a.k[b]=f:d.next=f;null==f?a.u[b]=d:f.eg(d);Dh.push(c)}}
function Bh(a,c,b,d){b=a.j[b];if(null==b[d]){if(0<Dh.length){var f=Dh.pop();f.next=null;f.j=null;f.wc=c;c=f}else c=new Eh(c);b[d]=c;c=a.u[d];null!=c?(c.next=b[d],b[d].eg(c)):a.k[d]=b[d];a.u[d]=b[d]}}var Xg=0,ah=1,yg=2;function Eh(a){this.wc=a;this.j=this.next=null}var Dh=[];Eh.prototype.eg=function(a){this.j=a};Eh.prototype.Oa=function(){return this.next};function Ah(){}function Ig(){this.j=[]}
function Yg(a,c,b){for(a.k=b;a.j.length<a.k;)a.j[a.j.length]=new th;for(var d=0;d<b;d++){var f=c[d],k=f.$b,e=f.Pb,l=k.nc.bb,g=e.nc.bb,m=k.gb(),h=e.gb(),f=f.we,n=Math.sqrt(k.O*e.O),q,k=k.L,e=e.L;q=k>e?k:e;var e=m.A.x,k=m.A.y,p=h.A.x,r=h.A.y,t=m.J,u=h.J,v=f,A=m.G,C=l,w=h.G,E=g,z=Fh;if(0!=v.Qb){var F=0,B=void 0,x=void 0,H=0,V=0,M=0,N=0,D=0,B=0;switch(v.cb){case 1:x=A.B;B=v.Aa;F=A.position.x+x.n.x*B.x+x.q.x*B.y;A=A.position.y+x.n.y*B.x+x.q.y*B.y;x=w.B;B=v.qa[0].Aa;v=w.position.x+x.n.x*B.x+x.q.x*B.y;w=
w.position.y+x.n.y*B.x+x.q.y*B.y;B=v-F;x=w-A;H=B*B+x*x;H>Jd?(H=Math.sqrt(H),z.j.x=B/H,z.j.y=x/H):(z.j.x=1,z.j.y=0);B=A+C*z.j.y;w=w-E*z.j.y;z.qa[0].x=.5*(F+C*z.j.x+(v-E*z.j.x));z.qa[0].y=.5*(B+w);break;case 2:x=A.B;B=v.Kc;H=x.n.x*B.x+x.q.x*B.y;V=x.n.y*B.x+x.q.y*B.y;x=A.B;B=v.Aa;M=A.position.x+x.n.x*B.x+x.q.x*B.y;N=A.position.y+x.n.y*B.x+x.q.y*B.y;z.j.x=H;z.j.y=V;for(F=0;F<v.Qb;F++)x=w.B,B=v.qa[F].Aa,D=w.position.x+x.n.x*B.x+x.q.x*B.y,B=w.position.y+x.n.y*B.x+x.q.y*B.y,z.qa[F].x=D+.5*(C-(D-M)*H-(B-
N)*V-E)*H,z.qa[F].y=B+.5*(C-(D-M)*H-(B-N)*V-E)*V;break;case 4:for(x=w.B,B=v.Kc,H=x.n.x*B.x+x.q.x*B.y,V=x.n.y*B.x+x.q.y*B.y,x=w.B,B=v.Aa,M=w.position.x+x.n.x*B.x+x.q.x*B.y,N=w.position.y+x.n.y*B.x+x.q.y*B.y,z.j.x=-H,z.j.y=-V,F=0;F<v.Qb;F++)x=A.B,B=v.qa[F].Aa,D=A.position.x+x.n.x*B.x+x.q.x*B.y,B=A.position.y+x.n.y*B.x+x.q.y*B.y,z.qa[F].x=D+.5*(E-(D-M)*H-(B-N)*V-C)*H,z.qa[F].y=B+.5*(E-(D-M)*H-(B-N)*V-C)*V}}E=Fh.j.x;z=Fh.j.y;C=a.j[d];C.j=m;C.k=h;C.fa=f;C.C.x=E;C.C.y=z;C.H=f.Qb;C.oh=n;C.Fh=q;C.O.x=f.Kc.x;
C.O.y=f.Kc.y;C.Ob.x=f.Aa.x;C.Ob.y=f.Aa.y;C.Z=l+g;C.type=f.cb;for(l=0;l<C.H;++l)n=f.qa[l],g=C.u[l],g.Rb=n.Fi,g.ag=n.Gi,g.Ob.P(n.Aa),n=g.Ib.x=Fh.qa[l].x-m.m.D.x,q=g.Ib.y=Fh.qa[l].y-m.m.D.y,w=g.Jb.x=Fh.qa[l].x-h.m.D.x,F=g.Jb.y=Fh.qa[l].y-h.m.D.y,v=n*z-q*E,B=w*z-F*E,v*=v,B*=B,g.Bg=1/(m.N+h.N+m.X*v+h.X*B),x=m.Y*m.N+h.Y*h.N,x+=m.Y*m.X*v+h.Y*h.X*B,g.Py=1/x,B=z,x=-E,v=n*x-q*B,B=w*x-F*B,v*=v,B*=B,g.JB=1/(m.N+h.N+m.X*v+h.X*B),g.Ql=0,n=C.C.x*(p+-u*F-e- -t*q)+C.C.y*(r+u*w-k-t*n),-1>n&&(g.Ql+=-C.Fh*n);2==C.H&&
(r=C.u[0],p=C.u[1],f=m.N,m=m.X,e=h.N,h=h.X,k=r.Ib.x*z-r.Ib.y*E,r=r.Jb.x*z-r.Jb.y*E,t=p.Ib.x*z-p.Ib.y*E,l=p.Jb.x*z-p.Jb.y*E,p=f+e+m*k*k+h*r*r,u=f+e+m*t*t+h*l*l,h=f+e+m*k*t+h*r*l,p*p<100*(p*u-h*h)?(C.L.n.Set(p,h),C.L.q.Set(h,u),Wd(C.L,C.Bg)):C.H=1)}}
function Zg(a){for(var c=0;c<a.k;c++){for(var b=a.j[c],d=b.C.x,f=b.C.y,k=0;k<b.H;k++){var e=b,l=b.u[k],g=e.C.y,m=-e.C.x,h=e.oh*l.Rb,h=Sd(l.ag-l.JB*((e.k.A.x-e.k.J*l.Jb.y-e.j.A.x+e.j.J*l.Ib.y)*g+(e.k.A.y+e.k.J*l.Jb.x-e.j.A.y-e.j.J*l.Ib.x)*m),-h,h),n=h-l.ag,g=n*g,m=n*m;e.j.A.x-=e.j.N*g;e.j.A.y-=e.j.N*m;e.j.J-=e.j.X*(l.Ib.x*m-l.Ib.y*g);e.k.A.x+=e.k.N*g;e.k.A.y+=e.k.N*m;e.k.J+=e.k.X*(l.Jb.x*m-l.Jb.y*g);l.ag=h}if(1==b.H)k=b.u[0],e=k.Rb-k.Bg*((b.k.A.x-b.k.J*k.Jb.y-b.j.A.x+b.j.J*k.Ib.y)*d+(b.k.A.y+b.k.J*
k.Jb.x-b.j.A.y-b.j.J*k.Ib.x)*f-k.Ql),e=0<e?e:0,l=e-k.Rb,d=l*d,f=l*f,b.j.A.x-=b.j.N*d,b.j.A.y-=b.j.N*f,b.j.J-=b.j.X*(k.Ib.x*f-k.Ib.y*d),b.k.A.x+=b.k.N*d,b.k.A.y+=b.k.N*f,b.k.J+=b.k.X*(k.Jb.x*f-k.Jb.y*d),k.Rb=e;else for(k=b.u[0],e=b.u[1],l=k.Rb,m=e.Rb,h=(b.k.A.x-b.k.J*k.Jb.y-b.j.A.x+b.j.J*k.Ib.y)*d+(b.k.A.y+b.k.J*k.Jb.x-b.j.A.y-b.j.J*k.Ib.x)*f-k.Ql,f=(b.k.A.x-b.k.J*e.Jb.y-b.j.A.x+b.j.J*e.Ib.y)*d+(b.k.A.y+b.k.J*e.Jb.x-b.j.A.y-b.j.J*e.Ib.x)*f-e.Ql,h-=b.L.n.x*l+b.L.q.x*m,f-=b.L.n.y*l+b.L.q.y*m;;){d=-(b.Bg.n.x*
h+b.Bg.q.x*f);if(0<=d&&(g=-(b.Bg.n.y*h+b.Bg.q.y*f),0<=g)){Hh(b,k,e,d-l,g-m);k.Rb=d;e.Rb=g;break}d=-k.Bg*h;if(0<=d&&0<=b.L.n.y*d+f){Hh(b,k,e,d-l,-m);k.Rb=d;e.Rb=0;break}d=-e.Bg*f;if(0<=d&&0<=b.L.q.x*d+h){Hh(b,k,e,-l,d-m);k.Rb=0;e.Rb=d;break}if(0<=h&&0<=f){Hh(b,k,e,-l,-m);k.Rb=0;e.Rb=0;break}break}}}
function Hh(a,c,b,d,f){var k=d*a.C.x;d*=a.C.y;var e=f*a.C.x;f*=a.C.y;a.j.A.x-=a.j.N*(k+e);a.j.A.y-=a.j.N*(d+f);a.j.J-=a.j.X*(c.Ib.x*d-c.Ib.y*k+b.Ib.x*f-b.Ib.y*e);a.k.A.x+=a.k.N*(k+e);a.k.A.y+=a.k.N*(d+f);a.k.J+=a.k.X*(c.Jb.x*d-c.Jb.y*k+b.Jb.x*f-b.Jb.y*e);c.Rb=0;b.Rb=0}
function $g(a,c){void 0===c&&(c=0);for(var b=0,d=0;d<a.k;d++){var f=a.j[d],k=f.j,e=f.k,l=k.Y*k.N,g=k.Y*k.X,m=e.Y*e.N,h=e.Y*e.X,n=f,q=Mh;switch(n.type){case 1:var p=n.j.G.B,r=n.Ob,t=n.j.G.position.x+(p.n.x*r.x+p.q.x*r.y),u=n.j.G.position.y+(p.n.y*r.x+p.q.y*r.y),p=n.k.G.B,r=n.u[0].Ob,v=n.k.G.position.x+(p.n.x*r.x+p.q.x*r.y),p=n.k.G.position.y+(p.n.y*r.x+p.q.y*r.y),r=v-t,A=p-u,C=r*r+A*A;C>Jd?(C=Math.sqrt(C),q.j.x=r/C,q.j.y=A/C):(q.j.x=1,q.j.y=0);q.qa[0].x=.5*(t+v);q.qa[0].y=.5*(u+p);q.k[0]=r*q.j.x+A*
q.j.y-n.Z;break;case 2:q.j.x=n.j.G.B.n.x*n.O.x+n.j.G.B.q.x*n.O.y;q.j.y=n.j.G.B.n.y*n.O.x+n.j.G.B.q.y*n.O.y;t=n.j.G.position.x+(n.j.G.B.n.x*n.Ob.x+n.j.G.B.q.x*n.Ob.y);u=n.j.G.position.y+(n.j.G.B.n.y*n.Ob.x+n.j.G.B.q.y*n.Ob.y);for(v=0;v<n.H;v++)p=n.k.G.position.x+(n.k.G.B.n.x*n.u[v].Ob.x+n.k.G.B.q.x*n.u[v].Ob.y),r=n.k.G.position.y+(n.k.G.B.n.y*n.u[v].Ob.x+n.k.G.B.q.y*n.u[v].Ob.y),q.k[v]=(p-t)*q.j.x+(r-u)*q.j.y-n.Z,q.qa[v].x=p,q.qa[v].y=r;break;case 4:q.j.x=n.k.G.B.n.x*n.O.x+n.k.G.B.q.x*n.O.y;q.j.y=
n.k.G.B.n.y*n.O.x+n.k.G.B.q.y*n.O.y;t=n.k.G.position.x+(n.k.G.B.n.x*n.Ob.x+n.k.G.B.q.x*n.Ob.y);u=n.k.G.position.y+(n.k.G.B.n.y*n.Ob.x+n.k.G.B.q.y*n.Ob.y);for(v=0;v<n.H;v++)p=n.j.G.position.x+(n.j.G.B.n.x*n.u[v].Ob.x+n.j.G.B.q.x*n.u[v].Ob.y),r=n.j.G.position.y+(n.j.G.B.n.y*n.u[v].Ob.x+n.j.G.B.q.y*n.u[v].Ob.y),q.k[v]=(p-t)*q.j.x+(r-u)*q.j.y-n.Z,q.qa[v].Set(p,r);q.j.x*=-1;q.j.y*=-1}q=Mh.j;for(n=0;n<f.H;n++)r=f.u[n],p=Mh.qa[n],A=Mh.k[n],t=p.x-k.m.D.x,u=p.y-k.m.D.y,v=p.x-e.m.D.x,p=p.y-e.m.D.y,b=b<A?b:
A,A=-r.Py*Sd(c*(A+.005),-.2,0),r=A*q.x,A*=q.y,k.m.D.x-=l*r,k.m.D.y-=l*A,k.m.R-=g*(t*A-u*r),eg(k),e.m.D.x+=m*r,e.m.D.y+=m*A,e.m.R+=h*(v*A-p*r),eg(e)}return-.0075<b}function yh(a,c){mh.call(this,a,c)}Bd(yh,mh);yh.prototype.Gc=function(a,c){mh.prototype.Gc.call(this,a,c)};yh.prototype.u=function(){};function wh(a,c){mh.call(this,a,c)}Bd(wh,mh);wh.prototype.Gc=function(a,c){mh.prototype.Gc.call(this,a,c)};
wh.prototype.u=function(){a:{var a=this.we,c=this.$b.nc,b=this.$b.gb().G,d=this.Pb.nc,f=this.Pb.gb().G;a.Qb=0;for(var k=f.position.x+(f.B.n.x*d.qb.x+f.B.q.x*d.qb.y)-b.position.x,e=f.position.y+(f.B.n.y*d.qb.x+f.B.q.y*d.qb.y)-b.position.y,f=k*b.B.n.x+e*b.B.n.y,b=k*b.B.q.x+e*b.B.q.y,k=0,e=-Number.MAX_VALUE,l=c.bb+d.bb,g=0;g<c.ib;++g){var m=c.yb[g].x*(f-c.T[g].x)+c.yb[g].y*(b-c.T[g].y);if(m>l)break a;m>e&&(e=m,k=g)}m=k+1;m>=c.ib&&(m=0);var g=c.T[k],h=c.T[m];e<Number.MIN_VALUE?(a.Qb=1,a.cb=2,a.Kc.P(c.yb[k]),
a.Aa.x=.5*(g.x+h.x),a.Aa.y=.5*(g.y+h.y),a.qa[0].Aa.P(d.qb),Ie(a.qa[0].Te,0)):0>=(f-g.x)*(h.x-g.x)+(b-g.y)*(h.y-g.y)?(f-g.x)*(f-g.x)+(b-g.y)*(b-g.y)>l*l||(a.Qb=1,a.cb=2,a.Kc.x=f-g.x,a.Kc.y=b-g.y,ye(a.Kc),a.Aa.P(g),a.qa[0].Aa.P(d.qb),Ie(a.qa[0].Te,0)):0>=(f-h.x)*(g.x-h.x)+(b-h.y)*(g.y-h.y)?(f-h.x)*(f-h.x)+(b-h.y)*(b-h.y)>l*l||(a.Qb=1,a.cb=2,a.Kc.x=f-h.x,a.Kc.y=b-h.y,ye(a.Kc),a.Aa.P(h),a.qa[0].Aa.P(d.qb),Ie(a.qa[0].Te,0)):(m=.5*(g.x+h.x),g=.5*(g.y+h.y),e=(f-m)*c.yb[k].x+(b-g)*c.yb[k].y,e>l||(a.Qb=1,
a.cb=2,a.Kc.x=c.yb[k].x,a.Kc.y=c.yb[k].y,ye(a.Kc),a.Aa.Set(m,g),a.qa[0].Aa.P(d.qb),Ie(a.qa[0].Te,0)))}};function zh(a,c){mh.call(this,a,c)}Bd(zh,mh);zh.prototype.Gc=function(a,c){mh.prototype.Gc.call(this,a,c)};zh.prototype.u=function(){};function xh(a,c){mh.call(this,a,c)}Bd(xh,mh);xh.prototype.Gc=function(a,c){mh.prototype.Gc.call(this,a,c)};
xh.prototype.u=function(){var a=this.we,c=this.$b.nc,b=this.$b.gb().G,d=this.Pb.nc,f=this.Pb.gb().G;a.Qb=0;var k=c.bb+d.bb,e=Ue(c,b,d,f),l=e.os;if(!(e.Yn>k)){var g=Ue(d,f,c,b);if(!(g.Yn>k)){var m=c,h=d,n=b,q=f,p=0;a.cb=2;g.Yn>.98*e.Yn+.001&&(m=d,h=c,n=f,q=b,l=g.os,a.cb=4,p=1);c=l;b=h;d=q;h=Rh;void 0===c&&(c=0);for(var e=n.B.n.x*m.yb[c].x+n.B.q.x*m.yb[c].y,g=n.B.n.y*m.yb[c].x+n.B.q.y*m.yb[c].y,f=d.B.n.x*e+d.B.n.y*g,g=d.B.q.x*e+d.B.q.y*g,e=f,f=0,r=Number.MAX_VALUE,t=0;t<b.ib;t++){var u=e*b.yb[t].x+
g*b.yb[t].y;u<r&&(r=u,f=t)}e=f+1;e>=b.ib&&(e=0);h[0].Ce.x=d.position.x+(d.B.n.x*b.T[f].x+d.B.q.x*b.T[f].y);h[0].Ce.y=d.position.y+(d.B.n.y*b.T[f].x+d.B.q.y*b.T[f].y);g=h[0].id;g.u=c;g.Vb=g.Vb&4294967040|g.u&255;g=h[0].id;g.j=f;g.Vb=g.Vb&4294902015|g.j<<8&65280;f=h[0].id;f.k=0;f.Vb=f.Vb&4278255615|f.k<<16&16711680;h[1].Ce.x=d.position.x+(d.B.n.x*b.T[e].x+d.B.q.x*b.T[e].y);h[1].Ce.y=d.position.y+(d.B.n.y*b.T[e].x+d.B.q.y*b.T[e].y);b=h[1].id;b.u=c;b.Vb=b.Vb&4294967040|b.u&255;c=h[1].id;c.j=e;c.Vb=c.Vb&
4294902015|c.j<<8&65280;c=h[1].id;c.k=1;c.Vb=c.Vb&4278255615|c.k<<16&16711680;c=m.T[l];l=l+1<m.ib?m.T[l+1]:m.T[0];Sh.Set(l.x-c.x,l.y-c.y);ye(Sh);Th.x=Sh.y;Th.y=-Sh.x;Uh.Set(.5*(c.x+l.x),.5*(c.y+l.y));Yh.x=n.B.n.x*Sh.x+n.B.q.x*Sh.y;Yh.y=n.B.n.y*Sh.x+n.B.q.y*Sh.y;Zh.x=-Yh.x;Zh.y=-Yh.y;$h.x=Yh.y;$h.y=-Yh.x;ai.x=n.position.x+(n.B.n.x*c.x+n.B.q.x*c.y);ai.y=n.position.y+(n.B.n.y*c.x+n.B.q.y*c.y);bi.x=n.position.x+(n.B.n.x*l.x+n.B.q.x*l.y);bi.y=n.position.y+(n.B.n.y*l.x+n.B.q.y*l.y);if(!(2>Se(ci,Rh,Zh,-Yh.x*
ai.x-Yh.y*ai.y+k)||2>Se(di,ci,Yh,Yh.x*bi.x+Yh.y*bi.y+k))){a.Kc.P(Th);a.Aa.P(Uh);n=$h.x*ai.x+$h.y*ai.y;for(m=l=0;2>m;++m)$h.x*di[m].Ce.x+$h.y*di[m].Ce.y-n<=k&&(c=di[m].Ce.x-q.position.x,h=di[m].Ce.y-q.position.y,a.qa[l].Aa.x=c*q.B.n.x+h*q.B.n.y,a.qa[l].Aa.y=c*q.B.q.x+h*q.B.q.y,a.qa[l].Te.Set(di[m].id),c=a.qa[l].Te,c.C=p,c.Vb=c.Vb&16777215|c.C<<24&4278190080,l++);a.Qb=l}}}};function ei(){this.H="Controller"+fi++;this.ge=null;this.j=new hg}ei.prototype.$g=function(){};
ei.prototype.dk=function(a){this.j.dk(a);a=a.ca;var c=this.H,b=a.k[c];if(null!=b){var d=b.j(),b=b.Oa();null==d?a.j=b:d.k(b);null==b||b.eg(d);delete a.k[c]}};ei.prototype.Yj=function(){for(var a=this.j.Za(ig);a;a=a.Oa())this.dk(a.body)};var fi=0;function gi(){ei.call(this);this.u=Z(0,-1);this.mh=this.offset=0;this.C=Z(0,0);this.k=null}Bd(gi,ei);
gi.prototype.$g=function(){this.k=this.ge.C.rc();for(var a=this.j.Za(og);a;a=a.Oa()){for(var c=a.body,b=Z(0,0),d=Z(0,0),f=0,k=0,e=c.u.Za();e;e=e.Oa()){var l=Z(0,0),g=e.Me.nc.Zl(this.u,this.offset,c.Wd(),l),f=f+g;b.x+=g*l.x;b.y+=g*l.y;var m=0,m=1,k=k+g*m;d.x+=g*l.x*m;d.y+=g*l.y*m}f<Number.MIN_VALUE||(b.x/=f,b.y/=f,d.x/=k,d.y/=k,k=this.k.Yg(),k.le(this.mh*f),c.Wg(k,d),k=Z(c.A.x-c.J*(b.y-c.m.D.y),c.A.y+c.J*(b.x-c.m.D.x)),k.as(this.C),k.le(-2*f),c.Wg(k,b),c.Co(-c.j/c.Y*f*c.J*1),ve(b),ve(d))}};
function hi(){ei.call(this);this.k=Z(0,0)}Bd(hi,ei);hi.prototype.$g=function(a){a=Z(this.k.x*a.Da,this.k.y*a.Da);for(var c=this.j.Za(og);c;c=c.Oa()){var b=c.body,d=b.A;Zf(b,Z(d.x+a.x,d.y+a.y))}ve(a)};function ii(){ei.call(this);this.k=Z(0,0)}Bd(ii,ei);ii.prototype.$g=function(){for(var a=this.j.Za(og);a;a=a.Oa()){var c=a.body;c.Wg(this.k,c.m.D)}};function Qf(){this.j=null;this.k={}}Qf.prototype.Za=function(){return this.j};function ji(){ei.call(this)}Bd(ji,ei);
ji.prototype.$g=function(){for(var a=null,c=null,b=0,d=null,f=null,k=0,e=0,l=0,k=null,g=this.j.Za(ig);g;g=g.Oa())for(var a=g.body,c=a.m.D,b=a.Y,m=this.j.Za(ig);m;m=m.Oa())if(d=m.body,a.fe||d.fe)f=d.m.D,k=f.x-c.x,e=f.y-c.y,l=k*k+e*e,l<Number.MIN_VALUE||(k=Z(k,e),k.le(1/l/Math.sqrt(l)*b*d.Y),a.fe&&a.Wg(k,c),k.le(-1),d.fe&&d.Wg(k,f),ve(k))};function ki(){ei.call(this);this.u=new Td;this.k=0}Bd(ki,ei);
ki.prototype.$g=function(a){a=a.Da;if(!(a<=Number.MIN_VALUE)){a>this.k&&0<this.k&&(a=this.k);for(var c=this.j.Za(og);c;c=c.Oa()){var b=c.body,d;d=Nd(this.u,Od(b.G.B,b.A));d=Nd(b.G.B,d);Zf(b,Z(b.A.x+d.x*a,b.A.y+d.y*a))}}};function li(a){this.Ad=new mi;this.Bd=new mi;this.Cf=Z(0,0);this.Df=Z(0,0);this.cb=a.type;this.yh=this.Aj=null;this.aa=a.j;this.ba=a.k;this.Zt=a.O}y=li.prototype;y.Pc=function(){return this.cb};y.Ph=function(){return this.aa.Ph()&&this.ba.Ph()};y.zf=function(){};y.Bf=function(){};
y.Af=function(){return!1};function ni(){this.type=0;this.k=this.j=null;this.O=!1}function mi(){}function oi(a){li.call(this,a);this.ma=Z(0,0);this.na=Z(0,0);this.j=Z(0,0);this.ma.P(a.L);this.na.P(a.Z);this.H=a.length;this.C=a.H;this.L=a.C;this.O=this.u=this.k=0}Bd(oi,li);
oi.prototype.zf=function(a){var c,b=0,d=this.aa,f=this.ba;c=d.G.B;var k=this.ma.x-d.m.S.x,e=this.ma.y-d.m.S.y,b=c.n.x*k+c.q.x*e,e=c.n.y*k+c.q.y*e,k=b;c=f.G.B;var l=this.na.x-f.m.S.x,g=this.na.y-f.m.S.y,b=c.n.x*l+c.q.x*g,g=c.n.y*l+c.q.y*g,l=b;this.j.x=f.m.D.x+l-d.m.D.x-k;this.j.y=f.m.D.y+g-d.m.D.y-e;b=Math.sqrt(this.j.x*this.j.x+this.j.y*this.j.y);.005<b?this.j.le(1/b):this.j.wa();c=k*this.j.y-e*this.j.x;var m=l*this.j.y-g*this.j.x;c=d.N+d.X*c*c+f.N+f.X*m*m;this.Y=0!=c?1/c:0;if(0<this.C){var b=b-this.H,
m=2*Math.PI*this.C,h=this.Y*m*m;this.u=a.Da*(2*this.Y*this.L*m+a.Da*h);this.u=0!=this.u?1/this.u:0;this.O=b*a.Da*h*this.u;this.Y=c+this.u;this.Y=0!=this.Y?1/this.Y:0}a.Sg?(this.k*=a.jc,a=this.k*this.j.x,c=this.k*this.j.y,d.A.x-=d.N*a,d.A.y-=d.N*c,d.J-=d.X*(k*c-e*a),f.A.x+=f.N*a,f.A.y+=f.N*c,f.J+=f.X*(l*c-g*a)):this.k=0};
oi.prototype.Bf=function(){var a=this.ma.x-this.aa.m.S.x,c=this.ma.y-this.aa.m.S.y,b=this.aa.G.B.n.x*a+this.aa.G.B.q.x*c,c=this.aa.G.B.n.y*a+this.aa.G.B.q.y*c,a=b,d=this.na.x-this.ba.m.S.x,f=this.na.y-this.ba.m.S.y,b=this.ba.G.B.n.x*d+this.ba.G.B.q.x*f,f=this.ba.G.B.n.y*d+this.ba.G.B.q.y*f,d=b,k=-this.Y*(this.j.x*(this.ba.A.x-this.ba.J*f-(this.aa.A.x-this.aa.J*c))+this.j.y*(this.ba.A.y+this.ba.J*d-(this.aa.A.y+this.aa.J*a))+this.O+this.u*this.k);this.k+=k;b=k*this.j.x;k*=this.j.y;this.aa.A.x-=this.aa.N*
b;this.aa.A.y-=this.aa.N*k;this.aa.J-=this.aa.X*(a*k-c*b);this.ba.A.x+=this.ba.N*b;this.ba.A.y+=this.ba.N*k;this.ba.J+=this.ba.X*(d*k-f*b)};
oi.prototype.Af=function(){if(0<this.C)return!0;var a=this.ma.x-this.aa.m.S.x,c=this.ma.y-this.aa.m.S.y,b=this.aa.G.B.n.x*a+this.aa.G.B.q.x*c,c=this.aa.G.B.n.y*a+this.aa.G.B.q.y*c,a=b,d=this.na.x-this.ba.m.S.x,f=this.na.y-this.ba.m.S.y,b=this.ba.G.B.n.x*d+this.ba.G.B.q.x*f,f=this.ba.G.B.n.y*d+this.ba.G.B.q.y*f,d=b,k=this.ba.m.D.x+d-this.aa.m.D.x-a,e=this.ba.m.D.y+f-this.aa.m.D.y-c,l=Math.sqrt(k*k+e*e),b=Sd(l-this.H,-.2,.2),g=-this.Y*b;this.j.Set(k/l,e/l);k=g*this.j.x;g*=this.j.y;this.aa.m.D.x-=this.aa.N*
k;this.aa.m.D.y-=this.aa.N*g;this.aa.m.R-=this.aa.X*(a*g-c*k);this.ba.m.D.x+=this.ba.N*k;this.ba.m.D.y+=this.ba.N*g;this.ba.m.R+=this.ba.X*(d*g-f*k);eg(this.aa);eg(this.ba);return.005>Math.abs(b)};function pi(){ni.call(this);this.L=Z(0,0);this.Z=Z(0,0);this.type=3;this.length=1;this.C=this.H=0}Bd(pi,ni);pi.prototype.u=function(){return new oi(this)};
function qi(a){li.call(this,a);this.u=Z(0,0);this.C=Z(0,0);this.O=new Td;this.j=Z(0,0);this.u.P(a.C);this.C.P(a.H);this.O.wa();this.H=0;this.j.wa();this.k=0;this.L=a.L;this.Z=a.Z}Bd(qi,li);
qi.prototype.zf=function(a){var c,b=0,d=this.aa,f=this.ba;c=d.G.B;var k=this.u.x-d.m.S.x,e=this.u.y-d.m.S.y,b=c.n.x*k+c.q.x*e,e=c.n.y*k+c.q.y*e,k=b;c=f.G.B;var l=this.C.x-f.m.S.x,g=this.C.y-f.m.S.y,b=c.n.x*l+c.q.x*g,g=c.n.y*l+c.q.y*g,l=b;c=d.N;var b=f.N,m=d.X,h=f.X,n=new Td;n.n.x=c+b;n.q.x=0;n.n.y=0;n.q.y=c+b;n.n.x+=m*e*e;n.q.x+=-m*k*e;n.n.y+=-m*k*e;n.q.y+=m*k*k;n.n.x+=h*g*g;n.q.x+=-h*l*g;n.n.y+=-h*l*g;n.q.y+=h*l*l;Wd(n,this.O);this.H=m+h;0<this.H&&(this.H=1/this.H);a.Sg?(this.j.x*=a.jc,this.j.y*=
a.jc,this.k*=a.jc,a=this.j,d.A.x-=c*a.x,d.A.y-=c*a.y,d.J-=m*(k*a.y-e*a.x+this.k),f.A.x+=b*a.x,f.A.y+=b*a.y,f.J+=h*(l*a.y-g*a.x+this.k)):(this.j.wa(),this.k=0)};
qi.prototype.Bf=function(a){var c,b=0,d=this.aa,f=this.ba,k=d.A,e=d.J,l=f.A,g=f.J,m=d.N,h=f.N,n=d.X,q=f.X;c=d.G.B;var p=this.u.x-d.m.S.x,r=this.u.y-d.m.S.y,b=c.n.x*p+c.q.x*r,r=c.n.y*p+c.q.y*r,p=b;c=f.G.B;var t=this.C.x-f.m.S.x,u=this.C.y-f.m.S.y,b=c.n.x*t+c.q.x*u,u=c.n.y*t+c.q.y*u,t=b;c=0;var b=-this.H*(g-e),v=this.k;c=a.Da*this.Z;this.k=Sd(this.k+b,-c,c);b=this.k-v;e-=n*b;g+=q*b;c=Nd(this.O,Z(-(l.x-g*u-k.x+e*r),-(l.y+g*t-k.y-e*p)));b=this.j.rc();this.j.yf(c);c=a.Da*this.L;xe(this.j)>c*c&&(ye(this.j),
this.j.le(c));c=Rd(this.j,b);k.x-=m*c.x;k.y-=m*c.y;e-=n*(p*c.y-r*c.x);l.x+=h*c.x;l.y+=h*c.y;g+=q*(t*c.y-u*c.x);d.J=e;f.J=g};qi.prototype.Af=function(){return!0};function ri(){ni.call(this);this.C=Z(0,0);this.H=Z(0,0);this.type=9;this.Z=this.L=0}Bd(ri,ni);ri.prototype.u=function(){return new qi(this)};
function si(a){li.call(this,a);this.Z=Z(0,0);this.fa=Z(0,0);this.ma=Z(0,0);this.na=Z(0,0);this.j=new ti;var c=a.C.cb,b=a.H.cb;this.L=this.H=this.O=this.C=null;var d=0,f=0;this.Ia=a.C.aa;this.aa=a.C.ba;1==c?(this.C=a.C,this.Z.P(this.C.ma),this.ma.P(this.C.na),d=ui(this.C)):(this.O=a.C,this.Z.P(this.O.ma),this.ma.P(this.O.na),d=this.O.bk());this.Na=a.H.aa;this.ba=a.H.ba;1==b?(this.H=a.H,this.fa.P(this.H.ma),this.na.P(this.H.na),f=ui(this.H)):(this.L=a.H,this.fa.P(this.L.ma),this.na.P(this.L.na),f=this.L.bk());
this.k=a.Hg;this.ca=d+this.k*f;this.u=0}Bd(si,li);
si.prototype.zf=function(a){var c=this.Ia,b=this.Na,d=this.aa,f=this.ba,k=0,e=0,l=0,g=0,m=l=0,h=0;this.j.wa();this.C?(this.j.u=-1,h+=d.X):(c=c.G.B,e=this.O.Ld,k=c.n.x*e.x+c.q.x*e.y,e=c.n.y*e.x+c.q.y*e.y,c=d.G.B,l=this.ma.x-d.m.S.x,g=this.ma.y-d.m.S.y,m=c.n.x*l+c.q.x*g,g=c.n.y*l+c.q.y*g,l=m*e-g*k,this.j.j.Set(-k,-e),this.j.u=-l,h+=d.N+d.X*l*l);this.H?(this.j.C=-this.k,h+=this.k*this.k*f.X):(c=b.G.B,e=this.L.Ld,k=c.n.x*e.x+c.q.x*e.y,e=c.n.y*e.x+c.q.y*e.y,c=f.G.B,l=this.na.x-f.m.S.x,g=this.na.y-f.m.S.y,
m=c.n.x*l+c.q.x*g,g=c.n.y*l+c.q.y*g,l=m*e-g*k,this.j.k.Set(-this.k*k,-this.k*e),this.j.C=-this.k*l,h+=this.k*this.k*(f.N+f.X*l*l));this.Y=0<h?1/h:0;a.Sg?(d.A.x+=d.N*this.u*this.j.j.x,d.A.y+=d.N*this.u*this.j.j.y,d.J+=d.X*this.u*this.j.u,f.A.x+=f.N*this.u*this.j.k.x,f.A.y+=f.N*this.u*this.j.k.y,f.J+=f.X*this.u*this.j.C):this.u=0};
si.prototype.Bf=function(){var a=this.aa,c=this.ba,b=this.j,d=a.A,f=a.J,k=c.A,e=c.J;void 0===f&&(f=0);void 0===e&&(e=0);b=-this.Y*(b.j.x*d.x+b.j.y*d.y+b.u*f+(b.k.x*k.x+b.k.y*k.y)+b.C*e);this.u+=b;a.A.x+=a.N*b*this.j.j.x;a.A.y+=a.N*b*this.j.j.y;a.J+=a.X*b*this.j.u;c.A.x+=c.N*b*this.j.k.x;c.A.y+=c.N*b*this.j.k.y;c.J+=c.X*b*this.j.C};
si.prototype.Af=function(){var a=this.aa,c=this.ba,b=0,d=0;this.C?b=ui(this.C):b=this.O.bk();this.H?d=ui(this.H):d=this.L.bk();b=-this.Y*(this.ca-(b+this.k*d));a.m.D.x+=a.N*b*this.j.j.x;a.m.D.y+=a.N*b*this.j.j.y;a.m.R+=a.X*b*this.j.u;c.m.D.x+=c.N*b*this.j.k.x;c.m.D.y+=c.N*b*this.j.k.y;c.m.R+=c.X*b*this.j.C;eg(a);eg(c);return!0};function vi(){ni.call(this);this.type=6;this.H=this.C=null;this.Hg=1}Bd(vi,ni);vi.prototype.u=function(){return new si(this)};function ti(){this.j=Z(0,0);this.k=Z(0,0)}
ti.prototype.wa=function(){this.j.wa();this.u=0;this.k.wa();this.C=0};ti.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.j.P(a);this.u=c;this.k.P(b);this.C=d};
function xi(a){li.call(this,a);this.ma=Z(0,0);this.na=Z(0,0);this.Ld=Z(0,0);this.Xd=Z(0,0);this.k=Z(0,0);this.L=Z(0,0);this.ca=new Td;this.j=Z(0,0);this.ma.P(a.Z);this.na.P(a.fa);this.Ld.P(a.C);this.Xd.x=-this.Ld.y;this.Xd.y=this.Ld.x;this.j.wa();this.Pa=this.xb=0;this.sc=a.ca;this.Qc=a.xb;this.Ko=a.Ia;this.Lo=a.Na;this.Qh=a.H;this.ek=a.L;this.hb=0;this.k.wa();this.L.wa()}Bd(xi,li);
xi.prototype.bk=function(){var a=this.aa,c=this.ba,b=ag(a,this.ma),d=ag(c,this.na),c=d.x-b.x,b=d.y-b.y,a=Nd(a.G.B,this.Ld);return a.x*c+a.y*b};
xi.prototype.zf=function(a){var c=this.aa,b=this.ba,d,f=0;this.Cf.P(c.m.S);this.Df.P(b.m.S);var k=c.Wd();b.Wd();d=c.G.B;var e=this.ma.x-this.Cf.x,l=this.ma.y-this.Cf.y,f=d.n.x*e+d.q.x*l,l=d.n.y*e+d.q.y*l,e=f;d=b.G.B;var g=this.na.x-this.Df.x,m=this.na.y-this.Df.y,f=d.n.x*g+d.q.x*m,m=d.n.y*g+d.q.y*m,g=f;d=b.m.D.x+g-c.m.D.x-e;f=b.m.D.y+m-c.m.D.y-l;this.Z=c.N;this.fa=b.N;this.Ia=c.X;this.Na=b.X;this.k.P(Nd(k.B,this.Ld));this.u=(d+e)*this.k.y-(f+l)*this.k.x;this.C=g*this.k.y-m*this.k.x;this.xb=this.Z+
this.fa+this.Ia*this.u*this.u+this.Na*this.C*this.C;this.xb=this.xb>Number.MIN_VALUE?1/this.xb:0;this.L.P(Nd(k.B,this.Xd));this.H=(d+e)*this.L.y-(f+l)*this.L.x;this.O=g*this.L.y-m*this.L.x;k=this.Z;e=this.fa;l=this.Ia;g=this.Na;this.ca.n.x=k+e+l*this.H*this.H+g*this.O*this.O;this.ca.n.y=l*this.H*this.u+g*this.O*this.C;this.ca.q.x=this.ca.n.y;this.ca.q.y=k+e+l*this.u*this.u+g*this.C*this.C;this.Qh?(d=this.k.x*d+this.k.y*f,.01>Math.abs(this.Qc-this.sc)?this.hb=3:d<=this.sc?1!=this.hb&&(this.hb=1,this.j.y=
0):d>=this.Qc?2!=this.hb&&(this.hb=2,this.j.y=0):(this.hb=0,this.j.y=0)):this.hb=0;0==this.ek&&(this.Pa=0);a.Sg?(this.j.x*=a.jc,this.j.y*=a.jc,this.Pa*=a.jc,a=this.j.x*this.L.x+(this.Pa+this.j.y)*this.k.x,d=this.j.x*this.L.y+(this.Pa+this.j.y)*this.k.y,f=this.j.x*this.H+(this.Pa+this.j.y)*this.u,k=this.j.x*this.O+(this.Pa+this.j.y)*this.C,c.A.x-=this.Z*a,c.A.y-=this.Z*d,c.J-=this.Ia*f,b.A.x+=this.fa*a,b.A.y+=this.fa*d,b.J+=this.Na*k):(this.j.wa(),this.Pa=0)};
xi.prototype.Bf=function(a){var c=this.aa,b=this.ba,d=c.A,f=c.J,k=b.A,e=b.J,l=0,g=0,m=0,h=0;this.ek&&3!=this.hb&&(h=this.xb*(this.Lo-(this.k.x*(k.x-d.x)+this.k.y*(k.y-d.y)+this.C*e-this.u*f)),l=this.Pa,g=a.Da*this.Ko,this.Pa=Sd(this.Pa+h,-g,g),h=this.Pa-l,l=h*this.k.x,g=h*this.k.y,m=h*this.u,h*=this.C,d.x-=this.Z*l,d.y-=this.Z*g,f-=this.Ia*m,k.x+=this.fa*l,k.y+=this.fa*g,e+=this.Na*h);g=this.L.x*(k.x-d.x)+this.L.y*(k.y-d.y)+this.O*e-this.H*f;this.Qh&&0!=this.hb?(m=this.k.x*(k.x-d.x)+this.k.y*(k.y-
d.y)+this.C*e-this.u*f,l=this.j.rc(),a=Xd(this.ca,Z(0,0),-g,-m),this.j.yf(a),1==this.hb?this.j.y=Math.max(this.j.y,0):2==this.hb&&(this.j.y=Math.min(this.j.y,0)),g=-g-(this.j.y-l.y)*this.ca.q.x,m=0,m=0!=this.ca.n.x?g/this.ca.n.x+l.x:l.x,this.j.x=m,a.x=this.j.x-l.x,a.y=this.j.y-l.y,l=a.x*this.L.x+a.y*this.k.x,g=a.x*this.L.y+a.y*this.k.y,m=a.x*this.H+a.y*this.u,h=a.x*this.O+a.y*this.C):(a=0,a=0!=this.ca.n.x?-g/this.ca.n.x:0,this.j.x+=a,l=a*this.L.x,g=a*this.L.y,m=a*this.H,h=a*this.O);d.x-=this.Z*l;
d.y-=this.Z*g;f-=this.Ia*m;k.x+=this.fa*l;k.y+=this.fa*g;e+=this.Na*h;c.A.P(d);c.J=f;b.A.P(k);b.J=e};
xi.prototype.Af=function(){var a=this.aa,c=this.ba,b=a.m.D,d=a.m.R,f=c.m.D,k=c.m.R,e,l=0,g=0,m=0,h=0,n=e=0,q=0,g=!1,p=0,r=Ud(d),m=Ud(k);e=r;var q=this.ma.x-this.Cf.x,t=this.ma.y-this.Cf.y,l=e.n.x*q+e.q.x*t,t=e.n.y*q+e.q.y*t,q=l;e=m;m=this.na.x-this.Df.x;h=this.na.y-this.Df.y;l=e.n.x*m+e.q.x*h;h=e.n.y*m+e.q.y*h;m=l;e=f.x+m-b.x-q;l=f.y+h-b.y-t;if(this.Qh){this.k=Nd(r,this.Ld);this.u=(e+q)*this.k.y-(l+t)*this.k.x;this.C=m*this.k.y-h*this.k.x;var u=this.k.x*e+this.k.y*l;.01>Math.abs(this.Qc-this.sc)?
(p=Sd(u,-.2,.2),n=Math.abs(u),g=!0):u<=this.sc?(p=Sd(u-this.sc+.005,-.2,0),n=this.sc-u,g=!0):u>=this.Qc&&(p=Sd(u-this.Qc+.005,0,.2),n=u-this.Qc,g=!0)}this.L=Nd(r,this.Xd);this.H=(e+q)*this.L.y-(l+t)*this.L.x;this.O=m*this.L.y-h*this.L.x;r=Z(0,0);t=this.L.x*e+this.L.y*l;n=Math.max(n,Math.abs(t));q=0;g?(g=this.Z,m=this.fa,h=this.Ia,e=this.Na,this.ca.n.x=g+m+h*this.H*this.H+e*this.O*this.O,this.ca.n.y=h*this.H*this.u+e*this.O*this.C,this.ca.q.x=this.ca.n.y,this.ca.q.y=g+m+h*this.u*this.u+e*this.C*this.C,
Xd(this.ca,r,-t,-p)):(g=this.Z,m=this.fa,h=this.Ia,e=this.Na,p=g+m+h*this.H*this.H+e*this.O*this.O,r.x=0!=p?-t/p:0,r.y=0);p=r.x*this.L.x+r.y*this.k.x;g=r.x*this.L.y+r.y*this.k.y;t=r.x*this.H+r.y*this.u;r=r.x*this.O+r.y*this.C;b.x-=this.Z*p;b.y-=this.Z*g;d-=this.Ia*t;f.x+=this.fa*p;f.y+=this.fa*g;k+=this.Na*r;a.m.R=d;c.m.R=k;eg(a);eg(c);return.005>=n&&q<=Cd};
function yi(){ni.call(this);this.Z=Z(0,0);this.fa=Z(0,0);this.C=Z(0,0);this.type=7;this.C.Set(1,0);this.H=!1;this.xb=this.ca=0;this.L=!1;this.Na=this.Ia=0}Bd(yi,ni);yi.prototype.u=function(){return new xi(this)};
function zi(a){li.call(this,a);this.ma=Z(0,0);this.na=Z(0,0);this.Ld=Z(0,0);this.Xd=Z(0,0);this.L=Z(0,0);this.ca=Z(0,0);this.k=new Yd;this.j=new Zd(0,0,0);this.ma.P(a.Z);this.na.P(a.fa);this.Ld.P(a.C);this.Xd.x=-this.Ld.y;this.Xd.y=this.Ld.x;this.Bx=a.xb;this.j.wa();this.Pa=this.xb=0;this.sc=a.ca;this.Qc=a.Pa;this.Ko=a.Ia;this.Lo=a.Na;this.Qh=a.H;this.ek=a.L;this.hb=0;this.L.wa();this.ca.wa()}Bd(zi,li);
zi.prototype.bk=function(){var a=this.aa,c=this.ba,b=ag(a,this.ma),d=ag(c,this.na),c=d.x-b.x,b=d.y-b.y,a=Nd(a.G.B,this.Ld);return a.x*c+a.y*b};
zi.prototype.zf=function(a){var c=this.aa,b=this.ba,d,f=0;this.Cf.P(c.m.S);this.Df.P(b.m.S);var k=c.Wd();b.Wd();d=c.G.B;var e=this.ma.x-this.Cf.x,l=this.ma.y-this.Cf.y,f=d.n.x*e+d.q.x*l,l=d.n.y*e+d.q.y*l,e=f;d=b.G.B;var g=this.na.x-this.Df.x,m=this.na.y-this.Df.y,f=d.n.x*g+d.q.x*m,m=d.n.y*g+d.q.y*m,g=f;d=b.m.D.x+g-c.m.D.x-e;f=b.m.D.y+m-c.m.D.y-l;this.Z=c.N;this.fa=b.N;this.Ia=c.X;this.Na=b.X;this.L.P(Nd(k.B,this.Ld));this.u=(d+e)*this.L.y-(f+l)*this.L.x;this.C=g*this.L.y-m*this.L.x;this.xb=this.Z+
this.fa+this.Ia*this.u*this.u+this.Na*this.C*this.C;this.xb>Number.MIN_VALUE&&(this.xb=1/this.xb);this.ca.P(Nd(k.B,this.Xd));this.H=(d+e)*this.ca.y-(f+l)*this.ca.x;this.O=g*this.ca.y-m*this.ca.x;k=this.Z;e=this.fa;l=this.Ia;g=this.Na;this.k.n.x=k+e+l*this.H*this.H+g*this.O*this.O;this.k.n.y=l*this.H+g*this.O;this.k.n.z=l*this.H*this.u+g*this.O*this.C;this.k.q.x=this.k.n.y;this.k.q.y=l+g;this.k.q.z=l*this.u+g*this.C;this.k.j.x=this.k.n.z;this.k.j.y=this.k.q.z;this.k.j.z=k+e+l*this.u*this.u+g*this.C*
this.C;this.Qh?(d=this.L.x*d+this.L.y*f,.01>Math.abs(this.Qc-this.sc)?this.hb=3:d<=this.sc?1!=this.hb&&(this.hb=1,this.j.z=0):d>=this.Qc?2!=this.hb&&(this.hb=2,this.j.z=0):(this.hb=0,this.j.z=0)):this.hb=0;0==this.ek&&(this.Pa=0);a.Sg?(this.j.x*=a.jc,this.j.y*=a.jc,this.Pa*=a.jc,a=this.j.x*this.ca.x+(this.Pa+this.j.z)*this.L.x,d=this.j.x*this.ca.y+(this.Pa+this.j.z)*this.L.y,f=this.j.x*this.H+this.j.y+(this.Pa+this.j.z)*this.u,k=this.j.x*this.O+this.j.y+(this.Pa+this.j.z)*this.C,c.A.x-=this.Z*a,c.A.y-=
this.Z*d,c.J-=this.Ia*f,b.A.x+=this.fa*a,b.A.y+=this.fa*d,b.J+=this.Na*k):(this.j.wa(),this.Pa=0)};
zi.prototype.Bf=function(a){var c=this.aa,b=this.ba,d=c.A,f=c.J,k=b.A,e=b.J,l=0,g=0,m=0,h=0;this.ek&&3!=this.hb&&(h=this.xb*(this.Lo-(this.L.x*(k.x-d.x)+this.L.y*(k.y-d.y)+this.C*e-this.u*f)),l=this.Pa,a=a.Da*this.Ko,this.Pa=Sd(this.Pa+h,-a,a),h=this.Pa-l,l=h*this.L.x,g=h*this.L.y,m=h*this.u,h*=this.C,d.x-=this.Z*l,d.y-=this.Z*g,f-=this.Ia*m,k.x+=this.fa*l,k.y+=this.fa*g,e+=this.Na*h);m=this.ca.x*(k.x-d.x)+this.ca.y*(k.y-d.y)+this.O*e-this.H*f;g=e-f;this.Qh&&0!=this.hb?(a=this.L.x*(k.x-d.x)+this.L.y*
(k.y-d.y)+this.C*e-this.u*f,l=this.j.rc(),a=qe(this.k,new Zd(0,0,0),-m,-g,-a),this.j.yf(a),1==this.hb?this.j.z=Math.max(this.j.z,0):2==this.hb&&(this.j.z=Math.min(this.j.z,0)),m=-m-(this.j.z-l.z)*this.k.j.x,g=-g-(this.j.z-l.z)*this.k.j.y,g=pe(this.k,Z(0,0),m,g),g.x+=l.x,g.y+=l.y,this.j.x=g.x,this.j.y=g.y,a.x=this.j.x-l.x,a.y=this.j.y-l.y,a.z=this.j.z-l.z,l=a.x*this.ca.x+a.z*this.L.x,g=a.x*this.ca.y+a.z*this.L.y,m=a.x*this.H+a.y+a.z*this.u,h=a.x*this.O+a.y+a.z*this.C,d.x-=this.Z*l,d.y-=this.Z*g,f-=
this.Ia*m,k.x+=this.fa*l,k.y+=this.fa*g,e+=this.Na*h):(a=pe(this.k,Z(0,0),-m,-g),this.j.x+=a.x,this.j.y+=a.y,l=a.x*this.ca.x,g=a.x*this.ca.y,m=a.x*this.H+a.y,h=a.x*this.O+a.y,d.x-=this.Z*l,d.y-=this.Z*g,f-=this.Ia*m,k.x+=this.fa*l,k.y+=this.fa*g,e+=this.Na*h);c.A.P(d);c.J=f;b.A.P(k);b.J=e};
zi.prototype.Af=function(){var a=this.aa,c=this.ba,b=a.m.D,d=a.m.R,f=c.m.D,k=c.m.R,e,l=0,g=0,m=0,h=l=e=0,n=0,g=!1,q=0,p=Ud(d),r=Ud(k);e=p;var n=this.ma.x-this.Cf.x,t=this.ma.y-this.Cf.y,l=e.n.x*n+e.q.x*t,t=e.n.y*n+e.q.y*t,n=l;e=r;r=this.na.x-this.Df.x;m=this.na.y-this.Df.y;l=e.n.x*r+e.q.x*m;m=e.n.y*r+e.q.y*m;r=l;e=f.x+r-b.x-n;l=f.y+m-b.y-t;if(this.Qh){this.L=Nd(p,this.Ld);this.u=(e+n)*this.L.y-(l+t)*this.L.x;this.C=r*this.L.y-m*this.L.x;var u=this.L.x*e+this.L.y*l;.01>Math.abs(this.Qc-this.sc)?(q=
Sd(u,-.2,.2),h=Math.abs(u),g=!0):u<=this.sc?(q=Sd(u-this.sc+.005,-.2,0),h=this.sc-u,g=!0):u>=this.Qc&&(q=Sd(u-this.Qc+.005,0,.2),h=u-this.Qc,g=!0)}this.ca=Nd(p,this.Xd);this.H=(e+n)*this.ca.y-(l+t)*this.ca.x;this.O=r*this.ca.y-m*this.ca.x;p=new Zd(0,0,0);t=this.ca.x*e+this.ca.y*l;r=k-d-this.Bx;h=Math.max(h,Math.abs(t));n=Math.abs(r);g?(g=this.Z,m=this.fa,e=this.Ia,l=this.Na,this.k.n.x=g+m+e*this.H*this.H+l*this.O*this.O,this.k.n.y=e*this.H+l*this.O,this.k.n.z=e*this.H*this.u+l*this.O*this.C,this.k.q.x=
this.k.n.y,this.k.q.y=e+l,this.k.q.z=e*this.u+l*this.C,this.k.j.x=this.k.n.z,this.k.j.y=this.k.q.z,this.k.j.z=g+m+e*this.u*this.u+l*this.C*this.C,qe(this.k,p,-t,-r,-q)):(g=this.Z,m=this.fa,e=this.Ia,l=this.Na,q=e*this.H+l*this.O,u=e+l,this.k.n.Set(g+m+e*this.H*this.H+l*this.O*this.O,q,0),this.k.q.Set(q,u,0),q=pe(this.k,Z(0,0),-t,-r),p.x=q.x,p.y=q.y,p.z=0);q=p.x*this.ca.x+p.z*this.L.x;g=p.x*this.ca.y+p.z*this.L.y;t=p.x*this.H+p.y+p.z*this.u;p=p.x*this.O+p.y+p.z*this.C;b.x-=this.Z*q;b.y-=this.Z*g;d-=
this.Ia*t;f.x+=this.fa*q;f.y+=this.fa*g;k+=this.Na*p;a.m.R=d;c.m.R=k;eg(a);eg(c);return.005>=h&&n<=Cd};function Ai(){ni.call(this);this.Z=Z(0,0);this.fa=Z(0,0);this.C=Z(0,0);this.type=2;this.C.Set(1,0);this.xb=0;this.H=!1;this.Pa=this.ca=0;this.L=!1;this.Na=this.Ia=0}Bd(Ai,ni);Ai.prototype.u=function(){return new zi(this)};
function Bi(a){li.call(this,a);this.Z=Z(0,0);this.fa=Z(0,0);this.ma=Z(0,0);this.na=Z(0,0);this.j=Z(0,0);this.k=Z(0,0);this.H=this.aa.ge.HA;this.Z.x=a.C.x-this.H.G.position.x;this.Z.y=a.C.y-this.H.G.position.y;this.fa.x=a.H.x-this.H.G.position.x;this.fa.y=a.H.y-this.H.G.position.y;this.ma.P(a.L);this.na.P(a.Z);this.u=a.Hg;this.Na=0+0*this.u;this.Qc=Math.min(0,this.Na-this.u*Ci);this.Xd=Math.min(0,(this.Na-Ci)/this.u);this.L=this.O=this.C=0}Bd(Bi,li);
Bi.prototype.zf=function(a){var c=this.aa,b=this.ba,d;d=c.G.B;var f=this.ma.x-c.m.S.x,k=this.ma.y-c.m.S.y,e=d.n.x*f+d.q.x*k,k=d.n.y*f+d.q.y*k,f=e;d=b.G.B;var l=this.na.x-b.m.S.x,g=this.na.y-b.m.S.y,e=d.n.x*l+d.q.x*g,g=d.n.y*l+d.q.y*g,l=e;d=b.m.D.x+l;var e=b.m.D.y+g,m=this.H.G.position.x+this.fa.x,h=this.H.G.position.y+this.fa.y;this.j.Set(c.m.D.x+f-(this.H.G.position.x+this.Z.x),c.m.D.y+k-(this.H.G.position.y+this.Z.y));this.k.Set(d-m,e-h);d=we(this.j);e=we(this.k);.005<d?this.j.le(1/d):this.j.wa();
.005<e?this.k.le(1/e):this.k.wa();0<this.Na-d-this.u*e?this.C=this.sc=0:this.sc=2;d<this.Qc?this.O=this.Pa=0:this.Pa=2;e<this.Xd?this.L=this.hb=0:this.hb=2;d=f*this.j.y-k*this.j.x;e=l*this.k.y-g*this.k.x;this.ca=c.N+c.X*d*d;this.Ia=b.N+b.X*e*e;this.xb=this.ca+this.u*this.u*this.Ia;this.ca=1/this.ca;this.Ia=1/this.Ia;this.xb=1/this.xb;a.Sg?(this.C*=a.jc,this.O*=a.jc,this.L*=a.jc,a=(-this.C-this.O)*this.j.x,d=(-this.C-this.O)*this.j.y,e=(-this.u*this.C-this.L)*this.k.x,m=(-this.u*this.C-this.L)*this.k.y,
c.A.x+=c.N*a,c.A.y+=c.N*d,c.J+=c.X*(f*d-k*a),b.A.x+=b.N*e,b.A.y+=b.N*m,b.J+=b.X*(l*m-g*e)):this.L=this.O=this.C=0};
Bi.prototype.Bf=function(){var a=this.aa,c=this.ba,b;b=a.G.B;var d=this.ma.x-a.m.S.x,f=this.ma.y-a.m.S.y,k=b.n.x*d+b.q.x*f,f=b.n.y*d+b.q.y*f,d=k;b=c.G.B;var e=this.na.x-c.m.S.x,l=this.na.y-c.m.S.y,k=b.n.x*e+b.q.x*l,l=b.n.y*e+b.q.y*l,e=k,g=k=b=0,m=0;b=m=b=m=g=k=b=0;2==this.sc&&(b=a.A.x+-a.J*f,k=a.A.y+a.J*d,g=c.A.x+-c.J*l,m=c.A.y+c.J*e,b=-(this.j.x*b+this.j.y*k)-this.u*(this.k.x*g+this.k.y*m),m=this.xb*-b,b=this.C,this.C=Math.max(0,this.C+m),m=this.C-b,b=-m*this.j.x,k=-m*this.j.y,g=-this.u*m*this.k.x,
m=-this.u*m*this.k.y,a.A.x+=a.N*b,a.A.y+=a.N*k,a.J+=a.X*(d*k-f*b),c.A.x+=c.N*g,c.A.y+=c.N*m,c.J+=c.X*(e*m-l*g));2==this.Pa&&(b=a.A.x+-a.J*f,k=a.A.y+a.J*d,b=-(this.j.x*b+this.j.y*k),m=-this.ca*b,b=this.O,this.O=Math.max(0,this.O+m),m=this.O-b,b=-m*this.j.x,k=-m*this.j.y,a.A.x+=a.N*b,a.A.y+=a.N*k,a.J+=a.X*(d*k-f*b));2==this.hb&&(g=c.A.x+-c.J*l,m=c.A.y+c.J*e,b=-(this.k.x*g+this.k.y*m),m=-this.Ia*b,b=this.L,this.L=Math.max(0,this.L+m),m=this.L-b,g=-m*this.k.x,m=-m*this.k.y,c.A.x+=c.N*g,c.A.y+=c.N*m,c.J+=
c.X*(e*m-l*g))};
Bi.prototype.Af=function(){var a=this.aa,c=this.ba,b,d=this.H.G.position.x+this.Z.x,f=this.H.G.position.y+this.Z.y,k=this.H.G.position.x+this.fa.x,e=this.H.G.position.y+this.fa.y,l=0,g=0,m=0,h=0,n=b=0,q=0,p=0,r=n=p=b=n=b=0;2==this.sc&&(b=a.G.B,l=this.ma.x-a.m.S.x,g=this.ma.y-a.m.S.y,n=b.n.x*l+b.q.x*g,g=b.n.y*l+b.q.y*g,l=n,b=c.G.B,m=this.na.x-c.m.S.x,h=this.na.y-c.m.S.y,n=b.n.x*m+b.q.x*h,h=b.n.y*m+b.q.y*h,m=n,b=a.m.D.x+l,n=a.m.D.y+g,q=c.m.D.x+m,p=c.m.D.y+h,this.j.Set(b-d,n-f),this.k.Set(q-k,p-e),b=
we(this.j),n=we(this.k),.005<b?this.j.le(1/b):this.j.wa(),.005<n?this.k.le(1/n):this.k.wa(),b=this.Na-b-this.u*n,r=Math.max(r,-b),b=Sd(b+.005,-.2,0),p=-this.xb*b,b=-p*this.j.x,n=-p*this.j.y,q=-this.u*p*this.k.x,p=-this.u*p*this.k.y,a.m.D.x+=a.N*b,a.m.D.y+=a.N*n,a.m.R+=a.X*(l*n-g*b),c.m.D.x+=c.N*q,c.m.D.y+=c.N*p,c.m.R+=c.X*(m*p-h*q),eg(a),eg(c));2==this.Pa&&(b=a.G.B,l=this.ma.x-a.m.S.x,g=this.ma.y-a.m.S.y,n=b.n.x*l+b.q.x*g,g=b.n.y*l+b.q.y*g,l=n,b=a.m.D.x+l,n=a.m.D.y+g,this.j.Set(b-d,n-f),b=we(this.j),
.005<b?(this.j.x*=1/b,this.j.y*=1/b):this.j.wa(),b=this.Qc-b,r=Math.max(r,-b),b=Sd(b+.005,-.2,0),p=-this.ca*b,b=-p*this.j.x,n=-p*this.j.y,a.m.D.x+=a.N*b,a.m.D.y+=a.N*n,a.m.R+=a.X*(l*n-g*b),eg(a));2==this.hb&&(b=c.G.B,m=this.na.x-c.m.S.x,h=this.na.y-c.m.S.y,n=b.n.x*m+b.q.x*h,h=b.n.y*m+b.q.y*h,m=n,q=c.m.D.x+m,p=c.m.D.y+h,this.k.Set(q-k,p-e),n=we(this.k),.005<n?(this.k.x*=1/n,this.k.y*=1/n):this.k.wa(),b=this.Xd-n,r=Math.max(r,-b),b=Sd(b+.005,-.2,0),p=-this.Ia*b,q=-p*this.k.x,p=-p*this.k.y,c.m.D.x+=
c.N*q,c.m.D.y+=c.N*p,c.m.R+=c.X*(m*p-h*q),eg(c));return.005>r};var Ci=1;function Di(){ni.call(this);this.C=Z(0,0);this.H=Z(0,0);this.L=Z(0,0);this.Z=Z(0,0);this.type=4;this.C.Set(-1,1);this.H.Set(1,1);this.L.Set(-1,0);this.Z.Set(1,0);this.Hg=1;this.O=!0}Bd(Di,ni);Di.prototype.u=function(){return new Bi(this)};
function Ei(a){li.call(this,a);this.ca=new Td;this.L=new Td;this.Z=new Td;this.fa=new Td;this.k=new Zd(0,0,0);this.C=Z(0,0);this.O=Z(0,0);this.ma=Z(0,0);this.na=Z(0,0);this.j=new Zd(0,0,0);this.Y=new Yd;this.ma.P(a.C);this.na.P(a.H);this.Pa=a.Z;this.j.wa();this.H=0;this.Ia=a.fa;this.hb=a.ca;this.Xd=a.xb;this.Qc=a.Na;this.Na=a.L;this.sc=a.Ia;this.u=0}Bd(Ei,li);function ui(a){return a.ba.m.R-a.aa.m.R-a.Pa}
Ei.prototype.zf=function(a){var c=this.aa,b=this.ba,d,f=0;d=c.G.B;var k=this.ma.x-c.m.S.x,e=this.ma.y-c.m.S.y,f=d.n.x*k+d.q.x*e,e=d.n.y*k+d.q.y*e,k=f;d=b.G.B;var l=this.na.x-b.m.S.x,g=this.na.y-b.m.S.y,f=d.n.x*l+d.q.x*g,g=d.n.y*l+d.q.y*g,l=f;d=c.N;var f=b.N,m=c.X,h=b.X;this.Y.n.x=d+f+e*e*m+g*g*h;this.Y.q.x=-e*k*m-g*l*h;this.Y.j.x=-e*m-g*h;this.Y.n.y=this.Y.q.x;this.Y.q.y=d+f+k*k*m+l*l*h;this.Y.j.y=k*m+l*h;this.Y.n.z=this.Y.j.x;this.Y.q.z=this.Y.j.y;this.Y.j.z=m+h;this.xb=1/(m+h);this.sc||(this.H=
0);if(this.Na){var n=b.m.R-c.m.R-this.Pa;Math.abs(this.hb-this.Ia)<2*Cd?this.u=3:n<=this.Ia?(1!=this.u&&(this.j.z=0),this.u=1):n>=this.hb?(2!=this.u&&(this.j.z=0),this.u=2):(this.u=0,this.j.z=0)}else this.u=0;a.Sg?(this.j.x*=a.jc,this.j.y*=a.jc,this.H*=a.jc,a=this.j.x,n=this.j.y,c.A.x-=d*a,c.A.y-=d*n,c.J-=m*(k*n-e*a+this.H+this.j.z),b.A.x+=f*a,b.A.y+=f*n,b.J+=h*(l*n-g*a+this.H+this.j.z)):(this.j.wa(),this.H=0)};
Ei.prototype.Bf=function(a){var c=this.aa,b=this.ba,d=0,f=d=0,k=0,e=0,l=0,g=c.A,m=c.J,h=b.A,n=b.J,q=c.N,p=b.N,r=c.X,t=b.X;this.sc&&3!=this.u&&(f=this.xb*-(n-m-this.Qc),k=this.H,e=a.Da*this.Xd,this.H=Sd(this.H+f,-e,e),f=this.H-k,m-=r*f,n+=t*f);if(this.Na&&0!=this.u){a=c.G.B;f=this.ma.x-c.m.S.x;k=this.ma.y-c.m.S.y;d=a.n.x*f+a.q.x*k;k=a.n.y*f+a.q.y*k;f=d;a=b.G.B;e=this.na.x-b.m.S.x;l=this.na.y-b.m.S.y;d=a.n.x*e+a.q.x*l;l=a.n.y*e+a.q.y*l;e=d;a=h.x+-n*l-g.x- -m*k;var u=h.y+n*e-g.y-m*f;qe(this.Y,this.k,
-a,-u,-(n-m));3==this.u?this.j.yf(this.k):1==this.u?(d=this.j.z+this.k.z,0>d&&(pe(this.Y,this.O,-a,-u),this.k.x=this.O.x,this.k.y=this.O.y,this.k.z=-this.j.z,this.j.x+=this.O.x,this.j.y+=this.O.y,this.j.z=0)):2==this.u&&(d=this.j.z+this.k.z,0<d&&(pe(this.Y,this.O,-a,-u),this.k.x=this.O.x,this.k.y=this.O.y,this.k.z=-this.j.z,this.j.x+=this.O.x,this.j.y+=this.O.y,this.j.z=0));g.x-=q*this.k.x;g.y-=q*this.k.y;m-=r*(f*this.k.y-k*this.k.x+this.k.z);h.x+=p*this.k.x;h.y+=p*this.k.y;n+=t*(e*this.k.y-l*this.k.x+
this.k.z)}else a=c.G.B,f=this.ma.x-c.m.S.x,k=this.ma.y-c.m.S.y,d=a.n.x*f+a.q.x*k,k=a.n.y*f+a.q.y*k,f=d,a=b.G.B,e=this.na.x-b.m.S.x,l=this.na.y-b.m.S.y,d=a.n.x*e+a.q.x*l,l=a.n.y*e+a.q.y*l,e=d,pe(this.Y,this.C,-(h.x+-n*l-g.x- -m*k),-(h.y+n*e-g.y-m*f)),this.j.x+=this.C.x,this.j.y+=this.C.y,g.x-=q*this.C.x,g.y-=q*this.C.y,m-=r*(f*this.C.y-k*this.C.x),h.x+=p*this.C.x,h.y+=p*this.C.y,n+=t*(e*this.C.y-l*this.C.x);c.A.P(g);c.J=m;b.A.P(h);b.J=n};
Ei.prototype.Af=function(){var a=0,c,b=this.aa,d=this.ba,f=0,k=c=0,e=0,k=0;if(this.Na&&0!=this.u){var a=d.m.R-b.m.R-this.Pa,l=0;3==this.u?(a=Sd(a-this.Ia,-Fd,Fd),l=-this.xb*a,f=Math.abs(a)):1==this.u?(a-=this.Ia,f=-a,a=Sd(a+Cd,-Fd,0),l=-this.xb*a):2==this.u&&(f=a-=this.hb,a=Sd(a-Cd,0,Fd),l=-this.xb*a);b.m.R-=b.X*l;d.m.R+=d.X*l;eg(b);eg(d)}c=b.G.B;l=this.ma.x-b.m.S.x;a=this.ma.y-b.m.S.y;k=c.n.x*l+c.q.x*a;a=c.n.y*l+c.q.y*a;l=k;c=d.G.B;var g=this.na.x-d.m.S.x,m=this.na.y-d.m.S.y,k=c.n.x*g+c.q.x*m,m=
c.n.y*g+c.q.y*m,g=k,e=d.m.D.x+g-b.m.D.x-l,k=d.m.D.y+m-b.m.D.y-a,h=e*e+k*k;c=Math.sqrt(h);var n=b.N,q=d.N,p=b.X,r=d.X;h>.05*.05&&(h=1/(n+q),e=h*-e,k=h*-k,b.m.D.x-=.5*n*e,b.m.D.y-=.5*n*k,d.m.D.x+=.5*q*e,d.m.D.y+=.5*q*k,e=d.m.D.x+g-b.m.D.x-l,k=d.m.D.y+m-b.m.D.y-a);this.L.n.x=n+q;this.L.q.x=0;this.L.n.y=0;this.L.q.y=n+q;this.Z.n.x=p*a*a;this.Z.q.x=-p*l*a;this.Z.n.y=-p*l*a;this.Z.q.y=p*l*l;this.fa.n.x=r*m*m;this.fa.q.x=-r*g*m;this.fa.n.y=-r*g*m;this.fa.q.y=r*g*g;Vd(this.ca,this.L);n=this.ca;q=this.Z;n.n.yf(q.n);
n.q.yf(q.q);n=this.ca;q=this.fa;n.n.yf(q.n);n.q.yf(q.q);Xd(this.ca,Fi,-e,-k);e=Fi.x;k=Fi.y;b.m.D.x-=b.N*e;b.m.D.y-=b.N*k;b.m.R-=b.X*(l*k-a*e);d.m.D.x+=d.N*e;d.m.D.y+=d.N*k;d.m.R+=d.X*(g*k-m*e);eg(b);eg(d);return.005>=c&&f<=Cd};var Fi=Z(0,0);function Gi(){ni.call(this);this.C=Z(0,0);this.H=Z(0,0);this.type=1;this.C.wa();this.H.wa();this.Na=this.xb=this.ca=this.fa=this.Z=0;this.Ia=this.L=!1}Bd(Gi,ni);function Hi(a,c,b,d){a.j=c;a.k=b;a.C=Qd(a.j.G,d);a.H=Qd(a.k.G,d);a.Z=a.k.Mh()-a.j.Mh()}
Gi.prototype.u=function(){return new Ei(this)};function Ii(a){li.call(this,a);this.k=Z(0,0);this.u=Z(0,0);this.j=new Zd(0,0,0);this.Y=new Yd;this.k.P(a.C);this.u.P(a.H);this.C=a.L}Bd(Ii,li);
Ii.prototype.zf=function(a){var c,b=0,d=this.aa,f=this.ba;c=d.G.B;var k=this.k.x-d.m.S.x,e=this.k.y-d.m.S.y,b=c.n.x*k+c.q.x*e,e=c.n.y*k+c.q.y*e,k=b;c=f.G.B;var l=this.u.x-f.m.S.x,g=this.u.y-f.m.S.y,b=c.n.x*l+c.q.x*g,g=c.n.y*l+c.q.y*g,l=b;c=d.N;var b=f.N,m=d.X,h=f.X;this.Y.n.x=c+b+e*e*m+g*g*h;this.Y.q.x=-e*k*m-g*l*h;this.Y.j.x=-e*m-g*h;this.Y.n.y=this.Y.q.x;this.Y.q.y=c+b+k*k*m+l*l*h;this.Y.j.y=k*m+l*h;this.Y.n.z=this.Y.j.x;this.Y.q.z=this.Y.j.y;this.Y.j.z=m+h;a.Sg?(this.j.x*=a.jc,this.j.y*=a.jc,this.j.z*=
a.jc,d.A.x-=c*this.j.x,d.A.y-=c*this.j.y,d.J-=m*(k*this.j.y-e*this.j.x+this.j.z),f.A.x+=b*this.j.x,f.A.y+=b*this.j.y,f.J+=h*(l*this.j.y-g*this.j.x+this.j.z)):this.j.wa()};
Ii.prototype.Bf=function(){var a,c=0,b=this.aa,d=this.ba,f=b.A,k=b.J,e=d.A,l=d.J,g=b.N,m=d.N,h=b.X,n=d.X;a=b.G.B;var q=this.k.x-b.m.S.x,p=this.k.y-b.m.S.y,c=a.n.x*q+a.q.x*p,p=a.n.y*q+a.q.y*p,q=c;a=d.G.B;var r=this.u.x-d.m.S.x,t=this.u.y-d.m.S.y,c=a.n.x*r+a.q.x*t,t=a.n.y*r+a.q.y*t,r=c;a=new Zd(0,0,0);qe(this.Y,a,-(e.x-l*t-f.x+k*p),-(e.y+l*r-f.y-k*q),-(l-k));this.j.yf(a);f.x-=g*a.x;f.y-=g*a.y;k-=h*(q*a.y-p*a.x+a.z);e.x+=m*a.x;e.y+=m*a.y;l+=n*(r*a.y-t*a.x+a.z);b.J=k;d.J=l};
Ii.prototype.Af=function(){var a,c=0,b=this.aa,d=this.ba;a=b.G.B;var f=this.k.x-b.m.S.x,k=this.k.y-b.m.S.y,c=a.n.x*f+a.q.x*k,k=a.n.y*f+a.q.y*k,f=c;a=d.G.B;var e=this.u.x-d.m.S.x,l=this.u.y-d.m.S.y,c=a.n.x*e+a.q.x*l,l=a.n.y*e+a.q.y*l,e=c;a=b.N;var c=d.N,g=b.X,m=d.X,h=d.m.D.x+e-b.m.D.x-f,n=d.m.D.y+l-b.m.D.y-k,q=d.m.R-b.m.R-this.C,p=Math.sqrt(h*h+n*n),r=Math.abs(q);.05<p&&(g*=1,m*=1);this.Y.n.x=a+c+k*k*g+l*l*m;this.Y.q.x=-k*f*g-l*e*m;this.Y.j.x=-k*g-l*m;this.Y.n.y=this.Y.q.x;this.Y.q.y=a+c+f*f*g+e*e*
m;this.Y.j.y=f*g+e*m;this.Y.n.z=this.Y.j.x;this.Y.q.z=this.Y.j.y;this.Y.j.z=g+m;var t=new Zd(0,0,0);qe(this.Y,t,-h,-n,-q);b.m.D.x-=a*t.x;b.m.D.y-=a*t.y;b.m.R-=g*(f*t.y-k*t.x+t.z);d.m.D.x+=c*t.x;d.m.D.y+=c*t.y;d.m.R+=m*(e*t.y-l*t.x+t.z);eg(b);eg(d);return.005>=p&&r<=Cd};function Ji(){ni.call(this);this.C=Z(0,0);this.H=Z(0,0);this.type=8;this.L=0}Bd(Ji,ni);Ji.prototype.u=function(){return new Ii(this)};
var Rh=[new Je,new Je],ci=[new Je,new Je],di=[new Je,new Je],Sh=Z(0,0),Th=Z(0,0),Uh=Z(0,0),$h=Z(0,0),Yh=Z(0,0),Zh=Z(0,0),ai=Z(0,0),bi=Z(0,0),ch=0,ih=0,jh=0,gh=0,hh=0,dh=new Lf,eh=new Ze,qf=new se,wf=new se,pf=new function(){this.Aa=Z(0,0);this.j=Z(0,0)},fh=new $e,dg=new se,wg=new ug;new function(){this.position=Z(0,0);Z(0,0);Z(0,0);this.id=new He};new se;
var kh=new re,lh=new re,bh=new Mf,Fh=new function(){this.j=Z(0,0);this.qa=[];for(var a=this.Qb=0;2>a;a++)this.qa[a]=Z(0,0)},Mh=new function(){this.j=Z(0,0);this.k=[];this.qa=[];for(var a=0;2>a;a++)this.qa[a]=Z(0,0)};function Qi(a,c,b,d,f,k){var e;if(e=(b+.1>=a&&a>=f-.1||b-.1<=a&&a<=f+.1)&&(d+.1>=c&&c>=k-.1||d-.1<=c&&c<=k+.1))e=.1<Math.abs(f-b)?.1>Math.abs((k-d)/(f-b)*(a-b)+d-c):.1>Math.abs(a-b);return e}
function Si(a,c){var b=Ti(a),d=[],f,k,e,l,g,m,h,n,q;g=0;for(m=b.length;g<m;g++){k=b[g];f=[];f.length=k.length;h=q=0;for(n=k.length;h<n;h++)e=k[h],l=k[(h+1)%n],q+=e.x*l.y-e.y*l.x,f[h]=Z(e.x,e.y);q=Math.abs(q/2);q>=.001*c&&d.push(f)}return d}
function Ti(a){var c=[],b=0,d=0,f=0,k=0,e=0,l=e=0,g=0,m=0,h=0,k=0,n,q,p,r,t,u=k=b=0,v=0,f=[],g=[],A=!1,C=[],w=[];for(w.push(a);w.length;){c=w[0];d=c.length;A=!0;for(b=0;b<d;b++)if(m=b,h=b<d-1?b+1:b+1-d,k=b<d-2?b+2:b+2-d,a=c[m],n=c[h],q=c[k],k=a.x,f=a.y,g=n.x,e=n.y,l=q.x,q=q.y,k=k*e+g*q+l*f-f*g-e*l-q*k,0>k){A=!1;g=1E9;for(f=0;f<d;f++)if(f!==m&&f!==h){b=f;k=f<d-1?f+1:0;p=c[b];r=c[k];l=a.x;q=a.y;var E=n.x,z=n.y,e=p.x;p=p.y;var F=r.x;r=r.y;var B=E-l,x=z-q,H=F-e,V=r-p,H=(H*(p-q)-V*(e-l))/(x*H-B*V),B=l+
H*B,x=q+H*x,l=Qi(E,z,l,q,B,x),e=Qi(B,x,e,p,F,r);if(q=l&&e?Z(B,x):null)e=n.x-q.x,l=n.y-q.y,e=e*e+l*l,e<g&&(v=b,u=k,t=q,g=e)}if(1E9===g)return[];f=[];g=[];b=v;k=u;p=c[b];r=c[k];u=t.y;v=r.y;.1>Math.abs(r.x-t.x)&&.1>Math.abs(v-u)||f.push(t);u=t.y;v=p.y;.1>Math.abs(p.x-t.x)&&.1>Math.abs(v-u)||g.push(t);v=-1;for(u=m;;){if(u!==k)f.push(c[u]);else{if(0>v||v>=d)return[];Qi(r.x,r.y,c[v].x,c[v].y,a.x,a.y)||f.push(c[u]);break}v=u;0>u-1?u=d-1:u--}f.reverse();v=-1;for(u=h;;){if(u!==b)g.push(c[u]);else{if(0>v||
v>=d)return[];u!==b||Qi(p.x,p.y,c[v].x,c[v].y,n.x,n.y)||g.push(c[u]);break}v=u;u+1>d-1?u=0:u++}w.push(f,g);w.shift();break}A&&C.push(w.shift())}return C}
function Wi(a){for(var c=0;4E3>c;c++)ue.push(new te(0,0));this.c=a;this.Vd=new Hg(Z(0,10),!0);this.gq=-1;a=new ug;a.behavior=this;a.BeginContact=function(a){this.behavior.c.Qu(a.$b.gb().Ff.I,a.Pb.gb().Ff.I)};this.Vd.j.k=a;a=new rg;a.behavior=this;a.j=function(a,c){if(this.behavior.Kx)return!0;var f=a.gb().Ff.I.type,k=c.gb().Ff.I.type,e=f.ja.Physics_DisabledCollisions;return e&&e.contains(k)?!1:(e=k.ja.Physics_DisabledCollisions)&&e.contains(f)?!1:!0};this.Vd.j.u=a;this.GB=0;this.Rl=8;this.rl=3;this.Kx=
!0}
(function(){function a(){}var c=Wi.prototype;c.Xa=function(a){this.behavior=a;this.c=a.c};c.Xa.prototype.ra=function(){};c.La=function(a,b){this.type=a;this.behavior=a.behavior;this.I=b;this.c=a.c;this.Vd=this.behavior.Vd};var b=c.La.prototype;b.ra=function(){this.Lp=0!==this.W[0];this.ws=this.W[1];this.Oq=0!==this.W[2];this.mh=this.W[3];this.oh=this.W[4];this.Fh=this.W[5];this.wj=this.W[6];this.Zi=this.W[7];this.aj=0!==this.W[8];this.enabled=0!==this.W[9];this.body=null;this.I.lb();this.pn=this.I.x;this.qn=
this.I.y;this.Pf=this.I.M;this.cq=this.hq=0;this.Ou=this.fq=!1;this.$p=null;this.aq=-1;this.he?(this.he.length=0,this.Ue.length=0,this.xg.clear()):(this.he=[],this.Ue=[],this.xg=new fa);var a=this;this.Pd||(this.eu=function(b){a.Cq(b)});this.c.gs(this.eu)};b.Hu=function(){this.I.lb();this.cp();this.$p=this.I.zb;this.aq=this.I.la};b.Ii=function(){this.Lm();this.Ue.length=0;this.xg.clear();this.body&&(Lg(this.Vd,this.body),this.body=null);this.c.kB(this.eu)};b.Nc=function(){var a={e:this.enabled,im:this.Lp,
pr:this.Oq,d:this.mh,fr:this.oh,re:this.Fh,ld:this.wj,ad:this.Zi,b:this.aj,mcj:this.Ue};if(this.enabled){var b=Z(0,0);b.P(this.body.A);a.vx=b.x;a.vy=b.y;a.om=this.body.J}return a};b.qd=function(a){this.Lm();this.Ue.length=0;this.xg.clear();this.body&&(Lg(this.Vd,this.body),this.body=null);this.enabled=a.e;this.Lp=a.im;this.Oq=a.pr;this.mh=a.d;this.oh=a.fr;this.Fh=a.re;this.wj=a.ld;this.Zi=a.ad;this.aj=a.b;this.pn=this.I.x;this.qn=this.I.y;this.Pf=this.I.M;this.hq=this.I.width;this.cq=this.I.height;
this.enabled&&(this.cp(),Zf(this.body,Z(a.vx,a.vy)),this.body.em(a.om),0===a.vx&&0===a.vy&&0===a.om||$f(this.body,!0),this.Ue=a.mcj)};b.gg=function(){this.enabled&&this.Tq();this.behavior.gq=this.c.Ih-1};b.Cq=function(a){var b,c,d,g=a.uid;d=b=0;for(c=this.Ue.length;b<c;b++)this.Ue[d]=this.Ue[b],d<this.he.length&&(this.he[d]=this.he[b]),this.Ue[b].ob[1]==g?Mg(this.Vd,this.he[b]):d++;this.Ue.length=d;d<this.he.length&&(this.he.length=d);this.xg.remove(a)};b.Lm=function(){var a,b;a=0;for(b=this.he.length;a<
b;a++)Mg(this.Vd,this.he[a]);this.he.length=0};b.Tq=function(){var a,b,c;a=0;for(b=this.Ue.length;a<b;a++)switch(c=this.Ue[a],c.type){case 0:this.jy(c.ob[0],c.ob[1],c.ob[2],c.ob[3],c.ob[4]);break;case 1:this.my(c.ob[0],c.ob[1]);break;case 2:this.ky(c.ob[0],c.ob[1],c.ob[2],c.ob[3])}};b.gy=function(){this.body&&(this.Lm(),Lg(this.Vd,this.body),this.body=null,this.I.ja.Fe=null)};var d=[];b.cp=function(){if(this.enabled){var a=this.I,b=!1,c=null,l=null,g,m,h,n,q,p,r,t,u,v,A,C,w;if(this.body){b=!0;c=Z(0,
0);c.P(this.body.A);l=this.body.J;t=this.xg.dg();g=0;for(m=t.length;g<m;g++)u=t[g].ja.Fe.Ff,u.Lm();this.gy()}u=new Cg;u.mh=this.mh;u.oh=this.oh;u.Fh=this.Fh;g=new gg;g.type=this.Lp?0:2;a.lb();g.position.x=.02*a.Eb.Ah();g.position.y=.02*a.Eb.Bh();g.M=a.M;g.j=this.Oq;g.wj=this.wj;g.Zi=this.Zi;g.aj=this.aj;t=this.I.Ta&&!this.I.Ta.si();this.body=Jg(this.Vd,g);this.body.Ff=this;g=this.ws;t||this.I.Og||0!==this.ws||(g=1);m=Math.max(Math.abs(a.width),1);h=Math.max(Math.abs(a.height),1);v=0>a.width;A=0>a.height;
if(0===g)if(a.Og)for(C=a.Eb.Ah()-a.x,r=a.Eb.Bh()-a.y,a.NC(d),t=[],g=0,m=d.length;g<m;++g){v=d[g];A=v.gB;if(v.Tf){if(!v.Tf.Cm){q=v.Tf.cc;n=v.Tf.ze;for(h=0;h<n;++h)t.push(Z(q[2*h],q[2*h+1]));h=v.id&3758096384;(-2147483648===h||1073741824===h||536870912===h||h&-2147483648&&h&1073741824&&h&536870912)&&t.reverse();v.Tf.Cm=Si(t,(A.right-A.left)*(A.bottom-A.top));h=0;for(n=t.length;h<n;++h)ve(t[h]);t.length=0}h=0;for(n=v.Tf.Cm.length;h<n;++h){w=v.Tf.Cm[h];q=0;for(p=w.length;q<p;++q)t.push(Z(.02*(A.left+
w[q].x-C),.02*(A.top+w[q].y-r)));u.shape=new De;Fe(u.shape,t);Sf(this.body,u);q=0;for(p=t.length;q<p;++q)ve(t[q]);t.length=0}}else t.push(Z(.02*(A.left-C),.02*(A.top-r))),t.push(Z(.02*(A.right-C),.02*(A.top-r))),t.push(Z(.02*(A.right-C),.02*(A.bottom-r))),t.push(Z(.02*(A.left-C),.02*(A.bottom-r))),u.shape=new De,Fe(u.shape,t),Sf(this.body,u);h=0;for(n=t.length;h<n;++h)ve(t[h]);t.length=0}else{g=a.M;a.M=0;a.ua();a.lb();C=a.Eb.Ah()-a.x;r=a.Eb.Bh()-a.y;a.M=g;a.ua();a.Ta.Uh(v?-m:m,A?-h:h,0);q=a.Ta.cc;
n=a.Ta.ze;t=[];t.length=n;for(g=0;g<n;g++)t[g]=Z(q[2*g]-C,q[2*g+1]-r);v!==A&&t.reverse();C=Si(t,m*h);for(g=0;g<n;g++)ve(t[g]);if(C.length)for(g=0,m=C.length;g<m;g++){t=C[g];h=0;for(n=t.length;h<n;h++)r=t[h],r.x*=.02,r.y*=.02;u.shape=new De;Fe(u.shape,t);Sf(this.body,u);h=0;for(n=t.length;h<n;h++)ve(t[h])}else u.shape=new De,Ge(u.shape,.01*m,.01*h),Sf(this.body,u)}else 1===g?(u.shape=new De,Ge(u.shape,.01*m,.01*h)):u.shape=new Ae(.01*Math.min(m,h)),Sf(this.body,u);a.ja.Fe=this.body;this.hq=a.width;
this.cq=a.height;if(b)for(Zf(this.body,c),this.body.em(l),ve(c),this.Tq(),t=this.xg.dg(),g=0,m=t.length;g<m;g++)u=t[g].ja.Fe.Ff,u.Tq();d.length=0}};b.ec=function(){if(this.enabled){var a=this.I,b;0===this.behavior.GB?b=this.c.Jh/60:(b=this.c.gi(this.I),b>1/30&&(b=1/30));if(this.c.Ih>this.behavior.gq&&0<this.c.Jh){this.Vd.$g(b,this.behavior.Rl,this.behavior.rl);for(b=this.Vd.Lh.Za(kg);b;b=b.Oa())b.body.k.wa(),b.body.C=0;this.behavior.gq=this.c.Ih}if(this.Ou||a.width!==this.hq||a.height!==this.cq||
a.zb!==this.$p||a.la!==this.aq||a.Og&&a.Bu)this.cp(),this.Ou=!1,this.$p=a.zb,this.aq=a.la,a.Og&&a.Bu&&(a.Bu=!1);b=a.M!==this.Pf;if(a.x!==this.pn||a.y!==this.qn){a.lb();var c=a.Eb.Ah(),d=a.Eb.Bh(),g=c-this.pn,m=d-this.qn,h=this.body,c=Z(.02*c,.02*d);Wf(h,c,h.Mh());Zf(this.body,Z(g,m));this.fq=!0;$f(this.body,!0)}else this.fq&&(this.fq=!1,Zf(this.body,Z(0,0)),g=this.body,m=Z(.02*a.Eb.Ah(),.02*a.Eb.Bh()),Wf(g,m,g.Mh()));b&&(this.body.Yr(a.M),$f(this.body,!0));g=this.body.G.position;b=g.x/.02;g=g.y/.02;
m=this.body.Mh();if(b!==a.x||g!==a.y||m!==a.M)if(a.x=b,a.y=g,a.M=m,a.ua(),a.lb(),b=a.Eb.Ah()-a.x,g=a.Eb.Bh()-a.y,0!==b||0!==g)a.x-=b,a.y-=g,a.ua();this.pn=a.x;this.qn=a.y;this.Pf=a.M}};b.zk=function(a){return-1!==a&&this.I.Oe?0===a&&this.body?(this.body.G.position.x+this.body.m.S.x)/.02:this.I.Oe(a,!0):this.I.x};b.Ak=function(a){return-1!==a&&this.I.Oe?0===a&&this.body?(this.body.G.position.y+this.body.m.S.y)/.02:this.I.Oe(a,!1):this.I.y};c.K=new function(){};a.prototype.Wg=function(a,b,c){if(this.enabled){var d=
this.zk(c);c=this.Ak(c);this.body.Wg(Z(a,b),Z(.02*d,.02*c))}};a.prototype.Sv=function(a,b,c){if(this.enabled){b=J(b);var d=this.zk(c);c=this.Ak(c);this.body.Wg(Z(Math.cos(b)*a,Math.sin(b)*a),Z(.02*d,.02*c))}};a.prototype.Co=function(a){this.enabled&&this.body.Co(J(a))};a.prototype.em=function(a){this.enabled&&(this.body.em(J(a)),$f(this.body,!0))};b.jy=function(a,b,c,d,g){if(this.enabled){var m=this.c.ii(b);if(m&&m!=this.I&&m.ja.Fe){m.ja.Fe.Ff.xg.add(this.I);var h=this.zk(a),n=this.Ak(a),q,p;m.Oe?
(q=m.Oe(c,!0),p=m.Oe(c,!1)):(q=m.x,p=m.y);c=h-q;a=n-p;b=new pi;m=m.ja.Fe;h=Z(.02*h,.02*n);q=Z(.02*q,.02*p);b.j=this.body;b.k=m;b.L.P(Qd(b.j.G,h));b.Z.P(Qd(b.k.G,q));m=q.x-h.x;h=q.y-h.y;b.length=Math.sqrt(m*m+h*h);b.H=0;b.C=0;b.length=.02*Math.sqrt(c*c+a*a);b.C=d;b.H=g;this.he.push(Ng(this.Vd,b))}}};b.my=function(a,b){if(this.enabled){var c=this.c.ii(b);if(c&&c!=this.I&&c.ja.Fe){c.ja.Fe.Ff.xg.add(this.I);var d=this.zk(a),g=this.Ak(a),m=new Gi;Hi(m,this.body,c.ja.Fe,Z(.02*d,.02*g));this.he.push(Ng(this.Vd,
m))}}};b.ky=function(a,b,c,d){if(this.enabled&&(b=this.c.ii(b))&&b!=this.I&&b.ja.Fe){b.ja.Fe.Ff.xg.add(this.I);var g=this.zk(a);a=this.Ak(a);var m=new Gi;Hi(m,this.body,b.ja.Fe,Z(.02*g,.02*a));m.L=!0;m.fa=J(c);m.ca=J(d);this.he.push(Ng(this.Vd,m))}};c.pa=new a;c.Ja=new function(){}})();function Xi(a){this.c=a}
(function(){var a=Xi.prototype;a.Xa=function(a){this.behavior=a;this.c=a.c};a.Xa.prototype.ra=function(){};a.La=function(a,c){this.type=a;this.behavior=a.behavior;this.I=c;this.c=a.c};var c=a.La.prototype;c.ra=function(){this.speed=J(this.W[0]);this.fg=J(this.W[1])};c.Nc=function(){return{speed:this.speed,acc:this.fg}};c.qd=function(a){this.speed=a.speed;this.fg=a.acc};c.ec=function(){var a=this.c.gi(this.I);0!==a&&(0!==this.fg&&(this.speed+=this.fg*a),0!==this.speed&&(this.I.M=Sa(this.I.M+this.speed*
a),this.I.ua()))};a.K=new function(){};a.pa=new function(){};a.Ja=new function(){}})();function Yi(a){this.c=a}
(function(){function a(){}var c=Yi.prototype;c.Xa=function(a){this.behavior=a;this.c=a.c};c.Xa.prototype.ra=function(){};c.La=function(a,b){this.type=a;this.behavior=a.behavior;this.I=b;this.c=a.c;this.yc=0};var b=c.La.prototype,d=2*Math.PI,f=Math.PI/2,k=3*Math.PI/2;b.ra=function(){this.tc=1===this.W[0];this.kl=this.W[1];this.Hr=this.W[2];this.Eg=this.W[3];this.Eg+=Math.random()*this.W[4];0===this.Eg?this.yc=0:(this.yc=this.W[5]/this.Eg*d,this.yc+=Math.random()*this.W[6]/this.Eg*d);this.Md=this.W[7];
this.Md+=Math.random()*this.W[8];this.Hg=this.oi=this.$a=0;this.init()};b.Nc=function(){return{i:this.yc,a:this.tc,mv:this.kl,w:this.Hr,p:this.Eg,mag:this.Md,iv:this.$a,iv2:this.oi,r:this.Hg,lkv:this.de,lkv2:this.Yk}};b.qd=function(a){this.yc=a.i;this.tc=a.a;this.kl=a.mv;this.Hr=a.w;this.Eg=a.p;this.Md=a.mag;this.$a=a.iv;this.oi=a.iv2||0;this.Hg=a.r;this.de=a.lkv;this.Yk=a.lkv2||0};b.init=function(){switch(this.kl){case 0:this.$a=this.I.x;break;case 1:this.$a=this.I.y;break;case 2:this.$a=this.I.width;
this.Hg=this.I.height/this.I.width;break;case 3:this.$a=this.I.width;break;case 4:this.$a=this.I.height;break;case 5:this.$a=this.I.M;this.Md=J(this.Md);break;case 6:this.$a=this.I.opacity;break;case 7:this.$a=0;break;case 8:this.$a=this.I.x,this.oi=this.I.y}this.de=this.$a;this.Yk=this.oi};b.Tg=function(a){a=a%d;switch(this.Hr){case 0:return Math.sin(a);case 1:return a<=f?a/f:a<=k?1-2*(a-f)/Math.PI:(a-k)/f-1;case 2:return 2*a/d-1;case 3:return-2*a/d+1;case 4:return a<Math.PI?-1:1}return 0};b.ec=
function(){var a=this.c.gi(this.I);if(this.tc&&0!==a){0===this.Eg?this.yc=0:(this.yc+=a/this.Eg*d,this.yc=this.yc%d);switch(this.kl){case 0:this.I.x!==this.de&&(this.$a+=this.I.x-this.de);this.I.x=this.$a+this.Tg(this.yc)*this.Md;this.de=this.I.x;break;case 1:this.I.y!==this.de&&(this.$a+=this.I.y-this.de);this.I.y=this.$a+this.Tg(this.yc)*this.Md;this.de=this.I.y;break;case 2:this.I.width=this.$a+this.Tg(this.yc)*this.Md;this.I.height=this.I.width*this.Hg;break;case 3:this.I.width=this.$a+this.Tg(this.yc)*
this.Md;break;case 4:this.I.height=this.$a+this.Tg(this.yc)*this.Md;break;case 5:this.I.M!==this.de&&(this.$a=Sa(this.$a+(this.I.M-this.de)));this.I.M=Sa(this.$a+this.Tg(this.yc)*this.Md);this.de=this.I.M;break;case 6:this.I.opacity=this.$a+this.Tg(this.yc)*this.Md/100;0>this.I.opacity?this.I.opacity=0:1<this.I.opacity&&(this.I.opacity=1);break;case 8:this.I.x!==this.de&&(this.$a+=this.I.x-this.de),this.I.y!==this.Yk&&(this.oi+=this.I.y-this.Yk),this.I.x=this.$a+Math.cos(this.I.M)*this.Tg(this.yc)*
this.Md,this.I.y=this.oi+Math.sin(this.I.M)*this.Tg(this.yc)*this.Md,this.de=this.I.x,this.Yk=this.I.y}this.I.ua()}};b.pu=function(a,b){switch(this.kl){case 2:this.$a*=b.width/a.width;this.Hg=b.height/b.width;break;case 3:this.$a*=b.width/a.width;break;case 4:this.$a*=b.height/a.height}};a.prototype.Ph=function(){return this.tc};c.K=new a;c.pa=new function(){};c.Ja=new function(){}})();function Zi(a){this.c=a}
(function(){var a=Zi.prototype;a.Xa=function(a){this.behavior=a;this.c=a.c};a.Xa.prototype.ra=function(){};a.La=function(a,b){this.type=a;this.behavior=a.behavior;this.I=b;this.c=a.c};a=a.La.prototype;a.ra=function(){this.mode=this.W[0]};a.ec=function(){var a=this.I;a.lb();var b=a.Wb,d=a.V,f=d.Dc,k=0,e=0,l=0,g=0;0===this.mode?(e=f.width,g=f.height):(k=d.ub,e=d.Bb,l=d.wb,g=d.Ab);b.right<k?(a.x=e-1+(a.x-b.left),a.ua()):b.left>e?(a.x=k+1-(b.right-a.x),a.ua()):b.bottom<l?(a.y=g-1+(a.y-b.top),a.ua()):
b.top>g&&(a.y=l+1-(b.bottom-a.y),a.ua())}})();
function nd(){return[vd,qd,rd,sd,td,pd,ud,od,wd,xd,yd,Ad,Yi,Wi,Xi,zd,Zi,U.prototype.K.Or,od.prototype.pa.bx,U.prototype.Ja.random,U.prototype.pa.hx,U.prototype.pa.jx,wd.prototype.pa.$r,yd.prototype.K.xw,yd.prototype.Ja.yw,U.prototype.K.jw,xd.prototype.K.Ho,rd.prototype.pa.Play,U.prototype.pa.mw,td.prototype.K.Nr,U.prototype.K.bw,U.prototype.K.Lr,U.prototype.K.sw,pd.prototype.K.dm,qd.prototype.K.Tv,qd.prototype.K.$v,U.prototype.pa.fw,qd.prototype.Ja.hw,od.prototype.pa.gx,od.prototype.pa.rx,qd.prototype.Ja.gw,
qd.prototype.pa.qx,U.prototype.Ja["int"],od.prototype.Ja.Ax,od.prototype.pa.ax,qd.prototype.Ja.Uv,od.prototype.pa.ix,od.prototype.Ja.No,od.prototype.pa.cx,pd.prototype.pa.CallFunction,U.prototype.K.kw,pd.prototype.Ja.Zw,U.prototype.Ja.GA,od.prototype.K.aw,od.prototype.pa.zw,od.prototype.K.qw,U.prototype.K.lw,U.prototype.pa.Qv,Ad.prototype.pa.wx,U.prototype.Ja.AA,od.prototype.pa.Aw,od.prototype.pa.tx,Wi.prototype.pa.Sv,qd.prototype.K.$j,U.prototype.pa.Cx,U.prototype.K.Yv,od.prototype.K.$w,qd.prototype.pa.Yj,
od.prototype.pa.vd,U.prototype.Ja.BA,qd.prototype.pa.Jo,vd.prototype.pa.Zr,vd.prototype.pa.Jo,U.prototype.Ja.Da,od.prototype.K.ew,U.prototype.K.iw,xd.prototype.K.uw,qd.prototype.pa.ox,od.prototype.Ja.Mo,od.prototype.pa.Zr,U.prototype.K.Zv,U.prototype.Ja.If,xd.prototype.K.Go,qd.prototype.K.dw,U.prototype.Ja.CA,od.prototype.K.Kr,U.prototype.Ja.Xx,U.prototype.pa.yx,od.prototype.pa.mx,yd.prototype.pa.xx]};
